var sR=Object.defineProperty,oR=Object.defineProperties;var aR=Object.getOwnPropertyDescriptors;var O_=Object.getOwnPropertySymbols;var cR=Object.prototype.hasOwnProperty,uR=Object.prototype.propertyIsEnumerable;var k_=(t,e,n)=>e in t?sR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||={})cR.call(e,n)&&k_(t,n,e[n]);if(O_)for(var n of O_(e))uR.call(e,n)&&k_(t,n,e[n]);return t},te=(t,e)=>oR(t,aR(e));var g=(t,e)=>()=>(t&&(e=t(t=0)),e);var lR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function ze(t){let e=F_;return F_=t,e}function dR(t){if(!(Kd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===zd)){if(!t.producerMustRecompute(t)&&!Gd(t)){t.dirty=!1,t.lastCleanEpoch=zd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=zd}}function U_(t){return t&&(t.nextProducerIndex=0),ze(t)}function j_(t,e){if(ze(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Kd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Wd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Gd(t){Wa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(dR(n),r!==n.version))return!0}return!1}function B_(t){if(Wa(t),Kd(t))for(let e=0;e<t.producerNode.length;e++)Wd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Wd(t,e){if(hR(t),Wa(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Wd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Wa(i),i.producerIndexOfThis[r]=e}}function Kd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function hR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function fR(){throw new Error}function $_(t){pR=t}var F_,zd,V_,L_,pR,H_=g(()=>{"use strict";F_=null,zd=1,V_=Symbol("SIGNAL");L_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};pR=fR});function O(t){return typeof t=="function"}var De=g(()=>{"use strict"});function pi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ka=g(()=>{"use strict"});var Qa,q_=g(()=>{"use strict";Ka();Qa=pi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n})});function rr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ya=g(()=>{"use strict"});function Za(t){return t instanceof ve||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function z_(t){O(t)?t():t.unsubscribe()}var ve,Qd,ir=g(()=>{"use strict";De();q_();Ya();ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(s){e=s instanceof Qa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{z_(s)}catch(o){e=e??[],o instanceof Qa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)z_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&rr(n,e)}remove(e){let{_finalizers:n}=this;n&&rr(n,e),e instanceof t&&e._removeParent(this)}};ve.EMPTY=(()=>{let t=new ve;return t.closed=!0,t})();Qd=ve.EMPTY});var Tt,ks=g(()=>{"use strict";Tt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var gi,Yd=g(()=>{"use strict";gi={setTimeout(t,e,...n){let{delegate:r}=gi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=gi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0}});function Ja(t){gi.setTimeout(()=>{let{onUnhandledError:e}=Tt;if(e)e(t);else throw t})}var Zd=g(()=>{"use strict";ks();Yd()});function Fs(){}var Jd=g(()=>{"use strict"});function W_(t){return Xd("E",void 0,t)}function K_(t){return Xd("N",t,void 0)}function Xd(t,e,n){return{kind:t,value:e,error:n}}var G_,Q_=g(()=>{"use strict";G_=Xd("C",void 0,void 0)});function mi(t){if(Tt.useDeprecatedSynchronousErrorHandling){let e=!sr;if(e&&(sr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=sr;if(sr=null,n)throw r}}else t()}function Y_(t){Tt.useDeprecatedSynchronousErrorHandling&&sr&&(sr.errorThrown=!0,sr.error=t)}var sr,Xa=g(()=>{"use strict";ks();sr=null});function eh(t,e){return gR.call(t,e)}function ec(t){Tt.useDeprecatedSynchronousErrorHandling?Y_(t):Ja(t)}function mR(t){throw t}function th(t,e){let{onStoppedNotification:n}=Tt;n&&gi.setTimeout(()=>n(t,e))}var or,gR,nh,yi,yR,rh=g(()=>{"use strict";De();ir();ks();Zd();Jd();Q_();Yd();Xa();or=class extends ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Za(e)&&e.add(this)):this.destination=yR}static create(e,n,r){return new yi(e,n,r)}next(e){this.isStopped?th(K_(e),this):this._next(e)}error(e){this.isStopped?th(W_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?th(G_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gR=Function.prototype.bind;nh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ec(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ec(r)}else ec(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ec(n)}}},yi=class extends or{constructor(e,n,r){super();let i;if(O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Tt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&eh(e.next,s),error:e.error&&eh(e.error,s),complete:e.complete&&eh(e.complete,s)}):i=e}this.destination=new nh(i)}};yR={closed:!0,next:Fs,error:mR,complete:Fs}});var vi,tc=g(()=>{"use strict";vi=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function it(t){return t}var ar=g(()=>{"use strict"});function nc(...t){return ih(t)}function ih(t){return t.length===0?it:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var sh=g(()=>{"use strict";ar()});function Z_(t){var e;return(e=t??Tt.Promise)!==null&&e!==void 0?e:Promise}function vR(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}function _R(t){return t&&t instanceof or||vR(t)&&Za(t)}var q,Ye=g(()=>{"use strict";rh();ir();tc();sh();ks();De();Xa();q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=_R(n)?n:new yi(n,r,i);return mi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Z_(r),new r((i,s)=>{let o=new yi({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[vi](){return this}pipe(...n){return ih(n)(this)}toPromise(n){return n=Z_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})()});function oh(t){return O(t?.lift)}function K(t){return e=>{if(oh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var Ce=g(()=>{"use strict";De()});function z(t,e,n,r,i){return new ah(t,e,n,r,i)}var ah,be=g(()=>{"use strict";rh();ah=class extends or{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}}});function _i(){return K((t,e)=>{let n=null;t._refCount++;let r=z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ch=g(()=>{"use strict";Ce();be()});var Ii,J_=g(()=>{"use strict";Ye();ir();ch();be();Ce();Ii=class extends q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,oh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ve;let n=this.getSubject();e.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ve.EMPTY)}return e}refCount(){return _i()(this)}}});var X_,eI=g(()=>{"use strict";Ka();X_=pi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var Ge,rc,ic=g(()=>{"use strict";Ye();ir();eI();Ya();Xa();Ge=(()=>{class t extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new rc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new X_}next(n){mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Qd:(this.currentObservers=null,s.push(n),new ve(()=>{this.currentObservers=null,rr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new q;return n.source=this,n}}return t.create=(e,n)=>new rc(e,n),t})(),rc=class extends Ge{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Qd}}});var xe,tI=g(()=>{"use strict";ic();xe=class extends Ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}});var Vs,uh=g(()=>{"use strict";Vs={now(){return(Vs.delegate||Date).now()},delegate:void 0}});var Ls,nI=g(()=>{"use strict";ic();uh();Ls=class extends Ge{constructor(e=1/0,n=1/0,r=Vs){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}});var sc,rI=g(()=>{"use strict";ir();sc=class extends ve{constructor(e,n){super()}schedule(e,n=0){return this}}});var Us,iI=g(()=>{"use strict";Us={setInterval(t,e,...n){let{delegate:r}=Us;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Us;return(e?.clearInterval||clearInterval)(t)},delegate:void 0}});var wi,lh=g(()=>{"use strict";rI();iI();Ya();wi=class extends sc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Us.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Us.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,rr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}});var Ei,sI=g(()=>{"use strict";uh();Ei=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ei.now=Vs.now});var Di,dh=g(()=>{"use strict";sI();Di=class extends Ei{constructor(e,n=Ei.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}});var hh,oI=g(()=>{"use strict";lh();dh();hh=new Di(wi)});var oc,aI=g(()=>{"use strict";lh();oc=class extends wi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}});var ac,cI=g(()=>{"use strict";dh();ac=class extends Di{}});var fh,uI=g(()=>{"use strict";aI();cI();fh=new ac(oc)});var Ze,js=g(()=>{"use strict";Ye();Ze=new q(t=>t.complete())});function lI(t){return t&&O(t.schedule)}var dI=g(()=>{"use strict";De()});function ph(t){return t[t.length-1]}function cc(t){return O(ph(t))?t.pop():void 0}function Lt(t){return lI(ph(t))?t.pop():void 0}function hI(t,e){return typeof ph(t)=="number"?t.pop():e}var cr=g(()=>{"use strict";De();dI()});function gh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function fI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ur(t){return this instanceof ur?(this.v=t,this):new ur(t)}function gI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(y,_){s.push([h,f,y,_])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(y){d(s[0][3],y)}}function c(h){h.value instanceof ur?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function mI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fI=="function"?fI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var uc=g(()=>{"use strict"});var lc,mh=g(()=>{"use strict";lc=t=>t&&typeof t.length=="number"&&typeof t!="function"});function dc(t){return O(t?.then)}var yh=g(()=>{"use strict";De()});function hc(t){return O(t[vi])}var vh=g(()=>{"use strict";tc();De()});function fc(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}var _h=g(()=>{"use strict";De()});function pc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var Ih=g(()=>{"use strict"});function IR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gc,wh=g(()=>{"use strict";gc=IR()});function mc(t){return O(t?.[gc])}var Eh=g(()=>{"use strict";wh();De()});function yc(t){return gI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ur(n.read());if(i)return yield ur(void 0);yield yield ur(r)}}finally{n.releaseLock()}})}function vc(t){return O(t?.getReader)}var _c=g(()=>{"use strict";uc();De()});function fe(t){if(t instanceof q)return t;if(t!=null){if(hc(t))return wR(t);if(lc(t))return ER(t);if(dc(t))return DR(t);if(fc(t))return yI(t);if(mc(t))return CR(t);if(vc(t))return TR(t)}throw pc(t)}function wR(t){return new q(e=>{let n=t[vi]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ER(t){return new q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function DR(t){return new q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ja)})}function CR(t){return new q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function yI(t){return new q(e=>{bR(t,e).catch(n=>e.error(n))})}function TR(t){return yI(yc(t))}function bR(t,e){var n,r,i,s;return pI(this,void 0,void 0,function*(){try{for(n=mI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}var ft=g(()=>{"use strict";uc();mh();yh();Ye();vh();_h();Ih();Eh();_c();De();Zd();tc()});function Je(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}var Ci=g(()=>{"use strict"});function bn(t,e=0){return K((n,r)=>{n.subscribe(z(r,i=>Je(r,t,()=>r.next(i),e),()=>Je(r,t,()=>r.complete(),e),i=>Je(r,t,()=>r.error(i),e)))})}var Ic=g(()=>{"use strict";Ci();Ce();be()});function An(t,e=0){return K((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}var wc=g(()=>{"use strict";Ce()});function vI(t,e){return fe(t).pipe(An(e),bn(e))}var _I=g(()=>{"use strict";ft();Ic();wc()});function II(t,e){return fe(t).pipe(An(e),bn(e))}var wI=g(()=>{"use strict";ft();Ic();wc()});function EI(t,e){return new q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}var DI=g(()=>{"use strict";Ye()});function CI(t,e){return new q(n=>{let r;return Je(n,e,()=>{r=t[gc](),Je(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}var TI=g(()=>{"use strict";Ye();wh();De();Ci()});function Ec(t,e){if(!t)throw new Error("Iterable cannot be null");return new q(n=>{Je(n,e,()=>{let r=t[Symbol.asyncIterator]();Je(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}var Dh=g(()=>{"use strict";Ye();Ci()});function bI(t,e){return Ec(yc(t),e)}var AI=g(()=>{"use strict";Dh();_c()});function SI(t,e){if(t!=null){if(hc(t))return vI(t,e);if(lc(t))return EI(t,e);if(dc(t))return II(t,e);if(fc(t))return Ec(t,e);if(mc(t))return CI(t,e);if(vc(t))return bI(t,e)}throw pc(t)}var RI=g(()=>{"use strict";_I();wI();DI();TI();Dh();vh();yh();mh();Eh();_h();Ih();_c();AI()});function de(t,e){return e?SI(t,e):fe(t)}var Ti=g(()=>{"use strict";RI();ft()});function k(...t){let e=Lt(t);return de(t,e)}var MI=g(()=>{"use strict";cr();Ti()});function bi(t,e){let n=O(t)?t:()=>t,r=i=>i.error(n());return new q(e?i=>e.schedule(r,0,i):r)}var NI=g(()=>{"use strict";Ye();De()});function Ch(t){return!!t&&(t instanceof q||O(t.lift)&&O(t.subscribe))}var xI=g(()=>{"use strict";Ye();De()});var hn,Bs=g(()=>{"use strict";Ka();hn=pi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"})});function L(t,e){return K((n,r)=>{let i=0;n.subscribe(z(r,s=>{r.next(t.call(e,s,i++))}))})}var $s=g(()=>{"use strict";Ce();be()});function SR(t,e){return AR(e)?t(...e):t(e)}function Dc(t){return L(e=>SR(t,e))}var AR,Th=g(()=>{"use strict";$s();({isArray:AR}=Array)});function Cc(t){if(t.length===1){let e=t[0];if(RR(e))return{args:e,keys:null};if(PR(e)){let n=xR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function PR(t){return t&&typeof t=="object"&&MR(t)===NR}var RR,MR,NR,xR,bh=g(()=>{"use strict";({isArray:RR}=Array),{getPrototypeOf:MR,prototype:NR,keys:xR}=Object});function Tc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}var Ah=g(()=>{"use strict"});function bc(...t){let e=Lt(t),n=cc(t),{args:r,keys:i}=Cc(t);if(r.length===0)return de([],e);let s=new q(OR(r,e,i?o=>Tc(i,o):it));return n?s.pipe(Dc(n)):s}function OR(t,e,n=it){return r=>{PI(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)PI(e,()=>{let u=de(t[c],e),l=!1;u.subscribe(z(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function PI(t,e,n){t?Je(n,t,e):e()}var OI=g(()=>{"use strict";Ye();bh();Ti();ar();Th();cr();Ah();be();Ci()});function kI(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=_=>u<r?y(_):c.push(_),y=_=>{s&&e.next(_),u++;let I=!1;fe(n(_,l++)).subscribe(z(e,C=>{i?.(C),s?f(C):e.next(C)},()=>{I=!0},void 0,()=>{if(I)try{for(u--;c.length&&u<r;){let C=c.shift();o?Je(e,o,()=>y(C)):y(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(z(e,f,()=>{d=!0,h()})),()=>{a?.()}}var FI=g(()=>{"use strict";ft();Ci();be()});function Te(t,e,n=1/0){return O(e)?Te((r,i)=>L((s,o)=>e(r,s,i,o))(fe(t(r,i))),n):(typeof e=="number"&&(n=e),K((r,i)=>kI(r,i,t,n)))}var Ac=g(()=>{"use strict";$s();ft();Ce();FI();De()});function Hs(t=1/0){return Te(it,t)}var Sh=g(()=>{"use strict";Ac();ar()});function VI(){return Hs(1)}var LI=g(()=>{"use strict";Sh()});function Ai(...t){return VI()(de(t,Lt(t)))}var Rh=g(()=>{"use strict";LI();cr();Ti()});function Sc(t){return new q(e=>{fe(t()).subscribe(e)})}var UI=g(()=>{"use strict";Ye();ft()});function Mh(...t){let e=cc(t),{args:n,keys:r}=Cc(t),i=new q(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;fe(n[l]).subscribe(z(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?Tc(r,a):a),s.complete())}))}});return e?i.pipe(Dc(e)):i}var jI=g(()=>{"use strict";Ye();bh();ft();cr();be();Th();Ah()});function Nh(...t){let e=Lt(t),n=hI(t,1/0),r=t;return r.length?r.length===1?fe(r[0]):Hs(n)(de(r,e)):Ze}var BI=g(()=>{"use strict";Sh();ft();js();cr();Ti()});function pt(t,e){return K((n,r)=>{let i=0;n.subscribe(z(r,s=>t.call(e,s,i++)&&r.next(s)))})}var Rc=g(()=>{"use strict";Ce();be()});var $I=g(()=>{"use strict"});function Sn(t){return K((e,n)=>{let r=null,i=!1,s;r=e.subscribe(z(n,void 0,void 0,o=>{s=fe(t(o,Sn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}var HI=g(()=>{"use strict";ft();be();Ce()});function qI(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(z(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}var zI=g(()=>{"use strict";be()});function Si(t,e){return O(e)?Te(t,e,1):Te(t,1)}var GI=g(()=>{"use strict";Ac();De()});function Rn(t){return K((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}var Mc=g(()=>{"use strict";Ce();be()});function fn(t){return t<=0?()=>Ze:K((e,n)=>{let r=0;e.subscribe(z(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}var xh=g(()=>{"use strict";js();Ce();be()});function Ph(t){return L(()=>t)}var WI=g(()=>{"use strict";$s()});function Nc(t=kR){return K((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function kR(){return new hn}var Oh=g(()=>{"use strict";Bs();Ce();be()});function qs(t){return K((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var KI=g(()=>{"use strict";Ce()});function Ut(t,e){let n=arguments.length>=2;return r=>r.pipe(t?pt((i,s)=>t(i,s,r)):it,fn(1),n?Rn(e):Nc(()=>new hn))}var QI=g(()=>{"use strict";Bs();Rc();xh();Mc();Oh();ar()});function Ri(t){return t<=0?()=>Ze:K((e,n)=>{let r=[];e.subscribe(z(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}var kh=g(()=>{"use strict";js();Ce();be()});function Fh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?pt((i,s)=>t(i,s,r)):it,Ri(1),n?Rn(e):Nc(()=>new hn))}var YI=g(()=>{"use strict";Bs();Rc();kh();Oh();Mc();ar()});function xc(t,e){return K(qI(t,e,arguments.length>=2,!0))}var ZI=g(()=>{"use strict";Ce();zI()});function Pc(...t){let e=Lt(t);return K((n,r)=>{(e?Ai(t,n,e):Ai(t,n)).subscribe(r)})}var JI=g(()=>{"use strict";Rh();cr();Ce()});function st(t,e){return K((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(z(r,c=>{i?.unsubscribe();let u=0,l=s++;fe(t(c,l)).subscribe(i=z(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}var XI=g(()=>{"use strict";ft();Ce();be()});function Vh(t){return K((e,n)=>{fe(t).subscribe(z(n,()=>n.complete(),Fs)),!n.closed&&e.subscribe(n)})}var ew=g(()=>{"use strict";Ce();be();ft();Jd()});function _e(t,e,n){let r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?K((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(z(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):it}var tw=g(()=>{"use strict";De();Ce();be();ar()});var lr=g(()=>{"use strict";Ye();J_();ic();tI();nI();oI();uI();ir();sh();xI();Bs();OI();Rh();UI();jI();Ti();BI();MI();NI();js();$I()});var dr=g(()=>{"use strict";HI();GI();Mc();Rc();KI();QI();YI();$s();WI();Ac();Ic();ch();ZI();JI();wc();XI();xh();kh();ew();tw()});function zf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ae(t){for(let e in t)if(t[e]===ae)return e;throw Error("Could not find renamed property on target object.")}function VR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function et(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function nw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}function Bi(t){return t.__forward_ref__=Bi,t.toString=function(){return et(this())},t}function We(t){return Uw(t)?t():t}function Uw(t){return typeof t=="function"&&t.hasOwnProperty(LR)&&t.__forward_ref__===Bi}function jw(t){return t&&!!t.\u0275providers}function Bw(t){return typeof t=="string"?t:t==null?"":String(t)}function HR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Bw(t)}function qR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,t)}function Gf(t,e){throw new A(-201,!1)}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kt(t){return{providers:t.providers||[],imports:t.imports||[]}}function cu(t){return iw(t,Hw)||iw(t,qw)}function $w(t){return cu(t)!==null}function iw(t,e){return t.hasOwnProperty(e)?t[e]:null}function zR(t){let e=t&&(t[Hw]||t[qw]);return e||null}function sw(t){return t&&(t.hasOwnProperty(ow)||t.hasOwnProperty(GR))?t[ow]:null}function WR(){return Xh}function Xe(t){let e=Xh;return Xh=t,e}function zw(t,e,n){let r=cu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&$.Optional)return null;if(e!==void 0)return e;Gf(t,"Injector")}function Mn(t){let e=Ws;return Ws=t,e}function JR(t,e=$.Default){if(Ws===void 0)throw new A(-203,!1);return Ws===null?zw(t,void 0,e):Ws.get(t,e&$.Optional?null:void 0,e)}function H(t,e=$.Default){return(WR()||JR)(We(t),e)}function b(t,e=$.Default){return H(t,uu(e))}function uu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function tf(t){let e=[];for(let n=0;n<t.length;n++){let r=We(t[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,s=$.Default;for(let o=0;o<r.length;o++){let a=r[o],c=XR(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(H(i,s))}else e.push(H(r))}return e}function Gw(t,e){return t[ef]=e,t.prototype[ef]=e,t}function XR(t){return t[ef]}function eM(t,e,n,r){let i=t[qc];throw e[aw]&&i.unshift(e[aw]),t.message=tM(`
`+t.message,i,n,r),t[QR]=i,t[qc]=null,t}function tM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ZR?t.slice(2):t;let i=et(e);if(Array.isArray(e))i=e.map(et).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):et(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(YR,`
  `)}`}function ao(t){return{toString:t}.toString()}function Kw(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function nf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];rM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function nM(t){return t===3||t===4||t===6}function rM(t){return t.charCodeAt(0)===64}function Ys(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?cw(t,n,i,null,e[++r]):cw(t,n,i,null,null))}}return t}function cw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}function iM(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&Kw(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function Yw(t){return t.type===4&&t.value!==Qw}function sM(t,e,n){let r=t.type===4&&!n?Qw:t.value;return e===r}function oM(t,e,n){let r=4,i=t.attrs||[],s=uM(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!bt(r)&&!bt(c))return!1;if(o&&bt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!sM(t,c,n)||c===""&&e.length===1){if(bt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!iM(t.attrs,u,n)){if(bt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=aM(l,i,Yw(t),n);if(d===-1){if(bt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&Kw(f,u,0)!==-1||r&2&&u!==h){if(bt(r))return!1;o=!0}}}}return bt(r)||o}function bt(t){return(t&1)===0}function aM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return lM(e,t)}function cM(t,e,n=!1){for(let r=0;r<e.length;r++)if(oM(t,e[r],n))return!0;return!1}function uM(t){for(let e=0;e<t.length;e++){let n=t[e];if(nM(n))return e}return t.length}function lM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function uw(t,e){return t?":not("+e.trim()+")":e}function dM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!bt(o)&&(e+=uw(s,i),i=""),r=o,s=s||!bt(r);n++}return i!==""&&(e+=uw(s,i)),e}function hM(t){return t.map(dM).join(",")}function fM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!bt(i))break;i=s}r++}return{attrs:e,classes:n}}function lu(t){return ao(()=>{let e=nE(t),n=te(T({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ww.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ht.Emulated,styles:t.styles||gt,_:null,schemas:t.schemas||null,tView:null,id:""});rE(n);let r=t.dependencies;return n.directiveDefs=dw(r,!1),n.pipeDefs=dw(r,!0),n.id=mM(n),n})}function pM(t){return pr(t)||Jw(t)}function gM(t){return t!==null}function Qt(t){return ao(()=>({type:t.type,bootstrap:t.bootstrap||gt,declarations:t.declarations||gt,imports:t.imports||gt,exports:t.exports||gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function lw(t,e){if(t==null)return Oi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=tt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==tt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function nt(t){return ao(()=>{let e=nE(t);return rE(e),e})}function Zw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function pr(t){return t[UR]||null}function Jw(t){return t[jR]||null}function Xw(t){return t[BR]||null}function eE(t){let e=pr(t)||Jw(t)||Xw(t);return e!==null?e.standalone:!1}function tE(t,e){let n=t[$R]||null;if(!n&&e===!0)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return n}function nE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Oi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||gt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lw(t.inputs,e),outputs:lw(t.outputs),debugInfo:null}}function rE(t){t.features?.forEach(e=>e(t))}function dw(t,e){if(!t)return null;let n=e?Xw:pM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(gM)}function mM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function hr(t){return Array.isArray(t)&&typeof t[sE]=="object"}function vn(t){return Array.isArray(t)&&t[sE]===!0}function oE(t){return(t.flags&4)!==0}function hu(t){return t.componentOffset>-1}function Kf(t){return(t.flags&1)===1}function xn(t){return!!t.template}function yM(t){return(t[R]&512)!==0}function yr(t,e){let n=t.hasOwnProperty(Hc);return n?t[Hc]:null}function aE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Cr(){return cE}function cE(t){return t.type.prototype.ngOnChanges&&(t.setInput=_M),vM}function vM(){let t=lE(this),e=t?.current;if(e){let n=t.previous;if(n===Oi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function _M(t,e,n,r,i){let s=this.declaredInputs[r],o=lE(t)||IM(t,{previous:Oi,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Xs(u&&u.currentValue,n,c===Oi),aE(t,e,i,n)}function lE(t){return t[uE]||null}function IM(t,e){return t[uE]=e}function CM(){return DM}function Gt(t){for(;Array.isArray(t);)t=t[yn];return t}function dE(t,e){return Gt(e[t])}function Rt(t,e){return Gt(e[t.index])}function hE(t,e){return t.data[e]}function TM(t,e){return t[e]}function On(t,e){let n=e[t];return hr(n)?n:n[yn]}function bM(t){return(t[R]&4)===4}function Qf(t){return(t[R]&128)===128}function AM(t){return vn(t[Oe])}function Wc(t,e){return e==null?null:t[e]}function fE(t){t[Mi]=0}function SM(t){t[R]&1024||(t[R]|=1024,Qf(t)&&eo(t))}function Yf(t){return!!(t[R]&9216||t[gr]?.dirty)}function rf(t){Yf(t)?eo(t):t[R]&64&&(CM()?(t[R]|=1024,eo(t)):t[Nn].changeDetectionScheduler?.notify())}function eo(t){t[Nn].changeDetectionScheduler?.notify();let e=to(t);for(;e!==null&&!(e[R]&8192||(e[R]|=8192,!Qf(e)));)e=to(e)}function RM(t,e){if((t[R]&256)===256)throw new A(911,!1);t[Ks]===null&&(t[Ks]=[]),t[Ks].push(e)}function to(t){let e=t[Oe];return vn(e)?e[Oe]:e}function MM(){return Q.lFrame.elementDepthCount}function NM(){Q.lFrame.elementDepthCount++}function xM(){Q.lFrame.elementDepthCount--}function pE(){return Q.bindingsEnabled}function PM(){return Q.skipHydrationRootTNode!==null}function OM(t){return Q.skipHydrationRootTNode===t}function kM(){Q.skipHydrationRootTNode=null}function ue(){return Q.lFrame.lView}function at(){return Q.lFrame.tView}function yt(){let t=gE();for(;t!==null&&t.type===64;)t=t.parent;return t}function gE(){return Q.lFrame.currentTNode}function FM(){let t=Q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function lo(t,e){let n=Q.lFrame;n.currentTNode=t,n.isParent=e}function mE(){return Q.lFrame.isParent}function VM(){Q.lFrame.isParent=!1}function yE(){let t=Q.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function LM(t){return Q.lFrame.bindingIndex=t}function vE(){return Q.lFrame.bindingIndex++}function UM(t){let e=Q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function jM(){return Q.lFrame.inI18n}function BM(t,e){let n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=t,sf(e)}function $M(){return Q.lFrame.currentDirectiveIndex}function sf(t){Q.lFrame.currentDirectiveIndex=t}function HM(t){let e=Q.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function _E(){return Q.lFrame.currentQueryIndex}function Zf(t){Q.lFrame.currentQueryIndex=t}function qM(t){let e=t[j];return e.type===2?e.declTNode:e.type===1?t[St]:null}function IE(t,e,n){if(n&$.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&$.Host);)if(i=qM(s),i===null||(s=s[co],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Q.lFrame=wE();return r.currentTNode=e,r.lView=t,!0}function Jf(t){let e=wE(),n=t[j];Q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function wE(){let t=Q.lFrame,e=t===null?null:t.child;return e===null?EE(t):e}function EE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function DE(){let t=Q.lFrame;return Q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}function Xf(){let t=DE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $i(){return Q.lFrame.selectedIndex}function vr(t){Q.lFrame.selectedIndex=t}function zM(){let t=Q.lFrame;return hE(t.tView,t.selectedIndex)}function GM(){return Q.lFrame.currentNamespace}function ep(){return TE}function tp(t){TE=t}function WM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=cE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function np(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Vc(t,e,n){bE(t,e,3,n)}function Lc(t,e,n,r){(t[R]&3)===n&&bE(t,e,n,r)}function Uh(t,e){let n=t[R];(n&3)===e&&(n&=16383,n+=1,t[R]=n)}function bE(t,e,n,r){let i=r!==void 0?t[Mi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Mi]+=65536),(a<s||s==-1)&&(KM(t,n,e,c),t[Mi]=(t[Mi]&4294901760)+c+2),c++}function pw(t,e){jt(4,t,e);let n=ze(null);try{e.call(t)}finally{ze(n),jt(5,t,e)}}function KM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[R]>>14<t[Mi]>>16&&(t[R]&3)===e&&(t[R]+=16384,pw(a,s)):pw(a,s)}function QM(t){return t instanceof _r}function YM(t){return(t.flags&8)!==0}function ZM(t){return(t.flags&16)!==0}function AE(t){return t!==Pi}function Kc(t){return t&32767}function JM(t){return t>>16}function Qc(t,e){let n=JM(t),r=e;for(;n>0;)r=r[co],n--;return r}function Yc(t){let e=of;return of=t,e}function tN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(zs)&&(r=n[zs]),r==null&&(r=n[zs]=eN++);let i=r&SE,s=1<<i;e.data[t+(i>>RE)]|=s}function Zc(t,e){let n=ME(t,e);if(n!==-1)return n;let r=e[j];r.firstCreatePass&&(t.injectorIndex=e.length,jh(r.data,t),jh(e,null),jh(r.blueprint,null));let i=rp(t,e),s=t.injectorIndex;if(AE(i)){let o=Kc(i),a=Qc(i,e),c=a[j].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function jh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ME(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function rp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=kE(i),r===null)return Pi;if(n++,i=i[co],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Pi}function af(t,e,n){tN(t,e,n)}function NE(t,e,n){if(n&$.Optional||t!==void 0)return t;Gf(e,"NodeInjector")}function xE(t,e,n,r){if(n&$.Optional&&r===void 0&&(r=null),!(n&($.Self|$.Host))){let i=t[ki],s=Xe(void 0);try{return i?i.get(e,r,n&$.Optional):zw(e,r,n&$.Optional)}finally{Xe(s)}}return NE(r,e,n)}function PE(t,e,n,r=$.Default,i){if(t!==null){if(e[R]&2048&&!(r&$.Self)){let o=sN(t,e,n,r,Bt);if(o!==Bt)return o}let s=OE(t,e,n,r,Bt);if(s!==Bt)return s}return xE(e,n,r,i)}function OE(t,e,n,r,i){let s=rN(n);if(typeof s=="function"){if(!IE(e,t,r))return r&$.Host?NE(i,n,r):xE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&$.Optional))Gf(n);else return o}finally{CE()}}else if(typeof s=="number"){let o=null,a=ME(t,e),c=Pi,u=r&$.Host?e[qt][St]:null;for((a===-1||r&$.SkipSelf)&&(c=a===-1?rp(t,e):e[a+8],c===Pi||!mw(r,!1)?a=-1:(o=e[j],a=Kc(c),e=Qc(c,e)));a!==-1;){let l=e[j];if(gw(s,a,l.data)){let d=nN(a,e,n,o,r,u);if(d!==Bt)return d}c=e[a+8],c!==Pi&&mw(r,e[j].data[a+8]===u)&&gw(s,a,e)?(o=l,a=Kc(c),e=Qc(c,e)):a=-1}}return i}function nN(t,e,n,r,i,s){let o=e[j],a=o.data[t+8],c=r==null?hu(a)&&of:r!=o&&(a.type&3)!==0,u=i&$.Host&&s===a,l=Uc(a,o,n,c,u);return l!==null?Ir(e,o,l,a):Bt}function Uc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let y=o[f];if(f<c&&n===y||f>=c&&y.type===n)return f}if(i){let f=o[c];if(f&&xn(f)&&f.type===n)return c}return null}function Ir(t,e,n,r){let i=t[n],s=e.data;if(QM(i)){let o=i;o.resolving&&qR(HR(s[n]));let a=Yc(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Xe(o.injectImpl):null,l=IE(t,r,$.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&WM(n,s[n],e)}finally{u!==null&&Xe(u),Yc(a),o.resolving=!1,CE()}}return i}function rN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(zs)?t[zs]:void 0;return typeof e=="number"?e>=0?e&SE:iN:e}function gw(t,e,n){let r=1<<t;return!!(n[e+(t>>RE)]&r)}function mw(t,e){return!(t&$.Self)&&!(t&$.Host&&e)}function iN(){return new fr(yt(),ue())}function ho(t){return ao(()=>{let e=t.prototype.constructor,n=e[Hc]||cf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Hc]||cf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function cf(t){return Uw(t)?()=>{let e=cf(We(t));return e&&e()}:yr(t)}function sN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[R]&2048&&!(o[R]&512);){let a=OE(s,o,n,r|$.Self,Bt);if(a!==Bt)return a;let c=s.parent;if(!c){let u=o[iE];if(u){let l=u.get(n,Bt,r);if(l!==Bt)return l}c=kE(o),o=o[co]}s=c}return i}function kE(t){let e=t[j],n=e.type;return n===2?e.declTNode:n===1?t[St]:null}function oN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function FE(t,e,n){return ao(()=>{let r=oN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Oc)?c[Oc]:Object.defineProperty(c,Oc,{value:[]})[Oc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function aN(t){return typeof t=="function"}function cN(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function uN(t){return t.flat(Number.POSITIVE_INFINITY)}function ip(t,e){t.forEach(n=>Array.isArray(n)?ip(n,e):e(n))}function VE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function lN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function dN(t,e,n){let r=fo(t,e);return r>=0?t[r|1]=n:(r=~r,lN(t,r,e,n)),r}function Bh(t,e){let n=fo(t,e);if(n>=0)return t[n|1]}function fo(t,e){return hN(t,e,1)}function hN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}function fu(t){return{\u0275providers:t}}function pu(...t){return{\u0275providers:BE(!0,t),\u0275fromNgModule:!0}}function BE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return ip(e,o=>{let a=o;uf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&$E(i,s),n}function $E(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];sp(i,s=>{e(s,r)})}}function uf(t,e,n,r){if(t=We(t),!t)return!1;let i=null,s=sw(t),o=!s&&pr(t);if(!s&&!o){let c=t.ngModule;if(s=sw(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)uf(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{ip(s.imports,l=>{uf(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&$E(u,e)}if(!a){let u=yr(i)||(()=>new i);e({provide:i,useFactory:u,deps:gt},i),e({provide:jE,useValue:i,multi:!0},i),e({provide:Vi,useValue:()=>H(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;sp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function sp(t,e){for(let n of t)jw(n)&&(n=n.\u0275providers),Array.isArray(n)?sp(n,e):e(n)}function HE(t){return t!==null&&typeof t=="object"&&fN in t}function pN(t){return!!(t&&t.useExisting)}function gN(t){return!!(t&&t.useFactory)}function Li(t){return typeof t=="function"}function mN(t){return!!t.useClass}function op(){return $h===void 0&&($h=new Xc),$h}function lf(t){let e=cu(t),n=e!==null?e.factory:yr(t);if(n!==null)return n;if(t instanceof x)throw new A(204,!1);if(t instanceof Function)return vN(t);throw new A(204,!1)}function vN(t){if(t.length>0)throw new A(204,!1);let n=zR(t);return n!==null?()=>n.factory(t):()=>new t}function _N(t){if(HE(t))return Ni(void 0,t.useValue);{let e=qE(t);return Ni(e,jc)}}function qE(t,e,n){let r;if(Li(t)){let i=We(t);return yr(i)||lf(i)}else if(HE(t))r=()=>We(t.useValue);else if(gN(t))r=()=>t.useFactory(...tf(t.deps||[]));else if(pN(t))r=()=>H(We(t.useExisting));else{let i=We(t&&(t.useClass||t.provide));if(IN(t))r=()=>new i(...tf(t.deps));else return yr(i)||lf(i)}return r}function Ni(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function IN(t){return!!t.deps}function wN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function EN(t){return typeof t=="function"||typeof t=="object"&&t instanceof x}function df(t,e){for(let n of t)Array.isArray(n)?df(n,e):n&&jw(n)?df(n.\u0275providers,e):e(n)}function Tr(t,e){t instanceof no&&t.assertNotDestroyed();let n,r=Mn(t),i=Xe(void 0);try{return e()}finally{Mn(r),Xe(i)}}function yw(t,e=null,n=null,r){let i=zE(t,e,n,r);return i.resolveInjectorInitializers(),i}function zE(t,e=null,n=null,r,i=new Set){let s=[n||gt,pu(t)];return r=r||(typeof t=="object"?void 0:et(t)),new no(s,e||op(),r||null,i)}function GE(t){hf=t}function DN(){if(hf!==void 0)return hf;if(typeof document<"u")return document;throw new A(210,!1)}function WE(t){return t instanceof Function?t():t}function KE(t){return(t.flags&128)===128}function bN(){return TN++}function AN(t){QE.set(t[du],t)}function SN(t){QE.delete(t[du])}function wr(t,e){hr(e)?(t[vw]=e[du],AN(e)):t[vw]=e}function lp(t,e){return RN(t,e)}function xi(t,e,n,r,i){if(r!=null){let s,o=!1;vn(r)?s=r:hr(r)&&(o=!0,r=r[yn]);let a=Gt(r);t===0&&n!==null?i==null?eD(e,n,a):eu(e,n,a,i||null,!0):t===1&&n!==null?eu(e,n,a,i||null,!0):t===2?GN(e,a,o):t===3&&e.destroyNode(a),s!=null&&KN(e,t,s,n,i)}}function MN(t,e){return t.createText(e)}function NN(t,e,n){t.setValue(e,n)}function YE(t,e,n){return t.createElement(e,n)}function xN(t,e){ZE(t,e),e[yn]=null,e[St]=null}function PN(t,e,n,r,i,s){r[yn]=i,r[St]=e,mu(t,r,n,1,i,s)}function ZE(t,e){mu(t,e,e[Ue],2,null,null)}function ON(t){let e=t[Js];if(!e)return Hh(t[j],t);for(;e;){let n=null;if(hr(e))n=e[Js];else{let r=e[ot];r&&(n=r)}if(!n){for(;e&&!e[At]&&e!==t;)hr(e)&&Hh(e[j],e),e=e[Oe];e===null&&(e=t),hr(e)&&Hh(e[j],e),n=e&&e[At]}e=n}}function kN(t,e,n,r){let i=ot+r,s=n.length;r>0&&(n[i-1][At]=e),r<s-ot?(e[At]=n[i],VE(n,ot+r,e)):(n.push(e),e[At]=null),e[Oe]=n;let o=e[uo];o!==null&&n!==o&&FN(o,e);let a=e[$t];a!==null&&a.insertView(t),rf(e),e[R]|=128}function FN(t,e){let n=t[Fi],i=e[Oe][Oe][qt];e[qt]!==i&&(t[R]|=Wf.HasTransplantedViews),n===null?t[Fi]=[e]:n.push(e)}function JE(t,e){let n=t[Fi],r=n.indexOf(e);n.splice(r,1)}function ff(t,e){if(t.length<=ot)return;let n=ot+e,r=t[n];if(r){let i=r[uo];i!==null&&i!==t&&JE(i,r),e>0&&(t[n-1][At]=r[At]);let s=Jc(t,ot+e);xN(r[j],r);let o=s[$t];o!==null&&o.detachView(s[j]),r[Oe]=null,r[At]=null,r[R]&=-129}return r}function XE(t,e){if(!(e[R]&256)){let n=e[Ue];n.destroyNode&&mu(t,e,n,3,null,null),ON(e)}}function Hh(t,e){if(!(e[R]&256)){e[R]&=-129,e[R]|=256,e[gr]&&B_(e[gr]),LN(t,e),VN(t,e),e[j].type===1&&e[Ue].destroy();let n=e[uo];if(n!==null&&vn(e[Oe])){n!==e[Oe]&&JE(n,e);let r=e[$t];r!==null&&r.detachView(t)}SN(e)}}function VN(t,e){let n=t.cleanup,r=e[Zs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Zs]=null);let i=e[Ks];if(i!==null){e[Ks]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function LN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof _r)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];jt(4,a,c);try{c.call(a)}finally{jt(5,a,c)}}else{jt(4,i,s);try{s.call(i)}finally{jt(5,i,s)}}}}}function UN(t,e,n){return jN(t,e.parent,n)}function jN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[yn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ht.None||s===Ht.Emulated)return null}return Rt(r,n)}}function eu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function eD(t,e,n){t.appendChild(e,n)}function _w(t,e,n,r,i){r!==null?eu(t,e,n,r,i):eD(t,e,n)}function BN(t,e,n,r){t.removeChild(e,n,r)}function dp(t,e){return t.parentNode(e)}function $N(t,e){return t.nextSibling(e)}function HN(t,e,n){return zN(t,e,n)}function qN(t,e,n){return t.type&40?Rt(t,n):null}function hp(t,e,n,r){let i=UN(t,r,e),s=e[Ue],o=r.parent||e[St],a=HN(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)_w(s,i,n[c],a,!1);else _w(s,i,n,a,!1);Iw!==void 0&&Iw(s,r,e,n,i)}function Bc(t,e){if(e!==null){let n=e.type;if(n&3)return Rt(e,t);if(n&4)return pf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Bc(t,r);{let i=t[e.index];return vn(i)?pf(-1,i):Gt(i)}}else{if(n&32)return lp(e,t)()||Gt(t[e.index]);{let r=tD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=to(t[qt]);return Bc(i,r)}else return Bc(t,e.next)}}}return null}function tD(t,e){if(e!==null){let r=t[qt][St],i=e.projection;return r.projection[i]}return null}function pf(t,e){let n=ot+t+1;if(n<e.length){let r=e[n],i=r[j].firstChild;if(i!==null)return Bc(r,i)}return e[mr]}function GN(t,e,n){let r=dp(t,e);r&&BN(t,r,e,n)}function fp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&wr(Gt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)fp(t,e,n.child,r,i,s,!1),xi(e,t,i,a,s);else if(c&32){let u=lp(n,r),l;for(;l=u();)xi(e,t,i,l,s);xi(e,t,i,a,s)}else c&16?WN(t,e,r,n,i,s):xi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function mu(t,e,n,r,i,s){fp(n,r,t.firstChild,e,i,s,!1)}function WN(t,e,n,r,i,s){let o=n[qt],c=o[St].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];xi(e,t,i,l,s)}else{let u=c,l=o[Oe];KE(r)&&(u.flags|=128),fp(t,e,u,l,i,s,!0)}}function KN(t,e,n,r,i){let s=n[mr],o=Gt(n);s!==o&&xi(e,t,r,s,i);for(let a=ot;a<n.length;a++){let c=n[a];mu(c[j],c,t,e,r,s)}}function QN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:gn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=gn.Important),t.setStyle(n,r,i,s))}}function YN(t,e,n){t.setAttribute(e,"style",n)}function nD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&nf(t,e,r),i!==null&&nD(t,e,i),s!==null&&YN(t,e,s)}function pp(t){return t instanceof gf?t.changingThisBreaksApplicationSecurity:t}function gp(t,e,n=!1){return XN(t,e,n)}function ex(t){let e=Error(`No component factory found for ${et(t)}.`);return e[tx]=t,e}function nx(){return Hi(yt(),ue())}function Hi(t,e){return new Nt(Rt(t,e))}function rx(t){return t instanceof Nt?t.nativeElement:t}function ix(){let t=ue(),e=yt(),n=On(e.index,t);return(hr(n)?n:t)[Ue]}function mp(t){let e=ze(null);try{return t()}finally{ze(e)}}function iD(t){return ax(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function ox(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ax(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ww(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Ew(){return new yp([new _f])}function ru(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Gt(s)),vn(s)&&ux(s,r);let o=n.type;if(o&8)ru(t,e,n.child,r);else if(o&32){let a=lp(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=tD(e,n);if(Array.isArray(a))r.push(...a);else{let c=to(e[qt]);ru(c[j],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ux(t,e){for(let n=ot;n<t.length;n++){let r=t[n],i=r[j].firstChild;i!==null&&ru(r[j],r,i,e)}t[mr]!==t[yn]&&e.push(t[mr])}function lx(t){return t[gr]??dx(t)}function dx(t){let e=sD.pop()??Object.create(fx);return e.lView=t,e}function hx(t){t.lView[gr]!==t&&(t.lView=null,sD.push(t))}function oD(t){return cD(t[Js])}function aD(t){return cD(t[At])}function cD(t){for(;t!==null&&!vn(t);)t=t[At];return t}function zh(t){return t[px]}function Rr(t=1){dD(at(),ue(),$i()+t,!1)}function dD(t,e,n,r){if(!r)if((e[R]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Vc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Lc(e,s,0,n)}vr(n)}function J(t,e=$.Default){let n=ue();if(n===null)return H(t,e);let r=yt();return PE(r,n,We(t),e)}function hD(t,e,n,r,i,s){let o=ze(null);try{let a=null;i&tt.SignalBased&&(a=e[r][V_]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&tt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):aE(e,a,r,s)}finally{ze(o)}}function mx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)vr(~i);else{let s=i,o=n[++r],a=n[++r];BM(o,s);let c=e[s];a(2,c)}}}finally{vr(-1)}}function yu(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[yn]=i,d[R]=r|4|128|8|64,(u!==null||t&&t[R]&2048)&&(d[R]|=2048),fE(d),d[Oe]=d[co]=t,d[pn]=n,d[Nn]=o||t&&t[Nn],d[Ue]=a||t&&t[Ue],d[ki]=c||t&&t[ki]||null,d[St]=s,d[du]=bN(),d[zc]=l,d[iE]=u,d[qt]=e.type==2?t[qt]:d,d}function vu(t,e,n,r,i){let s=t.data[e];if(s===null)s=yx(t,e,n,r,i),jM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=FM();s.injectorIndex=o===null?-1:o.injectorIndex}return lo(s,!0),s}function yx(t,e,n,r,i){let s=gE(),o=mE(),a=o?s:s&&s.parent,c=t.data[e]=Dx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function fD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function pD(t,e,n,r,i){let s=$i(),o=r&2;try{vr(-1),o&&e.length>zt&&dD(t,e,zt,!1),jt(o?2:0,i),n(r,i)}finally{vr(s),jt(o?3:1,i)}}function gD(t,e,n){if(oE(e)){let r=ze(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ze(r)}}}function mD(t,e,n){pE()&&(Mx(t,e,n,Rt(n,e)),(n.flags&64)===64&&wD(t,e,n))}function yD(t,e,n=Rt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function vD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=vp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function vp(t,e,n,r,i,s,o,a,c,u,l){let d=zt+r,h=d+i,f=vx(d,h),y=typeof u=="function"?u():u;return f[j]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function vx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Sr);return n}function _x(t,e,n,r){let s=r.get(gx,lD)||n===Ht.ShadowDom,o=t.selectRootElement(e,s);return Ix(o),o}function Ix(t){wx(t)}function Ex(t,e,n,r){let i=CD(e);i.push(n),t.firstCreatePass&&TD(t).push(r,i.length-1)}function Dx(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return PM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Dw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=tt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?Cw(r,n,u,a,c):Cw(r,n,u,a)}return r}function Cw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function Cx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,y=h?h.outputs:null;c=Dw(0,d.inputs,l,c,f),u=Dw(1,d.outputs,l,u,y);let _=c!==null&&o!==null&&!Yw(e)?Ux(c,l,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function Tx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function bx(t,e,n,r,i,s,o,a){let c=Rt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(_p(t,n,l,r,i),hu(e)&&Ax(n,e.index)):e.type&3?(r=Tx(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function Ax(t,e){let n=On(e,t);n[R]&16||(n[R]|=64)}function _D(t,e,n,r){if(pE()){let i=r===null?null:{"":-1},s=xx(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&ID(t,e,n,o,i,a),i&&Px(n,r,i)}n.mergedAttrs=Ys(n.mergedAttrs,n.attrs)}function ID(t,e,n,r,i,s){for(let u=0;u<r.length;u++)af(Zc(n,e),t,r[u].type);kx(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=fD(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Ys(n.mergedAttrs,l.hostAttrs),Fx(t,n,e,c,l),Ox(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}Cx(t,n,s)}function Sx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Rx(o)!=a&&o.push(a),o.push(n,r,s)}}function Rx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Mx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;hu(n)&&Vx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Zc(n,e),wr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Ir(e,t,a,n);if(wr(u,e),o!==null&&Lx(e,a-i,u,c,n,o),xn(c)){let l=On(n.index,e);l[pn]=Ir(e,t,a,n)}}}function wD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=$M();try{vr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];sf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Nx(c,u)}}finally{vr(-1),sf(o)}}function Nx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function xx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(cM(e,o.selectors,!1))if(r||(r=[]),xn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Df(t,e,c)}else r.unshift(o),Df(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Df(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Px(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new A(-301,!1);r.push(e[i],s)}}}function Ox(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xn(e)&&(n[""]=t)}}function kx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Fx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=yr(i.type,!0)),o=new _r(s,xn(i),J);t.blueprint[r]=o,n[r]=o,Sx(t,e,r,fD(t,n,i.hostVars,Sr),i)}function Vx(t,e,n){let r=Rt(e,t),i=vD(n),s=t[Nn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=_u(t,yu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Lx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];hD(r,n,c,u,l,d)}}function Ux(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function ED(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function DD(t,e){let n=t.contentQueries;if(n!==null){let r=ze(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Zf(s),a.contentQueries(2,e[o],o)}}}finally{ze(r)}}}function _u(t,e){return t[Js]?t[hw][At]=e:t[Js]=e,t[hw]=e,e}function Cf(t,e,n){Zf(0);let r=ze(null);try{e(t,n)}finally{ze(r)}}function CD(t){return t[Zs]||(t[Zs]=[])}function TD(t){return t.cleanup||(t.cleanup=[])}function bD(t,e){let n=t[ki],r=n?n.get(mn,null):null;r&&r.handleError(e)}function _p(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];hD(l,u,r,a,c,i)}}function jx(t,e,n){let r=dE(e,t);NN(t[Ue],r,n)}function SD(t,e=!0,n=0){let r=t[Nn],i=r.rendererFactory,s=!1;s||i.begin?.();try{Bx(t,n)}catch(o){throw e&&bD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function Bx(t,e){Tf(t,e);let n=0;for(;Yf(t);){if(n===AD)throw new A(103,!1);n++,Tf(t,1)}}function $x(t,e,n,r){let i=e[R];if((i&256)===256)return;let s=!1;!s&&e[Nn].inlineEffectRunner?.flush(),Jf(e);let o=null,a=null;!s&&Hx(t)&&(a=lx(e),o=U_(a));try{fE(e),LM(t.bindingStartIndex),n!==null&&pD(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Vc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Lc(e,d,0,null),Uh(e,0)}if(qx(e),RD(e,0),t.contentQueries!==null&&DD(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Vc(e,d)}else{let d=t.contentHooks;d!==null&&Lc(e,d,1),Uh(e,1)}mx(t,e);let u=t.components;u!==null&&ND(e,u,0);let l=t.viewQuery;if(l!==null&&Cf(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Vc(e,d)}else{let d=t.viewHooks;d!==null&&Lc(e,d,2),Uh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Lh]){for(let d of e[Lh])d();e[Lh]=null}s||(e[R]&=-73)}catch(c){throw eo(e),c}finally{a!==null&&(j_(a,o),hx(a)),Xf()}}function Hx(t){return t.type!==2}function RD(t,e){for(let n=oD(t);n!==null;n=aD(n))for(let r=ot;r<n.length;r++){let i=n[r];MD(i,e)}}function qx(t){for(let e=oD(t);e!==null;e=aD(e)){if(!(e[R]&Wf.HasTransplantedViews))continue;let n=e[Fi];for(let r=0;r<n.length;r++){let i=n[r],s=i[Oe];SM(i)}}}function zx(t,e,n){let r=On(e,t);MD(r,n)}function MD(t,e){Qf(t)&&Tf(t,e)}function Tf(t,e){let r=t[j],i=t[R],s=t[gr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Gd(s)),s&&(s.dirty=!1),t[R]&=-9217,o)$x(r,t,r.template,t[pn]);else if(i&8192){RD(t,1);let a=r.components;a!==null&&ND(t,a,1)}}function ND(t,e,n){for(let r=0;r<e.length;r++)zx(t,e[r],n)}function Ip(t){for(t[Nn].changeDetectionScheduler?.notify();t;){t[R]|=64;let e=to(t);if(yM(t)&&!e)return t;t=e}return null}function Gx(t){return Wx(yt(),ue(),(t&16)===16)}function Wx(t,e,n){if(hu(t)&&!n){let r=On(t.index,e);return new Er(r,r)}else if(t.type&47){let r=e[qt];return new Er(r,e)}return null}function xD(t){Tw.has(t)||(Tw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Gh(t){return e=>{setTimeout(t,void 0,e)}}function bw(...t){}function Kx(){let t=typeof Gs.requestAnimationFrame=="function",e=Gs[t?"requestAnimationFrame":"setTimeout"],n=Gs[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}function wp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gs,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Af(t),t.isCheckStableRunning=!0,wp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Af(t))}function Zx(t){let e=()=>{Yx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(Jx(a))return n.invokeTask(i,s,o,a);try{return Aw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Sw(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Aw(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Sw(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Af(t),wp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Af(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Aw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sw(t){t._nesting--,wp(t)}function Jx(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function Xx(t,e){let n=On(e,t),r=n[j];eP(r,n);let i=n[yn];i!==null&&n[zc]===null&&(n[zc]=gp(i,n[ki])),Ep(r,n,n[pn])}function eP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ep(t,e,n){Jf(e);try{let r=t.viewQuery;r!==null&&Cf(1,r,n);let i=t.template;i!==null&&pD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&DD(t,e),t.staticViewQueries&&Cf(2,t.viewQuery,n);let s=t.components;s!==null&&tP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[R]&=-5,Xf()}}function tP(t,e){for(let n=0;n<e.length;n++)Xx(t,e[n])}function Sf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=nw(i,a);else if(s==2){let c=a,u=e[++o];r=nw(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Rw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function nP(t){let e=t.toLowerCase();return e==="svg"?wM:e==="math"?EM:null}function rP(t,e){let n=t[j],r=zt;return t[r]=e,vu(n,r,2,"#host",null)}function iP(t,e,n,r,i,s,o){let a=i[j];sP(r,t,e,o);let c=null;e!==null&&(c=gp(e,i[ki]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=yu(i,vD(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Df(a,t,r.length-1),_u(i,d),i[t.index]=d}function sP(t,e,n,r){for(let i of t)e.mergedAttrs=Ys(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Sf(e,e.mergedAttrs,!0),n!==null&&rD(r,n,e))}function oP(t,e,n,r,i,s){let o=yt(),a=i[j],c=Rt(o,i);ID(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Ir(i,a,d,o);wr(h,i)}wD(a,i,o),c&&wr(c,i);let u=Ir(i,a,o.directiveStart+o.componentOffset,o);if(t[pn]=i[pn]=u,s!==null)for(let l of s)l(u,e);return gD(a,o,t),u}function aP(t,e,n,r){if(r)nf(t,n,["ng-version","17.1.3"]);else{let{attrs:i,classes:s}=fM(e.selectors[0]);i&&nf(t,n,i),s&&s.length>0&&nD(t,n,s.join(" "))}}function cP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function uP(){let t=yt();np(ue()[j],t)}function lP(t){return Object.getPrototypeOf(t.prototype).constructor}function Vn(t){let e=lP(t.type),n=!0,r=[t];for(;e;){let i;if(xn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=kc(t.inputs),o.inputTransforms=kc(t.inputTransforms),o.declaredInputs=kc(t.declaredInputs),o.outputs=kc(t.outputs);let a=i.hostBindings;a&&gP(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&fP(t,c),u&&pP(t,u),dP(t,i),VR(t.outputs,i.outputs),xn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Vn&&(n=!1)}}e=Object.getPrototypeOf(e)}hP(r)}function dP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function hP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ys(i.hostAttrs,n=Ys(n,i.hostAttrs))}}function kc(t){return t===Oi?{}:t===gt?[]:t}function fP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function pP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function gP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Mw(t,e){return mP(t,e)}function yP(t,e,n,r){let i=e.tView,o=t[R]&4096?4096:16,a=yu(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[uo]=c;let u=t[$t];return u!==null&&(a[$t]=u.createEmbeddedView(i)),Ep(i,a,n),a}function Nw(t,e){return!e||e.firstChild===null||KE(t)}function vP(t,e,n,r=!0){let i=e[j];if(kN(i,e,t,n),r){let o=pf(n,t),a=e[Ue],c=dp(a,t[mr]);c!==null&&PN(i,t[St],a,e,c,o)}let s=e[zc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function _P(){let t=yt();return kD(t,ue())}function xw(t){return t[Gc]}function Wh(t){return t[Gc]||(t[Gc]=[])}function kD(t,e){let n,r=e[t.index];return vn(r)?n=r:(n=ED(r,e,null,t),e[t.index]=n,_u(e,n)),EP(n,e,t,r),new OD(n,t,e)}function wP(t,e){let n=t[Ue],r=n.createComment(""),i=Rt(e,t),s=dp(n,i);return eu(n,s,r,$N(n,i),!1),r}function CP(t,e,n){return DP(t,e,n)}function TP(t,e,n,r){if(t[mr])return;let i;n.type&8?i=Gt(r):i=wP(e,n),t[mr]=i}function Dp(t,e,n=null){return new su({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function bP(t,e,n){return t[e]=n}function wu(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function AP(t,e,n,r,i,s,o,a,c){let u=e.consts,l=vu(e,t,4,o||null,Wc(u,a));_D(e,n,l,Wc(u,c)),np(e,l);let d=l.tView=vp(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Cp(t,e,n,r,i,s,o,a){let c=ue(),u=at(),l=t+zt,d=u.firstCreatePass?AP(l,u,c,e,n,r,i,s,o):u.data[l];lo(d,!1);let h=SP(u,c,d,t);ep()&&hp(u,c,h,d),wr(h,c);let f=ED(h,c,h,d);return c[l]=f,_u(c,f),CP(f,d,c),Kf(d)&&mD(u,c,d),o!=null&&yD(c,d,a),Cp}function RP(t,e,n,r){return tp(!0),e[Ue].createComment("")}function MP(t,e,n,r){return wu(t,vE(),n)?e+Bw(n)+r:Sr}function Fc(t,e){return t<<17|e<<2}function Dr(t){return t>>17&32767}function NP(t){return(t&2)==2}function xP(t,e){return t&131071|e<<17}function Pf(t){return t|2}function Ui(t){return(t&131068)>>2}function Kh(t,e){return t&-131069|e<<2}function PP(t){return(t&1)===1}function Of(t){return t|1}function OP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Dr(o),c=Ui(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||fo(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Dr(t[a+1]);t[r+1]=Fc(h,a),h!==0&&(t[h+1]=Kh(t[h+1],r)),t[a+1]=xP(t[a+1],r)}else t[r+1]=Fc(a,0),a!==0&&(t[a+1]=Kh(t[a+1],r)),a=r;else t[r+1]=Fc(c,0),a===0?a=r:t[c+1]=Kh(t[c+1],r),c=r;u&&(t[r+1]=Pf(t[r+1])),Pw(t,l,r,!0),Pw(t,l,r,!1),kP(e,l,t,r,s),o=Fc(a,c),s?e.classBindings=o:e.styleBindings=o}function kP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&fo(s,e)>=0&&(n[r+1]=Of(n[r+1]))}function Pw(t,e,n,r){let i=t[n+1],s=e===null,o=r?Dr(i):Ui(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];FP(c,e)&&(a=!0,t[o+1]=r?Of(u):Pf(u)),o=r?Dr(u):Ui(u)}a&&(t[n+1]=r?Pf(i):Of(i))}function FP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?fo(t,e)>=0:!1}function po(t,e,n){let r=ue(),i=vE();if(wu(r,i,e)){let s=at(),o=zM();bx(s,o,r,t,e,r[Ue],n,!1)}return po}function Ow(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";_p(t,n,s[o],o,r)}function Eu(t,e){return VP(t,e,null,!0),Eu}function VP(t,e,n,r){let i=ue(),s=at(),o=UM(2);if(s.firstUpdatePass&&UP(s,t,o,r),e!==Sr&&wu(i,o,e)){let a=s.data[$i()];qP(s,a,i,i[Ue],t,i[o+1]=zP(e,n),r,o)}}function LP(t,e){return e>=t.expandoStartIndex}function UP(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[$i()],o=LP(t,n);GP(s,r)&&e===null&&!o&&(e=!1),e=jP(i,s,e,r),OP(i,s,e,n,o,r)}}function jP(t,e,n,r){let i=HM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Qh(null,t,e,n,r),n=oo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Qh(i,t,e,n,r),s===null){let c=BP(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Qh(null,t,e,c[1],r),c=oo(c,e.attrs,r),$P(t,e,r,c))}else s=HP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function BP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ui(r)!==0)return t[Dr(r)]}function $P(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Dr(i)]=r}function HP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=oo(r,o,n)}return oo(r,e.attrs,n)}function Qh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=oo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function oo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),dN(t,o,n?!0:e[++s]))}return t===void 0?null:t}function qP(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=PP(u)?kw(c,e,n,i,Ui(u),o):void 0;if(!ou(l)){ou(s)||NP(u)&&(s=kw(c,null,n,i,a,o));let d=dE($i(),n);QN(r,o,d,i,s)}}function kw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Sr&&(h=d?gt:void 0);let f=d?Bh(h,r):l===r?h:void 0;if(u&&!ou(f)&&(f=Bh(c,r)),ou(f)&&(a=f,o))return a;let y=t[i+1];i=o?Dr(y):Ui(y)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Bh(c,r))}return a}function ou(t){return t!==void 0}function zP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=et(pp(t)))),t}function GP(t,e){return(t.flags&(e?8:16))!==0}function WP(t,e,n,r,i,s){let o=e.consts,a=Wc(o,i),c=vu(e,t,2,r,a);return _D(e,n,c,Wc(o,s)),c.attrs!==null&&Sf(c,c.attrs,!1),c.mergedAttrs!==null&&Sf(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Yt(t,e,n,r){let i=ue(),s=at(),o=zt+t,a=i[Ue],c=s.firstCreatePass?WP(o,s,i,e,n,r):s.data[o],u=KP(s,i,c,a,e,t);i[o]=u;let l=Kf(c);return lo(c,!0),rD(a,u,c),(c.flags&32)!==32&&ep()&&hp(s,i,u,c),MM()===0&&wr(u,i),NM(),l&&(mD(s,i,c),gD(s,c,i)),r!==null&&yD(i,c),Yt}function Ln(){let t=yt();mE()?VM():(t=t.parent,lo(t,!1));let e=t;OM(e)&&kM(),xM();let n=at();return n.firstCreatePass&&(np(n,t),oE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&YM(e)&&Ow(n,e,ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ZM(e)&&Ow(n,e,ue(),e.stylesWithoutHost,!1),Ln}function qi(t,e,n,r){return Yt(t,e,n,r),Ln(),qi}function YP(t){typeof t=="string"&&(QP=t.toLowerCase().replace(/_/g,"-"))}function Un(t){return!!t&&typeof t.then=="function"}function Tp(t){return!!t&&typeof t.subscribe=="function"}function Nr(t,e,n,r){let i=ue(),s=at(),o=yt();return JP(s,i,i[Ue],o,t,e,r),Nr}function ZP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Zs],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function JP(t,e,n,r,i,s,o){let a=Kf(r),u=t.firstCreatePass&&TD(t),l=e[pn],d=CD(e),h=!0;if(r.type&3||o){let _=Rt(r,e),I=o?o(_):_,C=d.length,B=o?ie=>o(Gt(ie[r.index])):r.index,Z=null;if(!o&&a&&(Z=ZP(t,e,i,r.index)),Z!==null){let ie=Z.__ngLastListenerFn__||Z;ie.__ngNextListenerFn__=s,Z.__ngLastListenerFn__=s,h=!1}else{s=Vw(r,e,l,s,!1);let ie=n.listen(I,i,s);d.push(s,ie),u&&u.push(i,B,C,C+1)}}else s=Vw(r,e,l,s,!1);let f=r.outputs,y;if(h&&f!==null&&(y=f[i])){let _=y.length;if(_)for(let I=0;I<_;I+=2){let C=y[I],B=y[I+1],ye=e[C][B].subscribe(s),se=d.length;d.push(s,ye),u&&u.push(i,r.index,se,-(se+1))}}}function Fw(t,e,n,r){try{return jt(6,e,n),n(r)!==!1}catch(i){return bD(t,i),!1}finally{jt(7,e,n)}}function Vw(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?On(t.index,e):e;Ip(a);let c=Fw(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Fw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function XP(){return this._results[Symbol.iterator]()}function nO(){return bp(yt(),ue())}function bp(t,e){return t.type&4?new tO(e,t,Hi(t,e)):null}function rO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function iO(t,e){return t.type&11?Hi(t,e):t.type&4?bp(t,e):null}function sO(t,e,n,r){return n===-1?iO(e,t):n===-2?oO(t,e,r):Ir(t,t[j],n,e)}function oO(t,e,n){if(n===Nt)return Hi(e,t);if(n===ji)return bp(e,t);if(n===Mr)return kD(e,t)}function FD(t,e,n,r){let i=e[$t].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(sO(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Bf(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=FD(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=ot;d<l.length;d++){let h=l[d];h[uo]===h[Oe]&&Bf(h[j],h,u,r)}if(l[Fi]!==null){let d=l[Fi];for(let h=0;h<d.length;h++){let f=d[h];Bf(f[j],f,u,r)}}}}}return r}function aO(t,e){return t[$t].queries[e].queryList}function cO(t,e,n){let r=new kf((n&4)===4);Ex(t,e,r,r.destroy),e[$t]===null&&(e[$t]=new Vf),e[$t].queries.push(new Ff(r))}function uO(t,e,n){t.queries===null&&(t.queries=new Uf),t.queries.track(new jf(e,n))}function VD(t,e){return t.queries.getByIndex(e)}function LD(t,e,n){let r=at();r.firstCreatePass&&(uO(r,new Lf(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),cO(r,ue(),e)}function Ap(t){let e=ue(),n=at(),r=_E();Zf(r+1);let i=VD(n,r);if(t.dirty&&bM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?Bf(n,e,r,[]):FD(n,e,i,r);t.reset(s,rx),t.notifyOnChanges()}return!0}return!1}function Sp(){return aO(ue(),_E())}function lO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function go(t,e=""){let n=ue(),r=at(),i=t+zt,s=r.firstCreatePass?vu(r,i,1,e,null):r.data[i],o=dO(r,n,s,e,t);n[i]=o,ep()&&hp(r,n,o,s),lo(s,!1)}function Rp(t){return mo("",t,""),Rp}function mo(t,e,n){let r=ue(),i=MP(r,t,e,n);return i!==Sr&&jx(r,$i(),i),mo}function hO(t,e,n){let r=at();if(r.firstCreatePass){let i=xn(t);$f(n,r.data,r.blueprint,i,!0),$f(e,r.data,r.blueprint,i,!1)}}function $f(t,e,n,r,i){if(t=We(t),Array.isArray(t))for(let s=0;s<t.length;s++)$f(t[s],e,n,r,i);else{let s=at(),o=ue(),a=yt(),c=Li(t)?t:We(t.provide),u=qE(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Li(t)||!t.multi){let f=new _r(u,i,J),y=Zh(c,e,i?l:l+h,d);y===-1?(af(Zc(a,o),s,c),Yh(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[y]=f,o[y]=f)}else{let f=Zh(c,e,l+h,d),y=Zh(c,e,l,l+h),_=f>=0&&n[f],I=y>=0&&n[y];if(i&&!I||!i&&!_){af(Zc(a,o),s,c);let C=gO(i?pO:fO,n.length,i,r,u);!i&&I&&(n[y].providerFactory=C),Yh(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else{let C=UD(n[i?y:f],u,!i&&r);Yh(s,t,f>-1?f:y,C)}!i&&r&&I&&n[y].componentProviders++}}}function Yh(t,e,n,r){let i=Li(e),s=mN(e);if(i||s){let c=(s?We(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function UD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Zh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fO(t,e,n,r){return Hf(this.multi,[])}function pO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ir(n,n[j],this.providerFactory.index,r);s=a.slice(0,o),Hf(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Hf(i,s);return s}function Hf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function gO(t,e,n,r,i){let s=new _r(t,n,J);return s.multi=[],s.index=e,s.componentProviders=0,UD(s,i,r&&!n),s}function Du(t,e=[]){return n=>{n.providersResolver=(r,i)=>hO(r,i?i(t):t,e)}}function Cu(t){xD("NgStandalone"),t.getStandaloneInjector=e=>e.get(mO).getOrCreateStandaloneInjector(t)}function jD(t,e,n,r){return BD(ue(),yE(),t,e,n,r)}function yO(t,e){let n=t[e];return n===Sr?void 0:n}function BD(t,e,n,r,i,s){let o=e+n;return wu(t,o,i)?bP(t,o+1,s?r.call(s,i):r(i)):yO(t,o+1)}function $D(t,e){let n=at(),r,i=t+zt;n.firstCreatePass?(r=vO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=yr(r.type,!0)),o,a=Xe(J);try{let c=Yc(!1),u=s();return Yc(c),lO(n,ue(),i,u),u}finally{Xe(a)}}function vO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function HD(t,e,n){let r=t+zt,i=ue(),s=TM(i,r);return _O(i,r)?BD(i,yE(),e,s.transform,n,s):s.transform(n)}function _O(t,e){return t[j].data[e].pure}function IO(){$_(()=>{throw new A(600,!1)})}function wO(t){return t.isBoundToModule}function EO(t,e,n){try{let r=n();return Un(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function Jh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Lw(t){return Yf(t)}function CO(t){return[{provide:oe,useFactory:t},{provide:Vi,multi:!0,useFactory:()=>{let e=b(DO,{optional:!0});return()=>e.initialize()}},{provide:Vi,multi:!0,useFactory:()=>{let e=b(SO);return()=>{e.initialize()}}},{provide:uD,useFactory:TO}]}function TO(){let t=b(oe),e=b(mn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function bO(t){let e=CO(()=>new oe(AO(t)));return fu([[],e])}function AO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function RO(){return typeof $localize<"u"&&$localize.locale||au}function MO(t=[],e){return vt.create({name:e,providers:[{provide:gu,useValue:"platform"},{provide:KD,useValue:new Set([()=>$c=null])},...t]})}function NO(t=[]){if($c)return $c;let e=MO(t);return $c=e,IO(),xO(e),e}function xO(t){t.get(cp,null)?.forEach(n=>n())}function QD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=NO(r),s=[bO(),...n||[]],a=new su({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(oe);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(mn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(KD);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),EO(u,c,()=>{let f=a.get(WD);return f.runInitializers(),f.donePromise.then(()=>{let y=a.get(xp,au);YP(y||au);let _=a.get(xr);return e!==void 0&&_.bootstrap(e),_})})})}catch(e){return Promise.reject(e)}}var FR,A,LR,UR,jR,BR,$R,Hc,zs,rw,Hw,ow,qw,GR,$,Xh,Gs,x,KR,Qs,ef,qc,QR,YR,ZR,aw,Ws,Ww,Ht,Oi,gt,tt,Qw,yn,j,R,Oe,At,St,zc,Zs,pn,ki,Nn,Ue,Js,hw,co,qt,uo,Mi,$t,du,iE,Ks,Lh,gr,zt,sE,mr,Gc,Fi,ot,Wf,Xs,uE,fw,jt,wM,EM,DM,Q,CE,TE,Pi,_r,of,XM,SE,RE,eN,Bt,fr,Oc,Mt,LE,Vi,UE,jE,Xc,fN,gu,jc,yN,$h,mt,no,vt,hf,ap,CN,cp,kn,up,gn,QE,TN,vw,RN,zN,Iw,gf,mf,ZN,JN,XN,yf,tu,tx,vf,br,Nt,ro,Ar,sx,qh,_f,cx,If,wf,Ef,nu,yp,sD,fx,px,mn,uD,lD,gx,Sr,wx,AD,Er,Fn,Tw,bf,Pe,oe,Qx,PD,iu,Rf,io,Mf,IW,mP,Mr,IP,OD,EP,DP,Pn,so,Nf,xf,su,Iu,SP,KP,au,QP,kf,ji,eO,tO,Ff,Vf,Lf,Uf,jf,dO,mO,Wt,qD,Tu,qf,Mp,zD,GD,WD,Np,xr,DO,SO,xp,KD,$c,Ae=g(()=>{"use strict";H_();lr();dr();FR="https://g.co/ng/security#xss",A=class extends Error{constructor(e,n){super(zf(e,n)),this.code=e}};LR=ae({__forward_ref__:ae});UR=ae({\u0275cmp:ae}),jR=ae({\u0275dir:ae}),BR=ae({\u0275pipe:ae}),$R=ae({\u0275mod:ae}),Hc=ae({\u0275fac:ae}),zs=ae({__NG_ELEMENT_ID__:ae}),rw=ae({__NG_ENV_ID__:ae});Hw=ae({\u0275prov:ae}),ow=ae({\u0275inj:ae}),qw=ae({ngInjectableDef:ae}),GR=ae({ngInjectorDef:ae}),$=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($||{});Gs=globalThis,x=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},KR={},Qs=KR,ef="__NG_DI_FLAG__",qc="ngTempTokenPath",QR="ngTokenPath",YR=/\n/gm,ZR="\u0275",aw="__source";Ww=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ww||{}),Ht=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ht||{}),Oi={},gt=[],tt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(tt||{});Qw="ng-template";yn=0,j=1,R=2,Oe=3,At=4,St=5,zc=6,Zs=7,pn=8,ki=9,Nn=10,Ue=11,Js=12,hw=13,co=14,qt=15,uo=16,Mi=17,$t=18,du=19,iE=20,Ks=21,Lh=22,gr=23,zt=25,sE=1,mr=7,Gc=8,Fi=9,ot=10,Wf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Wf||{});Xs=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};Cr.ngInherit=!0;uE="__ngSimpleChanges__";fw=null,jt=function(t,e,n){fw?.(t,e,n)},wM="svg",EM="math",DM=!1;Q={lFrame:EE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};CE=DE;TE=!0;Pi=-1,_r=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};of=!0;XM=256,SE=XM-1,RE=5,eN=0,Bt={};fr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return PE(this._tNode,this._lView,e,uu(r),n)}};Oc="__parameters__";Mt=Gw(FE("Optional"),8),LE=Gw(FE("SkipSelf"),4),Vi=new x(""),UE=new x("",-1),jE=new x(""),Xc=class{get(e,n=Qs){if(n===Qs){let r=new Error(`NullInjectorError: No provider for ${et(e)}!`);throw r.name="NullInjectorError",r}return n}};fN=ae({provide:String,useValue:ae});gu=new x(""),jc={},yN={};mt=class{},no=class extends mt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,df(e,o=>this.processProvider(o)),this.records.set(UE,Ni(void 0,this)),i.has("environment")&&this.records.set(mt,Ni(void 0,this));let s=this.records.get(gu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(jE,gt,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Mn(this),r=Xe(void 0),i;try{return e()}finally{Mn(n),Xe(r)}}get(e,n=Qs,r=$.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(rw))return e[rw](this);r=uu(r);let i,s=Mn(this),o=Xe(void 0);try{if(!(r&$.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=EN(e)&&cu(e);u&&this.injectableDefInScope(u)?c=Ni(lf(e),jc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&$.Self?op():this.parent;return n=r&$.Optional&&n===Qs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[qc]=a[qc]||[]).unshift(et(e)),s)throw a;return eM(a,e,"R3InjectorError",this.source)}else throw a}finally{Xe(o),Mn(s)}}resolveInjectorInitializers(){let e=Mn(this),n=Xe(void 0),r;try{let i=this.get(Vi,gt,$.Self);for(let s of i)s()}finally{Mn(e),Xe(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(et(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){e=We(e);let n=Li(e)?e:We(e&&e.provide),r=_N(e);if(!Li(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ni(void 0,jc,!0),i.factory=()=>tf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===jc&&(n.value=yN,n.value=n.factory()),typeof n.value=="object"&&n.value&&wN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=We(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};vt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return yw({name:""},i,r,"");{let s=r.name??"";return yw({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Qs,e.NULL=new Xc,e.\u0275prov=N({token:e,providedIn:"any",factory:()=>H(UE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();ap=new x("",{providedIn:"root",factory:()=>CN}),CN="ng",cp=new x(""),kn=new x("",{providedIn:"platform",factory:()=>"unknown"}),up=new x("",{providedIn:"root",factory:()=>DN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});gn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(gn||{}),QE=new Map,TN=0;vw="__ngContext__";zN=qN;gf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${FR})`}};mf=class{},ZN="h",JN="b",XN=()=>null;yf=class{},tu=class{};tx="ngComponent",vf=class{resolveComponentFactory(e){throw ex(e)}},br=(()=>{let e=class e{};e.NULL=new vf;let t=e;return t})();Nt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=nx;let t=e;return t})();ro=class{},Ar=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>ix();let t=e;return t})();sx=(()=>{let e=class e{};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),qh={};_f=class{constructor(){}supports(e){return iD(e)}create(e){return new If(e)}},cx=(t,e)=>e,If=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cx}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<ww(r,i,s)?n:r,a=ww(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,y=f+h;l<=y&&y<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!iD(e))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,ox(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new wf(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new nu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},wf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ef=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},nu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ef,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};yp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Ew()),deps:[[e,new LE,new Mt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new A(901,!1)}};e.\u0275prov=N({token:e,providedIn:"root",factory:Ew});let t=e;return t})();sD=[];fx=te(T({},L_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{eo(t.lView)},consumerOnSignalRead(){this.lView[gr]=this}});px="ngOriginalError";mn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zh(e);for(;n&&zh(n);)n=zh(n);return n||null}},uD=new x("",{providedIn:"root",factory:()=>b(mn).handleError.bind(void 0)}),lD=!1,gx=new x("",{providedIn:"root",factory:()=>lD}),Sr={};wx=()=>null;AD=100;Er=class{get rootNodes(){let e=this._lView,n=e[j];return ru(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(e){this._lView[pn]=e}get destroyed(){return(this._lView[R]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Oe];if(vn(e)){let n=e[Gc],r=n?n.indexOf(this):-1;r>-1&&(ff(e,r),Jc(n,r))}this._attachedToViewContainer=!1}XE(this._lView[j],this._lView)}onDestroy(e){RM(this._lView,e)}markForCheck(){Ip(this._cdRefInjectingView||this._lView)}detach(){this._lView[R]&=-129}reattach(){rf(this._lView),this._lView[R]|=128}detectChanges(){this._lView[R]|=1024,SD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ZE(this._lView[j],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e,rf(this._lView)}},Fn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Gx;let t=e;return t})();Tw=new Set;bf=class extends Ge{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Gh(s),i&&(i=Gh(i)),o&&(o=Gh(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ve&&e.add(a),a}};Pe=bf;oe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Kx().nativeRequestAnimationFrame,Zx(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Qx,bw,bw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Qx={};PD=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i();this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();iu=class extends br{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=pr(e);return new io(n,this.ngModule)}};Rf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=uu(r);let i=this.injector.get(e,qh,r);return i!==qh||n===qh?i:this.parentInjector.get(e,n,r)}},io=class extends tu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Rw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Rw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=hM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof mt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Rf(e,s):e,a=o.get(ro,null);if(a===null)throw new A(407,!1);let c=o.get(sx,null),u=o.get(PD,null),l=o.get(mf,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",y=r?_x(h,r,this.componentDef.encapsulation,o):YE(h,f,nP(f)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let I=null;y!==null&&(I=gp(y,o,!0));let C=vp(0,null,null,1,0,null,null,null,null,null,null),B=yu(null,C,null,_,null,null,d,h,o,null,I);Jf(B);let Z,ie;try{let ye=this.componentDef,se,rt=null;ye.findHostDirectiveDefs?(se=[],rt=new Map,ye.findHostDirectiveDefs(ye,se,rt),se.push(ye)):se=[ye];let Tn=rP(B,y),nr=iP(Tn,y,ye,se,B,d,h);ie=hE(C,zt),y&&aP(h,ye,y,r),n!==void 0&&cP(ie,this.ngContentSelectors,n),Z=oP(nr,ye,se,rt,B,[uP]),Ep(C,B,null)}finally{Xf()}return new Mf(this.componentType,Z,Hi(ie,B),B,ie)}},Mf=class extends yf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Er(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;_p(s[j],s,i,e,n),this.previousInputValues.set(e,n);let o=On(this._tNode.index,s);Ip(o)}}get injector(){return new fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};IW=new RegExp(`^(\\d+)*(${JN}|${ZN})*(.*)`),mP=()=>null;Mr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_P;let t=e;return t})();IP=Mr,OD=class extends IP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Hi(this._hostTNode,this._hostLView)}get injector(){return new fr(this._hostTNode,this._hostLView)}get parentInjector(){let e=rp(this._hostTNode,this._hostLView);if(AE(e)){let n=Qc(e,this._hostLView),r=Kc(e),i=n[j].data[r+8];return new fr(i,n)}else return new fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=xw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Mw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Nw(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!aN(e),a;if(o)a=n;else{let y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let c=o?e:new io(pr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?u:this.parentInjector).get(mt,null);_&&(s=_)}let l=pr(c.componentType??{}),d=Mw(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,Nw(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(AM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Oe],u=new OD(c,c[St],c[Oe]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return vP(o,i,s,r),e.attachToViewContainerRef(),VE(Wh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=xw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ff(this._lContainer,n);r&&(Jc(Wh(this._lContainer),n),XE(r[j],r))}detach(e){let n=this._adjustIndex(e,-1),r=ff(this._lContainer,n);return r&&Jc(Wh(this._lContainer),n)!=null?new Er(r):null}_adjustIndex(e,n=0){return e??this.length+n}};EP=TP,DP=()=>!1;Pn=class{},so=class{},Nf=class extends Pn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new iu(this);let i=tE(e);this._bootstrapComponents=WE(i.bootstrap),this._r3Injector=zE(e,n,[{provide:Pn,useValue:this},{provide:br,useValue:this.componentFactoryResolver},...r],et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xf=class extends so{constructor(e){super(),this.moduleType=e}create(e){return new Nf(this.moduleType,e,[])}},su=class extends Pn{constructor(e){super(),this.componentFactoryResolver=new iu(this),this.instance=null;let n=new no([...e.providers,{provide:Pn,useValue:this},{provide:br,useValue:this.componentFactoryResolver}],e.parent||op(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};Iu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();SP=RP;KP=(t,e,n,r,i,s)=>(tp(!0),YE(r,i,GM())),au="en-US",QP=au;kf=class t{get changes(){return this._changes??=new Pe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=XP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=uN(e);(this._changesDetected=!cN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},ji=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nO;let t=e;return t})(),eO=ji,tO=class extends eO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=yP(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Er(i)}};Ff=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Vf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)VD(e,n).matches!==null&&this.queries[n].setDirty()}},Lf=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},Uf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},jf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,rO(n,s)),this.matchTNodeWithReadOption(e,n,Uc(n,e,s,!1,!1))}else r===ji?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Uc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Nt||i===Mr||i===ji&&n.type&4)this.addMatch(n.index,-2);else{let s=Uc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};dO=(t,e,n,r,i)=>(tp(!0),MN(e[Ue],r));mO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=BE(!1,r.type),s=i.length>0?Dp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(H(mt))});let t=e;return t})();Wt=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},qD=new Wt("17.1.3"),Tu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),qf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Mp=(()=>{let e=class e{compileModuleSync(r){return new xf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=tE(r),o=WE(s.declarations).reduce((a,c)=>{let u=pr(c);return u&&a.push(new io(u)),a},[]);return new qf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zD=new x(""),GD=new x(""),WD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=b(GD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Un(o))r.push(o);else if(Tp(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Np=new x("");xr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=b(uD),this.afterRenderEffectManager=b(PD),this.componentTypes=[],this.components=[],this.isStable=b(Iu).hasPendingTasks.pipe(L(r=>!r)),this._injector=b(mt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof tu;if(!this._injector.get(WD).done){let f=!s&&eE(r),y=!1;throw new A(405,y)}let a;s?a=r:a=this._injector.get(br).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=wO(a)?void 0:this._injector.get(Pn),u=i||a.selector,l=a.create(vt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(zD,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Jh(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0;do{if(r===AD)throw new A(103,!1);let i=r===0;for(let{_lView:s,notifyErrorHandler:o}of this._views)!i&&!Lw(s)||this.detectChangesInView(s,o,i);this.afterRenderEffectManager.execute(),r++}while(this._views.some(({_lView:i})=>Lw(i)))}detectChangesInView(r,i,s){let o;s?(o=0,r[R]|=1024):r[R]&64?o=0:o=1,SD(r,i,o)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Jh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Np,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Jh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new A(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();DO=(()=>{let e=class e{constructor(){this.zone=b(oe),this.applicationRef=b(xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();SO=(()=>{let e=class e{constructor(){this.subscription=new ve,this.initialized=!1,this.zone=b(oe),this.pendingTasks=b(Iu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();xp=new x("",{providedIn:"root",factory:()=>b(xp,$.Optional|$.SkipSelf)||RO()}),KD=new x(""),$c=null});function _n(){return tC}function nC(t){tC??=t}function iC(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function YD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Pr(t){return t&&t[0]!=="?"?"?"+t:t}function VO(){return new yo(H(Su))}function LO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ZD(t){return t.replace(/\/index.html$/,"")}function UO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function oC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}function XD(t,e){t.context.$implicit=e.item}function jO(t,e){return new A(2100,!1)}function Vp(t){return t===HO}var tC,bu,_t,rC,kO,Su,FO,sC,yo,Pp,JD,aC,Op,cC,kp,Fp,BO,$O,uC,lC,HO,Au,vo=g(()=>{"use strict";Ae();Ae();tC=null;bu=class{},_t=new x(""),rC=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>b(kO),providedIn:"platform"});let t=e;return t})(),kO=(()=>{let e=class e extends rC{constructor(){super(),this._doc=b(_t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _n().getBaseHref(this._doc)}onPopState(r){let i=_n().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=_n().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();Su=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>b(sC),providedIn:"root"});let t=e;return t})(),FO=new x(""),sC=(()=>{let e=class e extends Su{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??b(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return iC(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Pr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(H(rC),H(FO,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yo=(()=>{let e=class e{constructor(r){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=UO(YD(ZD(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Pr(i))}normalize(r){return e.stripTrailingSlash(LO(this._basePath,ZD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Pr,e.joinWithSlash=iC,e.stripTrailingSlash=YD,e.\u0275fac=function(i){return new(i||e)(H(Su))},e.\u0275prov=N({token:e,factory:()=>VO(),providedIn:"root"});let t=e;return t})();Pp=/\s+/,JD=[],aC=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=JD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Pp):JD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Pp):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Pp).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(J(Nt),J(Ar))},e.\u0275dir=nt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[tt.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})(),Op=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},cC=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Op(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),XD(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);XD(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(J(Mr),J(ji),J(yp))},e.\u0275dir=nt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();kp=class{createSubscription(e,n){return mp(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){mp(()=>e.unsubscribe())}},Fp=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},BO=new Fp,$O=new kp,uC=(()=>{let e=class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Un(r))return BO;if(Tp(r))return $O;throw jO(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(J(Fn,16))},e.\u0275pipe=Zw({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})(),lC="browser",HO="server";Au=class{}});function qO(){return _o=_o||document.querySelector("base"),_o?_o.getAttribute("href"):null}function zO(t){return new URL(t,document.baseURI).pathname}function ZO(t){return KO.replace(qp,t)}function JO(t){return WO.replace(qp,t)}function yC(t,e){return e.map(n=>n.replace(qp,t))}function hC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}function vC(t){return QD(rk(t))}function rk(t){return{appProviders:[...ck,...t?.providers??[]],platformProviders:ak}}function ik(){Bp.makeCurrent()}function sk(){return new mn}function ok(){return GE(document),document}var jp,Bp,_o,GO,$p,pC,Ru,Lp,gC,Up,qp,mC,WO,KO,QO,YO,dC,Io,Hp,wo,Mu,XO,fC,ek,tk,nk,ak,ck,_C,zp=g(()=>{"use strict";Ae();Ae();vo();jp=class extends bu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Bp=class t extends jp{static makeCurrent(){nC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=qO();return n==null?null:zO(n)}resetBaseElement(){_o=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return oC(document.cookie,e)}},_o=null;GO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),$p=new x(""),pC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(H($p),H(oe))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Ru=class{constructor(e){this._doc=e}},Lp="ng-app-id",gC=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vp(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Lp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Lp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Lp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(H(_t),H(ap),H(up,8),H(kn))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Up={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qp=/%COMP%/g,mC="%COMP%",WO=`_nghost-${mC}`,KO=`_ngcontent-${mC}`,QO=!0,YO=new x("",{providedIn:"root",factory:()=>QO});dC=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Vp(c),this.defaultRenderer=new Io(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ht.ShadowDom&&(i=te(T({},i),{encapsulation:Ht.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Mu?s.applyToHost(r):s instanceof wo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Ht.Emulated:o=new Mu(u,l,i,this.appId,d,a,c,h);break;case Ht.ShadowDom:return new Hp(u,l,r,i,a,c,this.nonce,h);default:o=new wo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(H(pC),H(gC),H(ap),H(YO),H(_t),H(kn),H(oe),H(up))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Io=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Up[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(hC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(hC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Up[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Up[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(gn.DashCase|gn.Important)?e.style.setProperty(n,r,i&gn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&gn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=_n().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};Hp=class extends Io{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=yC(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},wo=class extends Io{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?yC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Mu=class extends wo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=ZO(u),this.hostAttr=JO(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},XO=(()=>{let e=class e extends Ru{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(H(_t))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),fC=["alt","control","meta","shift"],ek={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},nk=(()=>{let e=class e extends Ru{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_n().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),fC.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=ek[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),fC.forEach(a=>{if(a!==s){let c=tk[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(H(_t))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();ak=[{provide:kn,useValue:lC},{provide:cp,useValue:ik,multi:!0},{provide:_t,useFactory:ok,deps:[]}],ck=[{provide:gu,useValue:"root"},{provide:mn,useFactory:sk,deps:[]},{provide:$p,useClass:XO,multi:!0,deps:[_t,oe,kn]},{provide:$p,useClass:nk,multi:!0,deps:[_t]},dC,gC,pC,{provide:ro,useExisting:dC},{provide:Au,useClass:GO,deps:[]},[]],_C=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(H(_t))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})()});function lk(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function dk(t){return!!t&&t.nodeType===Node.ELEMENT_NODE}function hk(t){return typeof t=="function"}function fk(t,e){if(!Gp){let n=Element.prototype;Gp=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return t.nodeType===Node.ELEMENT_NODE?Gp.call(t,e):!1}function pk(t,e){return t===e||t!==t&&e!==e}function gk(t){let e={};return t.forEach(({propName:n,templateName:r,transform:i})=>{e[lk(r)]=[n,i]}),e}function mk(t,e){return e.get(br).resolveComponentFactory(t).inputs}function yk(t,e){let n=t.childNodes,r=e.map(()=>[]),i=-1;e.some((s,o)=>s==="*"?(i=o,!0):!1);for(let s=0,o=n.length;s<o;++s){let a=n[s],c=vk(a,e,i);c!==-1&&r[c].push(a)}return r}function vk(t,e,n){let r=n;return dk(t)&&e.some((i,s)=>i!=="*"&&fk(t,i)?(r=s,!0):!1),r}function IC(t,e){let n=mk(t,e.injector),r=e.strategyFactory||new Wp(t,e.injector),i=gk(n),o=class o extends Qp{get ngElementStrategy(){if(!this._ngElementStrategy){let c=this._ngElementStrategy=r.create(this.injector||e.injector);n.forEach(({propName:u,transform:l})=>{if(!this.hasOwnProperty(u))return;let d=this[u];delete this[u],c.setInputValue(u,d,l)})}return this._ngElementStrategy}constructor(c){super(),this.injector=c}attributeChangedCallback(c,u,l,d){let[h,f]=i[c];this.ngElementStrategy.setInputValue(h,l,f)}connectedCallback(){let c=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),c=!0),this.ngElementStrategy.connect(this),c||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(c=>{let u=new CustomEvent(c.name,{detail:c.value});this.dispatchEvent(u)})}};o.observedAttributes=Object.keys(i);let s=o;return n.forEach(({propName:a,transform:c})=>{Object.defineProperty(s.prototype,a,{get(){return this.ngElementStrategy.getInputValue(a)},set(u){this.ngElementStrategy.setInputValue(a,u,c)},configurable:!0,enumerable:!0})}),s}var Nu,Gp,_k,Wp,Kp,Qp,wC=g(()=>{"use strict";Ae();lr();dr();Nu={schedule(t,e){let n=setTimeout(t,e);return()=>clearTimeout(n)},scheduleBeforeRender(t){if(typeof window>"u")return Nu.schedule(t,0);if(typeof window.requestAnimationFrame>"u")return Nu.schedule(t,16);let e=window.requestAnimationFrame(t);return()=>window.cancelAnimationFrame(e)}};_k=10,Wp=class{constructor(e,n){this.componentFactory=n.get(br).resolveComponentFactory(e)}create(e){return new Kp(this.componentFactory,e)}},Kp=class{constructor(e,n){this.componentFactory=e,this.injector=n,this.eventEmitters=new Ls(1),this.events=this.eventEmitters.pipe(st(r=>Nh(...r))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:r})=>r)),this.ngZone=this.injector.get(oe),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(this.scheduledDestroyFn!==null){this.scheduledDestroyFn(),this.scheduledDestroyFn=null;return}this.componentRef===null&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{this.componentRef===null||this.scheduledDestroyFn!==null||(this.scheduledDestroyFn=Nu.schedule(()=>{this.componentRef!==null&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},_k))})}getInputValue(e){return this.runInZone(()=>this.componentRef===null?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,n,r){this.runInZone(()=>{if(r&&(n=r.call(this.componentRef?.instance,n)),this.componentRef===null){this.initialInputValues.set(e,n);return}pk(n,this.getInputValue(e))&&!(n===void 0&&this.unchangedInputs.has(e))||(this.recordInputChange(e,n),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=n,this.scheduleDetectChanges())})}initializeComponent(e){let n=vt.create({providers:[],parent:this.injector}),r=yk(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n,r,e),this.viewChangeDetectorRef=this.componentRef.injector.get(Fn),this.implementsOnChanges=hk(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(xr).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e,transform:n})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e),n)}),this.initialInputValues.clear()}initializeOutputs(e){let n=this.componentFactory.outputs.map(({propName:r,templateName:i})=>e.instance[r].pipe(L(o=>({name:i,value:o}))));this.eventEmitters.next(n)}callNgOnChanges(e){if(!this.implementsOnChanges||this.inputChanges===null)return;let n=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(n)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Nu.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,n){if(!this.implementsOnChanges)return;this.inputChanges===null&&(this.inputChanges={});let r=this.inputChanges[e];if(r){r.currentValue=n;return}let i=this.unchangedInputs.has(e),s=i?void 0:this.getInputValue(e);this.inputChanges[e]=new Xs(s,n,i)}detectChanges(){this.componentRef!==null&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}},Qp=class extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}});function Ek(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function SC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Eo(JSON.stringify(n)),Eo(JSON.stringify(o)),""].join(".")}function je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function bk(){var t;let e=(t=Pu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xC(){return!bk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ou(){try{return typeof indexedDB=="object"}catch{return!1}}function PC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Sk(t,e){return t.replace(Rk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}function zi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(EC(s)&&EC(o)){if(!zi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function EC(t){return t!==null&&typeof t=="object"}function tg(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function OC(t,e){let n=new Jp(t,e);return n.subscribe.bind(n)}function Mk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yp(){}function ct(t){return t&&t._delegate?t._delegate:t}var DC,Ik,CC,Zp,wk,Eo,Xp,Dk,Ck,Tk,Pu,TC,bC,eg,AC,xu,Ak,It,In,Rk,Jp,b9,Or=g(()=>{"use strict";DC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ik=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},CC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ik(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Zp;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Zp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},wk=function(t){let e=DC(t);return CC.encodeByteArray(e,!0)},Eo=function(t){return wk(t).replace(/\./g,"")},Xp=function(t){try{return CC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};Dk=()=>Ek().__FIREBASE_DEFAULTS__,Ck=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Tk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Xp(t[1]);return e&&JSON.parse(e)},Pu=()=>{try{return Dk()||Ck()||Tk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TC=t=>{var e,n;return(n=(e=Pu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bC=t=>{let e=TC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eg=()=>{var t;return(t=Pu())===null||t===void 0?void 0:t.config},AC=t=>{var e;return(e=Pu())===null||e===void 0?void 0:e[`_${t}`]};xu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};Ak="FirebaseError",It=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ak,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,In.prototype.create)}},In=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Sk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new It(i,a,r)}};Rk=/\{\$([^}]+)}/g;Jp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Mk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yp),i.error===void 0&&(i.error=Yp),i.complete===void 0&&(i.complete=Yp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};b9=4*60*60*1e3;});function Nk(t){return t===kr?void 0:t}function xk(t){return t.instantiationMode==="EAGER"}var wt,kr,ng,ku,Do=g(()=>{"use strict";Or();wt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};kr="[DEFAULT]";ng=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new xu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xk(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};ku=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ng(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}});var Pk,G,Ok,kk,Fk,Vk,Bn,Co=g(()=>{"use strict";Pk=[],G=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(G||{}),Ok={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},kk=G.INFO,Fk={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},Vk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Fk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Bn=class{constructor(e){this.name=e,this._logLevel=kk,this._logHandler=Vk,this._userLogHandler=null,Pk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ok[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...e),this._logHandler(this,G.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...e),this._logHandler(this,G.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,G.INFO,...e),this._logHandler(this,G.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,G.WARN,...e),this._logHandler(this,G.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...e),this._logHandler(this,G.ERROR,...e)}}});function Uk(){return kC||(kC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jk(){return FC||(FC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function Bk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VC.set(n,t)}).catch(()=>{}),og.set(e,t),e}function $k(t){if(ig.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ig.set(t,e)}function UC(t){sg=t(sg)}function Hk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Fu(this),e,...n);return LC.set(r,e.sort?e.sort():[e]),Zt(r)}:jk().includes(t)?function(...e){return t.apply(Fu(this),e),Zt(VC.get(this))}:function(...e){return Zt(t.apply(Fu(this),e))}}function qk(t){return typeof t=="function"?Hk(t):(t instanceof IDBTransaction&&$k(t),Lk(t,Uk())?new Proxy(t,sg):t)}function Zt(t){if(t instanceof IDBRequest)return Bk(t);if(rg.has(t))return rg.get(t);let e=qk(t);return e!==t&&(rg.set(t,e),og.set(e,t)),e}var Lk,kC,FC,VC,ig,LC,rg,og,sg,Fu,ag=g(()=>{"use strict";Lk=(t,e)=>e.some(n=>t instanceof n);VC=new WeakMap,ig=new WeakMap,LC=new WeakMap,rg=new WeakMap,og=new WeakMap;sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};Fu=t=>og.get(t)});function BC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Zt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Zt(o.result),c.oldVersion,c.newVersion,Zt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function jC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cg.get(e))return cg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Gk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zk.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return cg.set(e,s),s}var zk,Gk,cg,$C=g(()=>{"use strict";ag();ag();zk=["get","getKey","getAll","getAllKeys","count"],Gk=["put","add","delete","clear"],cg=new Map;UC(t=>te(T({},t),{get:(e,n,r)=>jC(e,n)||t.get(e,n,r),has:(e,n)=>!!jC(e,n)||t.has(e,n)}))});function Wk(t){let e=t.getComponent();return e?.type==="VERSION"}function I1(t,e){try{t.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hn(t){let e=t.name;if(fg.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;fg.set(e,t);for(let n of To.values())I1(n,t);return!0}function yg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:hg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $n.create("bad-app-name",{appName:String(i)});if(n||(n=eg()),!n)throw $n.create("no-options");let s=To.get(i);if(s){if(zi(n,s.options)&&zi(r,s.config))return s;throw $n.create("duplicate-app",{appName:i})}let o=new ku(i);for(let c of fg.values())o.addComponent(c);let a=new pg(n,r,o);return To.set(i,a),a}function Ao(t=hg){let e=To.get(t);if(!e&&t===hg&&eg())return vg();if(!e)throw $n.create("no-app",{appName:t});return e}function Vu(){return Array.from(To.values())}function Se(t,e,n){var r;let i=(r=_1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(a.join(" "));return}Hn(new wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function WC(){return ug||(ug=BC(E1,D1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bo)}catch(n){console.warn(n)}}}}).catch(t=>{throw $n.create("idb-open",{originalErrorMessage:t.message})})),ug}function C1(t){return p(this,null,function*(){try{let n=(yield WC()).transaction(bo),r=yield n.objectStore(bo).get(KC(t));return yield n.done,r}catch(e){if(e instanceof It)Fr.warn(e.message);else{let n=$n.create("idb-get",{originalErrorMessage:e?.message});Fr.warn(n.message)}}})}function qC(t,e){return p(this,null,function*(){try{let r=(yield WC()).transaction(bo,"readwrite");yield r.objectStore(bo).put(e,KC(t)),yield r.done}catch(n){if(n instanceof It)Fr.warn(n.message);else{let r=$n.create("idb-set",{originalErrorMessage:n?.message});Fr.warn(r.message)}}})}function KC(t){return`${t.name}!${t.options.appId}`}function zC(){return new Date().toISOString().substring(0,10)}function A1(t,e=T1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),GC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}function GC(t){return Eo(JSON.stringify({version:2,heartbeats:t})).length}function S1(t){Hn(new wt("platform-logger",e=>new lg(e),"PRIVATE")),Hn(new wt("heartbeat",e=>new gg(e),"PRIVATE")),Se(dg,HC,t),Se(dg,HC,"esm2017"),Se("fire-js","")}var lg,dg,HC,Fr,Kk,Qk,Yk,Zk,Jk,Xk,e1,t1,n1,r1,i1,s1,o1,a1,c1,u1,l1,d1,h1,f1,p1,g1,m1,y1,v1,hg,_1,To,fg,w1,$n,pg,Gi,E1,D1,bo,ug,T1,b1,gg,mg,Wi=g(()=>{"use strict";Do();Co();Or();Or();$C();lg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};dg="@firebase/app",HC="0.9.27";Fr=new Bn("@firebase/app"),Kk="@firebase/app-compat",Qk="@firebase/analytics-compat",Yk="@firebase/analytics",Zk="@firebase/app-check-compat",Jk="@firebase/app-check",Xk="@firebase/auth",e1="@firebase/auth-compat",t1="@firebase/database",n1="@firebase/database-compat",r1="@firebase/functions",i1="@firebase/functions-compat",s1="@firebase/installations",o1="@firebase/installations-compat",a1="@firebase/messaging",c1="@firebase/messaging-compat",u1="@firebase/performance",l1="@firebase/performance-compat",d1="@firebase/remote-config",h1="@firebase/remote-config-compat",f1="@firebase/storage",p1="@firebase/storage-compat",g1="@firebase/firestore",m1="@firebase/firestore-compat",y1="firebase",v1="10.8.0";hg="[DEFAULT]",_1={[dg]:"fire-core",[Kk]:"fire-core-compat",[Yk]:"fire-analytics",[Qk]:"fire-analytics-compat",[Jk]:"fire-app-check",[Zk]:"fire-app-check-compat",[Xk]:"fire-auth",[e1]:"fire-auth-compat",[t1]:"fire-rtdb",[n1]:"fire-rtdb-compat",[r1]:"fire-fn",[i1]:"fire-fn-compat",[s1]:"fire-iid",[o1]:"fire-iid-compat",[a1]:"fire-fcm",[c1]:"fire-fcm-compat",[u1]:"fire-perf",[l1]:"fire-perf-compat",[d1]:"fire-rc",[h1]:"fire-rc-compat",[f1]:"fire-gcs",[p1]:"fire-gcs-compat",[g1]:"fire-fst",[m1]:"fire-fst-compat","fire-js":"fire-js",[y1]:"fire-js-all"};To=new Map,fg=new Map;w1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$n=new In("app","Firebase",w1);pg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}};Gi=v1;E1="firebase-heartbeat-database",D1=1,bo="firebase-heartbeat-store",ug=null;T1=1024,b1=30*24*60*60*1e3,gg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new mg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=b1}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=zC(),{heartbeatsToSend:r,unsentEntries:i}=A1(this._heartbeatsCache.heartbeats),s=Eo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};mg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Ou()?PC().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield C1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};S1("")});var R1,M1,Ki=g(()=>{"use strict";Wi();Wi();R1="firebase",M1="10.8.0";Se(R1,M1,"app")});function Ig(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}function Qi(){}function Uu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function x1(t){return Uu().ngZone.runOutsideAngular(()=>t())}function Vr(t){return Uu().ngZone.run(()=>t())}function P1(t){return O1(Uu())(t)}function O1(t){return function(n){return n=n.lift(new _g(t.ngZone)),n.pipe(An(t.outsideAngular),bn(t.insideAngular))}}var Yi,Ro,So,N1,Lu,_g,Mo,k1,xt,ju=g(()=>{"use strict";Ae();Ae();Ki();lr();dr();Yi=new Wt("ANGULARFIRE2_VERSION");Ro=(t,e)=>{let n=e?[e]:Vu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},So=class{constructor(){return Ro(N1)}},N1="app-check";Lu=class{zone;delegate;constructor(e,n=fh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},_g=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qi,{},Qi,Qi)),n.pipe(_e({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Mo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Lu(Zone.current)),this.insideAngular=n.run(()=>new Lu(Zone.current,hh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(H(oe))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();k1=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Vr(()=>t.apply(void 0,r))},xt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Vr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qi,{},Qi,Qi))),r[s]=k1(r[s],n));let i=x1(()=>t.apply(this,r));if(!e)if(i instanceof q){let s=Uu();return i.pipe(An(s.outsideAngular),bn(s.insideAngular))}else return Vr(()=>i);return i instanceof q?i.pipe(P1):i instanceof Promise?Vr(()=>new Promise((s,o)=>i.then(a=>Vr(()=>s(a)),a=>Vr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Vr(()=>i)}});function F1(t){return t&&t.length===1?t[0]:new Lr(Ao())}function U1(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Lr(r)}}function QC(t,...e){return{ngModule:j1,providers:[{provide:wg,useFactory:U1(t),multi:!0,deps:[oe,vt,Mo,...e]}]}}var Lr,No,wg,V1,L1,j1,YC,Eg=g(()=>{"use strict";Ki();Ki();Ae();Ae();ju();Lr=class{constructor(e){return e}},No=class{constructor(){return Vu()}};wg=new x("angularfire2._apps"),V1={provide:Lr,useFactory:F1,deps:[[new Mt,wg]]},L1={provide:No,deps:[[new Mt,wg]]};j1=(()=>{class t{constructor(n){Se("angularfire",Yi.full,"core"),Se("angularfire",Yi.full,"app"),Se("angular",qD.full,n.toString())}static \u0275fac=function(r){return new(r||t)(H(kn))};static \u0275mod=Qt({type:t});static \u0275inj=Kt({providers:[V1,L1]})}return t})();YC=xt(vg,!0)});function rT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}function $1(t,...e){Hu.logLevel<=G.WARN&&Hu.warn(`Auth (${Gi}): ${t}`,...e)}function $u(t,...e){Hu.logLevel<=G.ERROR&&Hu.error(`Auth (${Gi}): ${t}`,...e)}function ZC(t,...e){throw Og(t,...e)}function Pg(t,...e){return Og(t,...e)}function H1(t,e,n){let r=Object.assign(Object.assign({},iT()),{[e]:n});return new In("auth","Firebase",r).create(e,{appName:t.name})}function Og(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sT.create(t,...e)}function ne(t,e,...n){if(!t)throw Og(e,...n)}function xo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw $u(e),new Error(e)}function qu(t,e){t||xo(e)}function q1(){return JC()==="http:"||JC()==="https:"}function JC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function z1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q1()||MC()||"connection"in navigator)?navigator.onLine:!0}function G1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}function W1(t,e){qu(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}function oT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ju(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return aT(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=tg(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),zu.fetch()(cT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function aT(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},K1),e);try{let i=new Tg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Bu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Bu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Bu(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw H1(t,l,u);ZC(t,l)}}catch(i){if(i instanceof It)throw i;ZC(t,"network-request-failed",{message:String(i)})}})}function cT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?W1(t.config,i):`${t.config.apiScheme}://${i}`}function Bu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Pg(t,e,r);return i.customData._tokenResponse=n,i}function Y1(t,e){return p(this,null,function*(){return Ju(t,"POST","/v1/accounts:delete",e)})}function Z1(t,e){return p(this,null,function*(){return Ju(t,"POST","/v1/accounts:lookup",e)})}function Po(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kg(t,e=!1){return p(this,null,function*(){let n=ct(t),r=yield n.getIdToken(e),i=uT(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Po(Dg(i.auth_time)),issuedAtTime:Po(Dg(i.iat)),expirationTime:Po(Dg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Dg(t){return Number(t)*1e3}function uT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $u("JWT malformed, contained fewer than 3 sections"),null;try{let i=Xp(n);return i?JSON.parse(i):($u("Failed to decode base64 JWT payload"),null)}catch(i){return $u("Caught error parsing JWT payload as JSON",i?.toString()),null}}function J1(t){let e=uT(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function bg(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof It&&X1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function X1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}function Wu(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield bg(t,Z1(n,{idToken:r}));ne(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tF(s.providerUserInfo):[],a=eF(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gu(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Fg(t){return p(this,null,function*(){let e=ct(t);yield Wu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function eF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tF(t){return t.map(e=>{var{providerId:n}=e,r=gh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function nF(t,e){return p(this,null,function*(){let n=yield aT(t,{},()=>p(this,null,function*(){let r=tg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=cT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zu.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function rF(t,e){return p(this,null,function*(){return Ju(t,"POST","/v2/accounts:revokeToken",oT(t,e))})}function qn(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}function Ur(t){qu(t instanceof Function,"Expected a class definition");let e=XC.get(t);return e?(qu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XC.set(t,e),e)}function Cg(t,e,n){return`firebase:${t}:${e}:${n}`}function eT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lF(e))return"Blackberry";if(dF(e))return"Webos";if(oF(e))return"Safari";if((e.includes("chrome/")||aF(e))&&!e.includes("edge/"))return"Chrome";if(uF(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function sF(t=je()){return/firefox\//i.test(t)}function oF(t=je()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aF(t=je()){return/crios\//i.test(t)}function cF(t=je()){return/iemobile/i.test(t)}function uF(t=je()){return/android/i.test(t)}function lF(t=je()){return/blackberry/i.test(t)}function dF(t=je()){return/webos/i.test(t)}function lT(t,e=[]){let n;switch(t){case"Browser":n=eT(je());break;case"Worker":n=`${eT(je())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gi}/${r}`}function hF(n){return p(this,arguments,function*(t,e={}){return Ju(t,"GET","/v2/passwordPolicy",oT(t,e))})}function pF(t){return ct(t)}function mF(t){gF=t}function yF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function vF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ur);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _F(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IF(t){Hn(new wt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lT(t)},u=new Ng(r,i,s,c);return vF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hn(new wt("auth-internal",e=>{let n=pF(e.getProvider("auth").getImmediate());return(r=>new xg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Se(tT,nT,_F(t)),Se(tT,nT,"esm2017")}function EF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}var iT,sT,Hu,jr,zu,K1,Q1,Tg,Ag,Gu,Ku,Qu,XC,iF,Sg,Yu,Rg,fF,Mg,Ng,Zu,gF,I3,w3,E3,D3,C3,T3,b3,tT,nT,xg,wF,A3,dT=g(()=>{"use strict";Or();Wi();Co();uc();Do();iT=rT,sT=new In("auth","Firebase",rT());Hu=new Bn("@firebase/auth");jr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,qu(n>e,"Short delay should be less than long delay!"),this.isMobile=RC()||NC()}get(){return z1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};zu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};K1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};Q1=new jr(3e4,6e4);Tg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pg(this.auth,"network-request-failed")),Q1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};Ag=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};Gu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};Ku=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield nF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return xo("not implemented")}};Qu=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=gh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ag(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield bg(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return kg(this,e)}reload(){return Fg(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Wu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield bg(this,Y1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(u=n.createdAt)!==null&&u!==void 0?u:void 0,B=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:Z,emailVerified:ie,isAnonymous:ye,providerData:se,stsTokenManager:rt}=n;ne(Z&&rt,e,"internal-error");let Tn=Ku.fromJSON(this.name,rt);ne(typeof Z=="string",e,"internal-error"),qn(d,e.name),qn(h,e.name),ne(typeof ie=="boolean",e,"internal-error"),ne(typeof ye=="boolean",e,"internal-error"),qn(f,e.name),qn(y,e.name),qn(_,e.name),qn(I,e.name),qn(C,e.name),qn(B,e.name);let nr=new t({uid:Z,auth:e,email:h,emailVerified:ie,displayName:d,isAnonymous:ye,photoURL:y,phoneNumber:f,tenantId:_,stsTokenManager:Tn,createdAt:C,lastLoginAt:B});return se&&Array.isArray(se)&&(nr.providerData=se.map(Ga=>Object.assign({},Ga))),I&&(nr._redirectEventId=I),nr}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Ku;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Wu(s),s})}};XC=new Map;iF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Sg=iF;Yu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Cg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Qu._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(Ur(Sg),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Ur(Sg),o=Cg(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Qu._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};Rg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};fF=6,Mg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:fF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};Ng=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zu(this),this.idTokenSubscription=new Zu(this),this.beforeStateQueue=new Rg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Yu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Wu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=G1()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?ct(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Ur(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield hF(this),n=new Mg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new In("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield rF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ur(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=yield Yu.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&$1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};Zu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=OC(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};gF={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};I3=yF("rcb"),w3=new jr(3e4,6e4);E3=new jr(2e3,1e4);D3=10*60*1e3;C3=new jr(3e4,6e4);T3=new jr(5e3,15e3);b3=encodeURIComponent("fac");tT="@firebase/auth",nT="1.6.0";xg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};wF=5*60,A3=AC("authIdTokenMaxAge")||wF;mF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Pg("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",EF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IF("Browser")});var hT=g(()=>{"use strict";dT();Or();Wi();Co();Do()});var Vg=g(()=>{"use strict";hT()});var wV,Xu,fT=g(()=>{"use strict";ju();Ki();Vg();Vg();wV="auth",Xu=class{constructor(){return Ro(wV)}}});function fl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Wo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function DV(t){return Object.prototype.hasOwnProperty.call(t,Lg)&&t[Lg]||(t[Lg]=++CV)}function TV(t,e,n){return t.call.apply(t.bind,arguments)}function bV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Be(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Be=TV:Be=bV,Be.apply(null,arguments)}function el(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Me(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function zn(){this.s=this.s,this.o=this.o}function om(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function pT(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(fl(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function $e(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Uo(t){return/^[\s\xa0]*$/.test(t)}function pl(){var t=P.navigator;return t&&(t=t.userAgent)?t:""}function Jt(t){return pl().indexOf(t)!=-1}function am(t){return am[" "](t),t}function RV(t,e){var n=yL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function RT(){var t=P.document;return t?t.documentMode:void 0}function jo(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ST){e:{try{am(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:PV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&jo.$.h.call(this)}}function kV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++OV,this.fa=this.ia=!1}function gl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function cm(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function FV(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function MT(t){let e={};for(let n in t)e[n]=t[n];return e}function NT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<gT.length;s++)n=gT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ml(t){this.src=t,this.g={},this.h=0}function Gg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=bT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(gl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Wg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}function xT(t,e,n,r,i){if(r&&r.once)return OT(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xT(t,e[s],n,r,i);return null}return n=hm(n),t&&t[Ko]?t.O(e,n,Wo(r)?!!r.capture:!!r,i):PT(t,e,n,!1,r,i)}function PT(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Wo(i)?!!i.capture:!!i,a=dm(t);if(a||(t[um]=a=new ml(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=VV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)SV||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(FT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function VV(){function t(n){return e.call(t.src,t.listener,n)}let e=LV;return t}function OT(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)OT(t,e[s],n,r,i);return null}return n=hm(n),t&&t[Ko]?t.P(e,n,Wo(r)?!!r.capture:!!r,i):PT(t,e,n,!0,r,i)}function kT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)kT(t,e[s],n,r,i);else r=Wo(r)?!!r.capture:!!r,n=hm(n),t&&t[Ko]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Wg(s,n,r,i),-1<n&&(gl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=dm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Wg(e,n,r,i)),(n=-1<t?e[t]:null)&&lm(n))}function lm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ko])Gg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(FT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dm(e))?(Gg(n,t),n.h==0&&(n.src=null,e[um]=null)):gl(t)}}}function FT(t){return t in jg?jg[t]:jg[t]="on"+t}function LV(t,e){if(t.fa)t=!0;else{e=new jo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&lm(t),t=n.call(r,e)}return t}function dm(t){return t=t[um],t instanceof ml?t:null}function hm(t){return typeof t=="function"?t:(t[Bg]||(t[Bg]=function(e){return t.handleEvent(e)}),t[Bg])}function Re(){zn.call(this),this.i=new ml(this),this.S=this,this.J=null}function Fe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new $e(e,t);else if(e instanceof $e)e.target=e.target||t;else{var i=e;e=new $e(r,t),NT(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=il(o,r,!0,e)&&i}if(o=e.g=t,i=il(o,r,!0,e)&&i,i=il(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=il(o,r,!1,e)&&i}function il(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Gg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}function UV(){var t=pm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}function jV(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function BV(t){P.setTimeout(()=>{throw t},0)}function yl(t,e){Re.call(this),this.h=t||1,this.g=e||P,this.j=Be(this.qb,this),this.l=Date.now()}function gm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function mm(t,e,n){if(typeof t=="function")n&&(t=Be(t,n));else if(t&&typeof t.handleEvent=="function")t=Be(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:P.setTimeout(t,e||0)}function UT(t){t.g=mm(()=>{t.g=null,t.i&&(t.i=!1,UT(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}function Ho(t){zn.call(this),this.h=t,this.g={}}function jT(t,e,n,r){Array.isArray(n)||(n&&(mT[0]=n.toString()),n=mT);for(var i=0;i<n.length;i++){var s=xT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function BT(t){cm(t.g,function(e,n){this.g.hasOwnProperty(n)&&lm(e)},t),t.g={}}function vl(){this.g=!0}function HV(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function qV(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ji(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+GV(t,n)+(r?" "+r:"")})}function zV(t,e){t.info(function(){return"TIMEOUT: "+e})}function GV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return fm(n)}catch{return e}}function _l(){return yT=yT||new Re}function $T(t){$e.call(this,qr.Ta,t)}function qo(t){let e=_l();Fe(e,new $T(e))}function HT(t,e){$e.call(this,qr.STAT_EVENT,t),this.stat=e}function Ke(t){let e=_l();Fe(e,new HT(e,t))}function qT(t,e){$e.call(this,qr.Ua,t),this.size=e}function Qo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){t()},e)}function ym(){}function vT(t){return t.h||(t.h=t.i())}function GT(){}function vm(){$e.call(this,"d")}function _m(){$e.call(this,"c")}function wl(){}function Zo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ho(this),this.P=WV,t=Hg?125:void 0,this.V=new yl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new WT}function WT(){this.i=null,this.g="",this.h=!1}function em(t,e,n){t.L=1,t.A=Dl(En(e)),t.u=n,t.S=!0,QT(t,null)}function QT(t,e){t.G=Date.now(),Jo(t),t.B=En(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),rb(n.i,"t",r),t.o=0,n=t.l.J,t.h=new WT,t.g=Cb(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Zg(Be(t.Pa,t,t.g),t.O)),jT(t.U,t.g,"readystatechange",t.nb),e=t.I?MT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),qo(),HV(t.j,t.v,t.B,t.m,t.W,t.u)}function YT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function ZT(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=KV(t,n),i==Xg){e==4&&(t.s=4,Ke(14),r=!1),Ji(t.j,t.m,null,"[Incomplete Response]");break}else if(i==KT){t.s=4,Ke(15),Ji(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ji(t.j,t.m,i,null),tm(t,i);YT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ke(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Tm(e),e.M=!0,Ke(11))):(Ji(t.j,t.m,n,"[Invalid Chunked Response]"),Br(t),Lo(t))}function KV(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Xg:(n=Number(e.substring(n,r)),isNaN(n)?KT:(r+=1,r+n>e.length?Xg:(e=e.slice(r,r+n),t.o=r+n,e)))}function Jo(t){t.Y=Date.now()+t.P,JT(t,t.P)}function JT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Qo(Be(t.lb,t),e)}function El(t){t.C&&(P.clearTimeout(t.C),t.C=null)}function Lo(t){t.l.H==0||t.J||Ib(t.l,t)}function Br(t){El(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,gm(t.V),BT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function tm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||nm(n.i,t))){if(!t.K&&nm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ul(n),bl(n);else break e;Cm(n),Ke(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Qo(Be(n.ib,n),6e3));if(1>=ob(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else $r(n,11)}else if((t.K||n.g==t)&&ul(n),!Uo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let y=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Im(s,s.h),s.h=null))}if(r.F){let _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,le(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Db(r,r.J?r.pa:null,r.Y),o.K){ab(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(El(a),Jo(a)),r.g=o}else vb(r);0<n.j.length&&Al(n)}else u[0]!="stop"&&u[0]!="close"||$r(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?$r(n,7):Dm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}qo(4)}catch{}}function QV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(fl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function YV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(fl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function XT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(fl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=YV(t),r=QV(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}function ZV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Hr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Hr){this.h=t.h,al(this,t.j),this.s=t.s,this.g=t.g,cl(this,t.m),this.l=t.l;var e=t.i,n=new zo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),_T(this,n),this.o=t.o}else t&&(e=String(t).match(eb))?(this.h=!1,al(this,e[1]||"",!0),this.s=Fo(e[2]||""),this.g=Fo(e[3]||"",!0),cl(this,e[4]),this.l=Fo(e[5]||"",!0),_T(this,e[6]||"",!0),this.o=Fo(e[7]||"")):(this.h=!1,this.i=new zo(null,this.h))}function En(t){return new Hr(t)}function al(t,e,n){t.j=n?Fo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function cl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function _T(t,e,n){e instanceof zo?(t.i=e,rL(t.i,t.h)):(n||(e=Vo(e,tL)),t.i=new zo(e,t.h))}function le(t,e,n){t.i.set(e,n)}function Dl(t){return le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,JV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function JV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}function zo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Gn(t){t.g||(t.g=new Map,t.h=0,t.i&&ZV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function tb(t,e){Gn(t),e=ts(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function nb(t,e){return Gn(t),e=ts(t,e),t.g.has(e)}function rb(t,e,n){tb(t,e),0<n.length&&(t.i=null,t.g.set(ts(t,e),om(n)),t.h+=n.length)}function ts(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function rL(t,e){e&&!t.j&&(Gn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(tb(this,r),rb(this,i,n))},t)),t.j=e}function ib(t){this.l=t||sL,P.PerformanceNavigationTiming?(t=P.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(P.g&&P.g.Ka&&P.g.Ka()&&P.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ob(t){return t.h?1:t.g?t.g.size:0}function nm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Im(t,e){t.g?t.g.add(e):t.h=e}function ab(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function cb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return om(t.i)}function aL(){this.g=new oL}function cL(t,e,n){let r=n||"";try{XT(t,function(i,s){let o=i;Wo(i)&&(o=fm(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function uL(t,e){let n=new vl;if(P.Image){let r=new Image;r.onload=el(sl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=el(sl,n,r,"TestLoadImage: error",!1,e),r.onabort=el(sl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=el(sl,n,r,"TestLoadImage: timeout",!1,e),P.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function sl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Xo(t){this.l=t.ec||null,this.j=t.ob||!1}function Cl(t,e){Re.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=wm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}function ub(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ea(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Go(t)}function Go(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function pe(t){Re.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lb,this.L=this.M=!1}function fL(t){return es&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function wT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,db(t),Tl(t)}function db(t){t.F||(t.F=!0,Fe(t,"complete"),Fe(t,"error"))}function hb(t){if(t.h&&typeof sm<"u"&&(!t.C[1]||Xt(t)!=4||t.da()!=2)){if(t.v&&Xt(t)==4)mm(t.La,0,t);else if(Fe(t,"readystatechange"),Xt(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(eb)[1]||null;!i&&P.self&&P.self.location&&(i=P.self.location.protocol.slice(0,-1)),r=!dL.test(i?i.toLowerCase():"")}n=r}if(n)Fe(t,"complete"),Fe(t,"success");else{t.m=6;try{var s=2<Xt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",db(t)}}finally{Tl(t)}}}}function Tl(t,e){if(t.g){fb(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Fe(t,"ready");try{n.onreadystatechange=r}catch{}}}function fb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(P.clearTimeout(t.A),t.A=null)}function Xt(t){return t.g?t.g.readyState:0}function ET(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case lb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function pL(t){let e={};t=(t.g&&2<=Xt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Uo(t[r]))continue;var n=jV(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}FV(e,function(r){return r.join(", ")})}function pb(t){let e="";return cm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Em(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):le(t,e,n))}function Oo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gb(t){this.Ga=0,this.j=[],this.l=new vl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Oo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Oo("baseRetryDelayMs",5e3,t),this.hb=Oo("retryDelaySeedMs",1e4,t),this.eb=Oo("forwardChannelMaxRetries",2,t),this.xa=Oo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ib(t&&t.concurrentRequestLimit),this.Ja=new aL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Dm(t){if(mb(t),t.H==3){var e=t.W++,n=En(t.I);if(le(n,"SID",t.K),le(n,"RID",e),le(n,"TYPE","terminate"),ta(t,n),e=new Zo(t,t.l,e),e.L=2,e.A=Dl(En(n)),n=!1,P.navigator&&P.navigator.sendBeacon)try{n=P.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&P.Image&&(new Image().src=e.A,n=!0),n||(e.g=Cb(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Jo(e)}Eb(t)}function bl(t){t.g&&(Tm(t),t.g.cancel(),t.g=null)}function mb(t){bl(t),t.u&&(P.clearTimeout(t.u),t.u=null),ul(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&P.clearTimeout(t.m),t.m=null)}function Al(t){if(!sb(t.i)&&!t.m){t.m=!0;var e=t.Na;Bo||LT(),$o||(Bo(),$o=!0),pm.add(e,t),t.C=0}}function gL(t,e){return ob(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Qo(Be(t.Na,t,e),wb(t,t.C)),t.C++,!0)}function DT(t,e){var n;e?n=e.m:n=t.W++;let r=En(t.I);le(r,"SID",t.K),le(r,"RID",n),le(r,"AID",t.V),ta(t,r),t.o&&t.s&&Em(r,t.o,t.s),n=new Zo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=yb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Im(t.i,n),em(n,r,e)}function ta(t,e){t.na&&cm(t.na,function(n,r){le(e,r,n)}),t.h&&XT({},function(n,r){le(e,r,n)})}function yb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Be(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{cL(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function vb(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Bo||LT(),$o||(Bo(),$o=!0),pm.add(e,t),t.A=0}}function Cm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Qo(Be(t.Ma,t),wb(t,t.A)),t.A++,!0)}function Tm(t){t.B!=null&&(P.clearTimeout(t.B),t.B=null)}function _b(t){t.g=new Zo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=En(t.wa);le(e,"RID","rpc"),le(e,"SID",t.K),le(e,"AID",t.V),le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&le(e,"TO",t.qa),le(e,"TYPE","xmlhttp"),ta(t,e),t.o&&t.s&&Em(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Dl(En(e)),n.u=null,n.S=!0,QT(n,t)}function ul(t){t.v!=null&&(P.clearTimeout(t.v),t.v=null)}function Ib(t,e){var n=null;if(t.g==e){ul(t),Tm(t),t.g=null;var r=2}else if(nm(t.i,e))n=e.F,ab(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=_l(),Fe(r,new qT(r,n)),Al(t)}else vb(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&gL(t,e)||r==2&&Cm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:$r(t,5);break;case 4:$r(t,10);break;case 3:$r(t,6);break;default:$r(t,2)}}}function wb(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function $r(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Be(t.pb,t);n||(n=new Hr("//www.google.com/images/cleardot.gif"),P.location&&P.location.protocol=="http"||al(n,"https"),Dl(n)),uL(n.toString(),r)}else Ke(2);t.H=0,t.h&&t.h.za(e),Eb(t),mb(t)}function Eb(t){if(t.H=0,t.ma=[],t.h){let e=cb(t.i);(e.length!=0||t.j.length!=0)&&(pT(t.ma,e),pT(t.ma,t.j),t.i.i.length=0,om(t.j),t.j.length=0),t.h.ya()}}function Db(t,e,n){var r=n instanceof Hr?En(n):new Hr(n);if(r.g!="")e&&(r.g=e+"."+r.g),cl(r,r.m);else{var i=P.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Hr(null);r&&al(s,r),e&&(s.g=e),i&&cl(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&le(r,n,e),le(r,"VER",t.ra),ta(t,r),r}function Cb(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new pe(new Xo({ob:n})):new pe(t.va),e.Oa(t.J),e}function Tb(){}function ll(){if(es&&!(10<=Number(xV)))throw Error("Environmental error: no available transport.")}function ut(t,e){Re.call(this),this.g=new gb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Uo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Uo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ns(this)}function bb(t){vm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ab(){_m.call(this),this.status=1}function ns(t){this.g=t}function mL(){this.blockSize=-1}function Pt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $g(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function re(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}function bm(t){return-128<=t&&128>t?RV(t,function(e){return new re([e|0],0>e?-1:0)}):new re([t|0],0>t?-1:0)}function en(t){if(isNaN(t)||!isFinite(t))return Xi;if(0>t)return ke(en(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=rm;return new re(e,0)}function Sb(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ke(Sb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=en(Math.pow(e,8)),r=Xi,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=en(Math.pow(e,s)),r=r.R(s).add(en(o))):(r=r.R(n),r=r.add(en(o)))}return r}function wn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Et(t){return t.h==-1}function ke(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new re(n,~t.h).add(im)}function dl(t,e){return t.add(ke(e))}function ol(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ko(t,e){this.g=t,this.h=e}function hl(t,e){if(wn(e))throw Error("division by zero");if(wn(t))return new ko(Xi,Xi);if(Et(t))return e=hl(ke(t),e),new ko(ke(e.g),ke(e.h));if(Et(e))return e=hl(t,ke(e)),new ko(ke(e.g),e.h);if(30<t.g.length){if(Et(t)||Et(e))throw Error("slowDivide_ only works with positive integers.");for(var n=im,r=e;0>=r.X(t);)n=TT(n),r=TT(r);var i=Zi(n,1),s=Zi(r,1);for(r=Zi(r,2),n=Zi(n,2);!wn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Zi(r,1),n=Zi(n,1)}return e=dl(t,i.R(e)),new ko(i,e)}for(i=Xi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=en(n),o=s.R(e);Et(o)||0<o.X(t);)n-=r,s=en(n),o=s.R(e);wn(s)&&(s=im),i=i.add(s),t=dl(t,o)}return new ko(i,t)}function TT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new re(n,t.h)}function Zi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new re(i,t.h)}var EV,Ot,w,sm,P,Lg,CV,AV,bT,SV,MV,es,AT,Hg,ST,NV,qg,tl,nl,rl,zg,Ug,xV,PV,Ko,OV,gT,um,jg,Bg,fm,Kg,Qg,VT,Yg,Bo,$o,pm,LT,$V,Zg,mT,qr,yT,Il,zT,Yo,Jg,WV,KT,Xg,eb,IT,XV,eL,tL,nL,iL,sL,oL,wm,lL,lb,dL,hL,yL,rm,Xi,im,CT,Rb,Mb,Sl,Nb,xb,Am,y6,na,Pb,Ob,zr,kb=g(()=>{"use strict";EV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ot={},sm=sm||{},P=EV||self;Lg="closure_uid_"+(1e9*Math.random()>>>0),CV=0;AV=0;zn.prototype.s=!1;zn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),AV!=0)&&DV(this)};zn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};bT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};$e.prototype.h=function(){this.defaultPrevented=!0};SV=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};P.addEventListener("test",n,e),P.removeEventListener("test",n,e)}catch{}return t}();am[" "]=function(){};MV=Jt("Opera"),es=Jt("Trident")||Jt("MSIE"),AT=Jt("Edge"),Hg=AT||es,ST=Jt("Gecko")&&!(pl().toLowerCase().indexOf("webkit")!=-1&&!Jt("Edge"))&&!(Jt("Trident")||Jt("MSIE"))&&!Jt("Edge"),NV=pl().toLowerCase().indexOf("webkit")!=-1&&!Jt("Edge");e:{if(tl="",nl=function(){var t=pl();if(ST)return/rv:([^\);]+)(\)|;)/.exec(t);if(AT)return/Edge\/([\d\.]+)/.exec(t);if(es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(NV)return/WebKit\/(\S+)/.exec(t);if(MV)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),nl&&(tl=nl?nl[1]:""),es&&(rl=RT(),rl!=null&&rl>parseFloat(tl))){qg=String(rl);break e}qg=tl}P.document&&es?(Ug=RT(),zg=Ug||parseInt(qg,10)||void 0):zg=void 0;xV=zg;Me(jo,$e);PV={2:"touch",3:"pen",4:"mouse"};jo.prototype.h=function(){jo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};Ko="closure_listenable_"+(1e6*Math.random()|0),OV=0;gT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");ml.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Wg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new kV(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};um="closure_lm_"+(1e6*Math.random()|0),jg={};Bg="__closure_events_fn_"+(1e9*Math.random()>>>0);Me(Re,zn);Re.prototype[Ko]=!0;Re.prototype.removeEventListener=function(t,e,n,r){kT(this,t,e,n,r)};Re.prototype.N=function(){if(Re.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gl(n[r]);delete t.g[e],t.h--}}this.J=null};Re.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Re.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};fm=P.JSON.stringify,Kg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};Qg=class{constructor(){this.h=this.g=null}add(e,n){let r=VT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},VT=new Kg(()=>new Yg,t=>t.reset()),Yg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};$o=!1,pm=new Qg,LT=()=>{let t=P.Promise.resolve(void 0);Bo=()=>{t.then($V)}},$V=()=>{for(var t;t=UV();){try{t.h.call(t.g)}catch(n){BV(n)}var e=VT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$o=!1};Me(yl,Re);w=yl.prototype;w.ga=!1;w.T=null;w.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fe(this,"tick"),this.ga&&(gm(this),this.start()))}};w.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};w.N=function(){yl.$.N.call(this),gm(this),delete this.g};Zg=class extends zn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UT(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};Me(Ho,zn);mT=[];Ho.prototype.N=function(){Ho.$.N.call(this),BT(this)};Ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};vl.prototype.Ea=function(){this.g=!1};vl.prototype.info=function(){};qr={},yT=null;qr.Ta="serverreachability";Me($T,$e);qr.STAT_EVENT="statevent";Me(HT,$e);qr.Ua="timingevent";Me(qT,$e);Il={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};ym.prototype.h=null;Yo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};Me(vm,$e);Me(_m,$e);Me(wl,ym);wl.prototype.g=function(){return new XMLHttpRequest};wl.prototype.i=function(){return{}};Jg=new wl;WV=45e3,KT={},Xg={};w=Zo.prototype;w.setTimeout=function(t){this.P=t};w.nb=function(t){t=t.target;let e=this.M;e&&Xt(t)==3?e.l():this.Pa(t)};w.Pa=function(t){try{if(t==this.g)e:{let l=Xt(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Hg||this.g&&(this.h.h||this.g.ja()||ET(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?qo(3):qo(2)),El(this);var n=this.g.da();this.ca=n;t:if(YT(this)){var r=ET(this.g);t="";var i=r.length,s=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Br(this),Lo(this);var o="";break t}this.h.i=new P.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,qV(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uo(a)){var u=a;break t}}u=null}if(n=u)Ji(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tm(this,n);else{this.i=!1,this.s=3,Ke(12),Br(this),Lo(this);break e}}this.S?(ZT(this,l,o),Hg&&this.i&&l==3&&(jT(this.U,this.V,"tick",this.mb),this.V.start())):(Ji(this.j,this.m,o,null),tm(this,o)),l==4&&Br(this),this.i&&!this.J&&(l==4?Ib(this.l,this):(this.i=!1,Jo(this)))}else pL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),Br(this),Lo(this)}}}catch{}finally{}};w.mb=function(){if(this.g){var t=Xt(this.g),e=this.g.ja();this.o<e.length&&(El(this),ZT(this,t,e),this.i&&t!=4&&Jo(this))}};w.cancel=function(){this.J=!0,Br(this)};w.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(zV(this.j,this.B),this.L!=2&&(qo(),Ke(17)),Br(this),this.s=2,Lo(this)):JT(this,this.Y-t)};eb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");Hr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Vo(e,IT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Vo(e,IT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Vo(n,n.charAt(0)=="/"?eL:XV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Vo(n,nL)),t.join("")};IT=/[#\/\?@]/g,XV=/[#\?:]/g,eL=/[#\?]/g,tL=/[#\?@]/g,nL=/#/g;w=zo.prototype;w.add=function(t,e){Gn(this),this.i=null,t=ts(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};w.forEach=function(t,e){Gn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};w.ta=function(){Gn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};w.Z=function(t){Gn(this);let e=[];if(typeof t=="string")nb(this,t)&&(e=e.concat(this.g.get(ts(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};w.set=function(t,e){return Gn(this),this.i=null,t=ts(this,t),nb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};w.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};w.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};iL=class{constructor(t,e){this.g=t,this.map=e}};sL=10;ib.prototype.cancel=function(){if(this.i=cb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};oL=class{stringify(t){return P.JSON.stringify(t,void 0)}parse(t){return P.JSON.parse(t,void 0)}};Me(Xo,ym);Xo.prototype.g=function(){return new Cl(this.l,this.j)};Xo.prototype.i=function(t){return function(){return t}}({});Me(Cl,Re);wm=0;w=Cl.prototype;w.open=function(t,e){if(this.readyState!=wm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Go(this)};w.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||P).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};w.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=wm};w.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Go(this)),this.g&&(this.readyState=3,Go(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ub(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};w.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ea(this):Go(this),this.readyState==3&&ub(this)}};w.Za=function(t){this.g&&(this.response=this.responseText=t,ea(this))};w.Ya=function(t){this.g&&(this.response=t,ea(this))};w.ka=function(){this.g&&ea(this)};w.setRequestHeader=function(t,e){this.v.append(t,e)};w.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};w.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});lL=P.JSON.parse;Me(pe,Re);lb="",dL=/^https?$/i,hL=["POST","PUT"];w=pe.prototype;w.Oa=function(t){this.M=t};w.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jg.g(),this.C=this.u?vT(this.u):vT(Jg),this.g.onreadystatechange=Be(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){wT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=P.FormData&&t instanceof P.FormData,!(0<=bT(hL,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fb(this),0<this.B&&((this.L=fL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Be(this.ua,this)):this.A=mm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){wT(this,s)}};w.ua=function(){typeof sm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fe(this,"timeout"),this.abort(8))};w.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Fe(this,"complete"),Fe(this,"abort"),Tl(this))};w.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tl(this,!0)),pe.$.N.call(this)};w.La=function(){this.s||(this.G||this.v||this.l?hb(this):this.kb())};w.kb=function(){hb(this)};w.isActive=function(){return!!this.g};w.da=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}};w.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};w.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),lL(e)}};w.Ia=function(){return this.m};w.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};w=gb.prototype;w.ra=8;w.H=1;w.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Zo(this,this.l,t),s=this.s;if(this.U&&(s?(s=MT(s),NT(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yb(this,i,e),n=En(this.I),le(n,"RID",t),le(n,"CVER",22),this.F&&le(n,"X-HTTP-Session-Id",this.F),ta(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(pb(s)))+"&"+e:this.o&&Em(n,this.o,s)),Im(this.i,i),this.bb&&le(n,"TYPE","init"),this.P?(le(n,"$req",e),le(n,"SID","null"),i.aa=!0,em(i,n,null)):em(i,n,e),this.H=2}}else this.H==3&&(t?DT(this,t):this.j.length==0||sb(this.i)||DT(this))};w.Ma=function(){if(this.u=null,_b(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Qo(Be(this.jb,this),t)}};w.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ke(10),bl(this),_b(this))};w.ib=function(){this.v!=null&&(this.v=null,bl(this),Cm(this),Ke(19))};w.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ke(2)):(this.l.info("Failed to ping google.com"),Ke(1))};w.isActive=function(){return!!this.h&&this.h.isActive(this)};w=Tb.prototype;w.Ba=function(){};w.Aa=function(){};w.za=function(){};w.ya=function(){};w.isActive=function(){return!0};w.Va=function(){};ll.prototype.g=function(t,e){return new ut(t,e)};Me(ut,Re);ut.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ke(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Db(t,null,t.Y),Al(t)};ut.prototype.close=function(){Dm(this.g)};ut.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=fm(t),t=n);e.j.push(new iL(e.fb++,t)),e.H==3&&Al(e)};ut.prototype.N=function(){this.g.h=null,delete this.j,Dm(this.g),delete this.g,ut.$.N.call(this)};Me(bb,vm);Me(Ab,_m);Me(ns,Tb);ns.prototype.Ba=function(){Fe(this.g,"a")};ns.prototype.Aa=function(t){Fe(this.g,new bb(t))};ns.prototype.za=function(t){Fe(this.g,new Ab)};ns.prototype.ya=function(){Fe(this.g,"b")};Me(Pt,mL);Pt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};Pt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)$g(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){$g(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){$g(this,r),i=0;break}}this.h=i,this.i+=e};Pt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};yL={};rm=4294967296,Xi=bm(0),im=bm(1),CT=bm(16777216);w=re.prototype;w.ea=function(){if(Et(this))return-ke(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:rm+r)*e,e*=rm}return t};w.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(wn(this))return"0";if(Et(this))return"-"+ke(this).toString(t);for(var e=en(Math.pow(t,6)),n=this,r="";;){var i=hl(n,e).g;n=dl(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,wn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};w.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};w.X=function(t){return t=dl(this,t),Et(t)?-1:wn(t)?0:1};w.abs=function(){return Et(this)?ke(this):this};w.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new re(n,n[n.length-1]&-2147483648?-1:0)};w.R=function(t){if(wn(this)||wn(t))return Xi;if(Et(this))return Et(t)?ke(this).R(ke(t)):ke(ke(this).R(t));if(Et(t))return ke(this.R(ke(t)));if(0>this.X(CT)&&0>t.X(CT))return en(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,ol(n,2*r+2*i),n[2*r+2*i+1]+=s*c,ol(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ol(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ol(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new re(n,0)};w.gb=function(t){return hl(this,t).h};w.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new re(n,this.h&t.h)};w.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new re(n,this.h|t.h)};w.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new re(n,this.h^t.h)};ll.prototype.createWebChannel=ll.prototype.g;ut.prototype.send=ut.prototype.u;ut.prototype.open=ut.prototype.m;ut.prototype.close=ut.prototype.close;Il.NO_ERROR=0;Il.TIMEOUT=8;Il.HTTP_ERROR=6;zT.COMPLETE="complete";GT.EventType=Yo;Yo.OPEN="a";Yo.CLOSE="b";Yo.ERROR="c";Yo.MESSAGE="d";Re.prototype.listen=Re.prototype.O;pe.prototype.listenOnce=pe.prototype.P;pe.prototype.getLastError=pe.prototype.Sa;pe.prototype.getLastErrorCode=pe.prototype.Ia;pe.prototype.getStatus=pe.prototype.da;pe.prototype.getResponseJson=pe.prototype.Wa;pe.prototype.getResponseText=pe.prototype.ja;pe.prototype.send=pe.prototype.ha;pe.prototype.setWithCredentials=pe.prototype.Oa;Pt.prototype.digest=Pt.prototype.l;Pt.prototype.reset=Pt.prototype.reset;Pt.prototype.update=Pt.prototype.j;re.prototype.add=re.prototype.add;re.prototype.multiply=re.prototype.R;re.prototype.modulo=re.prototype.gb;re.prototype.compare=re.prototype.X;re.prototype.toNumber=re.prototype.ea;re.prototype.toString=re.prototype.toString;re.prototype.getBits=re.prototype.D;re.fromNumber=en;re.fromString=Sb;Rb=Ot.createWebChannelTransport=function(){return new ll},Mb=Ot.getStatEventTarget=function(){return _l()},Sl=Ot.ErrorCode=Il,Nb=Ot.EventType=zT,xb=Ot.Event=qr,Am=Ot.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},y6=Ot.FetchXmlHttpFactory=Xo,na=Ot.WebChannel=GT,Pb=Ot.XhrIo=pe,Ob=Ot.Md5=Pt,zr=Ot.Integer=re});function ra(){return Jr.logLevel}function E(t,...e){if(Jr.logLevel<=G.DEBUG){let n=e.map(yv);Jr.debug(`Firestore (${Is}): ${t}`,...n)}}function cn(t,...e){if(Jr.logLevel<=G.ERROR){let n=e.map(yv);Jr.error(`Firestore (${Is}): ${t}`,...n)}}function us(t,...e){if(Jr.logLevel<=G.WARN){let n=e.map(yv);Jr.warn(`Firestore (${Is}): ${t}`,...n)}}function yv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function M(t="Unexpected state"){let e=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: `+t;throw cn(e),new Error(e)}function ce(t,e){t||M()}function V(t,e){return t}function vL(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function X(t,e){return t<e?-1:t>e?1:0}function ls(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function IL(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=F.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new Xr(i,S.empty(),e)}function wL(t){return new Xr(t.readTime,t.key,-1)}function EL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=S.comparator(t.documentKey,e.documentKey),n!==0?n:X(t.largestBatchId,e.largestBatchId))}function Ea(t){return p(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==DL)throw t;E("LocalStore","Unexpectedly lost primary lease")})}function Da(t){return t.name==="IndexedDbTransactionError"}function Gr(t){return new v((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=vv(r.target.error);n(i)}})}function vv(t){let e=Fl.S(je());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new D("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vb||(Vb=!0,setTimeout(()=>{throw r},0)),r}}return t}function ld(t){return t==null}function la(t){return t===0&&1/t==-1/0}function CL(t){return typeof t=="number"&&Number.isInteger(t)&&!la(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Lb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ws(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kn(t){if(ce(!!t),typeof t=="string"){let e=0,n=SL.exec(t);if(ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(t.seconds),nanos:ge(t.nanos)}}function ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qn(t){return typeof t=="string"?Qe.fromBase64String(t):Qe.fromUint8Array(t)}function _v(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Iv(t){let e=t.mapValue.fields.__previous_value__;return _v(e)?Iv(e):e}function da(t){let e=Kn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ve(e.seconds,e.nanos)}function ei(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_v(t)?4:y0(t)?9007199254740991:10:M()}function un(t,e){if(t===e)return!0;let n=ei(t);if(n!==ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return da(t).isEqual(da(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Kn(i.timestampValue),a=Kn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qn(i.bytesValue).isEqual(Qn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ge(i.geoPointValue.latitude)===ge(s.geoPointValue.latitude)&&ge(i.geoPointValue.longitude)===ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ge(i.integerValue)===ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ge(i.doubleValue),a=ge(s.doubleValue);return o===a?la(o)===la(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ls(t.arrayValue.values||[],e.arrayValue.values||[],un);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Lb(o)!==Lb(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!un(o[c],a[c])))return!1;return!0}(t,e);default:return M()}}function ha(t,e){return(t.values||[]).find(n=>un(n,e))!==void 0}function ds(t,e){if(t===e)return 0;let n=ei(t),r=ei(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ge(s.integerValue||s.doubleValue),c=ge(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Ub(t.timestampValue,e.timestampValue);case 4:return Ub(da(t),da(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Qn(s),c=Qn(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=X(a[u],c[u]);if(l!==0)return l}return X(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=X(ge(s.latitude),ge(o.latitude));return a!==0?a:X(ge(s.longitude),ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=ds(a[u],c[u]);if(l)return l}return X(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Rl.mapValue&&o===Rl.mapValue)return 0;if(s===Rl.mapValue)return 1;if(o===Rl.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=X(c[d],l[d]);if(h!==0)return h;let f=ds(a[c[d]],u[l[d]]);if(f!==0)return f}return X(c.length,l.length)}(t.mapValue,e.mapValue);default:throw M()}}function Ub(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return X(t,e);let n=Kn(t),r=Kn(e),i=X(n.seconds,r.seconds);return i!==0?i:X(n.nanos,r.nanos)}function hs(t){return zm(t)}function zm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Kn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return S.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=zm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${zm(n.fields[o])}`;return i+"}"}(t.mapValue):M()}function jb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gm(t){return!!t&&"integerValue"in t}function wv(t){return!!t&&"arrayValue"in t}function Bb(t){return!!t&&"nullValue"in t}function $b(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nl(t){return!!t&&"mapValue"in t}function sa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function y0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function v0(t){let e=[];return ws(t.fields,(n,r)=>{let i=new lt([n]);if(Nl(r)){let s=v0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new nn(e)}function Hb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=S.comparator(S.fromName(o.referenceValue),n.key):r=ds(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function qb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!un(t.position[n],e.position[n]))return!1;return!0}function RL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function _0(t){return t.op==="and"}function I0(t){return ML(t)&&_0(t)}function ML(t){for(let e of t.filters)if(e instanceof Vt)return!1;return!0}function Wm(t){if(t instanceof Ee)return t.field.canonicalString()+t.op.toString()+hs(t.value);if(I0(t))return t.filters.map(e=>Wm(e)).join(",");{let e=t.filters.map(n=>Wm(n)).join(",");return`${t.op}(${e})`}}function w0(t,e){return t instanceof Ee?function(r,i){return i instanceof Ee&&r.op===i.op&&r.field.isEqual(i.field)&&un(r.value,i.value)}(t,e):t instanceof Vt?function(r,i){return i instanceof Vt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&w0(o,i.filters[a]),!0):!1}(t,e):void M()}function E0(t){return t instanceof Ee?function(n){return`${n.field.canonicalString()} ${n.op} ${hs(n.value)}`}(t):t instanceof Vt?function(n){return n.op.toString()+" {"+n.getFilters().map(E0).join(" ,")+"}"}(t):"Filter"}function D0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}function zb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ty(t,e,n,r,i,s,o)}function Ev(t){let e=V(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hs(r)).join(",")),e.ce=n}return e.ce}function Dv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!w0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qb(t.startAt,e.startAt)&&qb(t.endAt,e.endAt)}function ny(t){return S.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function NL(t,e,n,r,i,s,o,a){return new Yn(t,e,n,r,i,s,o,a)}function Cv(t){return new Yn(t)}function Gb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function C0(t){return t.collectionGroup!==null}function oa(t){let e=V(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qe(lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new ti(s,r))}),n.has(lt.keyField().canonicalString())||e.le.push(new ti(lt.keyField(),r))}return e.le}function on(t){let e=V(t);return e.he||(e.he=xL(e,oa(t))),e.he}function xL(t,e){if(t.limitType==="F")return zb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ti(i.field,s)});let n=t.endAt?new fs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fs(t.startAt.position,t.startAt.inclusive):null;return zb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ry(t,e){let n=t.filters.concat([e]);return new Yn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function iy(t,e,n){return new Yn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return Dv(on(t),on(e))&&t.limitType===e.limitType}function T0(t){return`${Ev(on(t))}|lt:${t.limitType}`}function rs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>E0(i)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hs(i)).join(",")),`Target(${r})`}(on(t))}; limitType=${t.limitType})`}function hd(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):S.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of oa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=Hb(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,oa(r),i)||r.endAt&&!function(o,a,c){let u=Hb(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,oa(r),i))}(t,e)}function PL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function b0(t){return(e,n)=>{let r=!1;for(let i of oa(t)){let s=OL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function OL(t,e,n){let r=t.field.isKeyField()?S.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?ds(c,u):M()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return M()}}function Dn(){return kL}function ia(...t){let e=A0;for(let n of t)e=e.insert(n.key,n);return e}function S0(t){let e=A0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wr(){return aa()}function R0(){return aa()}function aa(){return new Zn(t=>t.toString(),(t,e)=>t.isEqual(e))}function W(...t){let e=VL;for(let n of t)e=e.add(n);return e}function UL(){return LL}function M0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:la(e)?"-0":e}}function N0(t){return{integerValue:""+t}}function jL(t,e){return CL(e)?N0(e):M0(t,e)}function BL(t,e,n){return t instanceof ni?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_v(s)&&(s=Iv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ri?P0(t,e):t instanceof ii?O0(t,e):function(i,s){let o=x0(i,s),a=Wb(o)+Wb(i.Ie);return Gm(o)&&Gm(i.Ie)?N0(a):M0(i.serializer,a)}(t,e)}function $L(t,e,n){return t instanceof ri?P0(t,e):t instanceof ii?O0(t,e):n}function x0(t,e){return t instanceof gs?function(r){return Gm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}function P0(t,e){let n=k0(e);for(let r of t.elements)n.some(i=>un(i,r))||n.push(r);return{arrayValue:{values:n}}}function O0(t,e){let n=k0(e);for(let r of t.elements)n=n.filter(i=>!un(i,r));return{arrayValue:{values:n}}}function Wb(t){return ge(t.integerValue||t.doubleValue)}function k0(t){return wv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function HL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ri&&i instanceof ri||r instanceof ii&&i instanceof ii?ls(r.elements,i.elements,un):r instanceof gs&&i instanceof gs?un(r.Ie,i.Ie):r instanceof ni&&i instanceof ni}(t.transform,e.transform)}function xl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}function F0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bl(t.key,Zr.none()):new si(t.key,t.data,Zr.none());{let n=t.data,r=kt.empty(),i=new qe(lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Cn(t.key,r,new nn(i.toArray()),Zr.none())}}function qL(t,e,n){t instanceof si?function(i,s,o){let a=i.value.clone(),c=Qb(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Cn?function(i,s,o){if(!xl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=Qb(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(V0(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ca(t,e,n,r){return t instanceof si?function(s,o,a,c){if(!xl(s.precondition,o))return a;let u=s.value.clone(),l=Yb(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Cn?function(s,o,a,c){if(!xl(s.precondition,o))return a;let u=Yb(s.fieldTransforms,c,o),l=o.data;return l.setAll(V0(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return xl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function zL(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=x0(r.transform,i||null);s!=null&&(n===null&&(n=kt.empty()),n.set(r.field,s))}return n||null}function Kb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ls(r,i,(s,o)=>HL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function V0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Qb(t,e,n){let r=new Map;ce(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$L(o,a,n[i]))}return r}function Yb(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,BL(s,o,e))}return r}function GL(t){switch(t){default:return M();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function L0(t){if(t===void 0)return cn("GRPC error has no .code"),m.UNKNOWN;switch(t){case Ie.OK:return m.OK;case Ie.CANCELLED:return m.CANCELLED;case Ie.UNKNOWN:return m.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return m.INTERNAL;case Ie.UNAVAILABLE:return m.UNAVAILABLE;case Ie.UNAUTHENTICATED:return m.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case Ie.NOT_FOUND:return m.NOT_FOUND;case Ie.ALREADY_EXISTS:return m.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return m.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case Ie.ABORTED:return m.ABORTED;case Ie.OUT_OF_RANGE:return m.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return m.UNIMPLEMENTED;case Ie.DATA_LOSS:return m.DATA_LOSS;default:return M()}}function WL(){return new TextEncoder}function Jb(t){let e=WL().encode(t),n=new Ob;return n.update(e),new Uint8Array(n.digest())}function Xb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zr([n,r],0),new zr([i,s],0)]}function e0(){return new me(S.comparator)}function t0(){return new me(S.comparator)}function gy(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function Gl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JL(t,e){return Gl(t,e.toTimestamp())}function an(t){return ce(!!t),F.fromTimestamp(function(n){let r=Kn(n);return new Ve(r.seconds,r.nanos)}(t))}function Tv(t,e){return my(t,e).canonicalString()}function my(t,e){let n=function(i){return new he(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function j0(t){let e=he.fromString(t);return ce(z0(e)),e}function yy(t,e){return Tv(t.databaseId,e.path)}function Sm(t,e){let n=j0(e);if(n.get(1)!==t.databaseId.projectId)throw new D(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S($0(n))}function B0(t,e){return Tv(t.databaseId,e)}function XL(t){let e=j0(t);return e.length===4?he.emptyPath():$0(e)}function vy(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $0(t){return ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function n0(t,e,n){return{name:yy(t,e),fields:n.value.mapValue.fields}}function eU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:M()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(ce(l===void 0||typeof l=="string"),Qe.fromBase64String(l||"")):(ce(l===void 0||l instanceof Uint8Array),Qe.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?m.UNKNOWN:L0(u.code);return new D(l,u.message||"")}(o);n=new ql(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Sm(t,r.document.name),s=an(r.document.updateTime),o=r.document.createTime?an(r.document.createTime):F.min(),a=new kt({mapValue:{fields:r.document.fields}}),c=Ft.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new as(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Sm(t,r.document),s=r.readTime?an(r.readTime):F.min(),o=Ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new as([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Sm(t,r.document),s=r.removedTargetIds||[];n=new as([],s,i,null)}else{if(!("filter"in e))return M();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new dy(i,s),a=r.targetId;n=new Hl(a,o)}}return n}function tU(t,e){let n;if(e instanceof si)n={update:n0(t,e.key,e.value)};else if(e instanceof Bl)n={delete:yy(t,e.key)};else if(e instanceof Cn)n={update:n0(t,e.key,e.data),updateMask:lU(e.fieldMask)};else{if(!(e instanceof ay))return M();n={verify:yy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ni)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ri)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ii)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gs)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw M()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:JL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:M()}(t,e.precondition)),n}function nU(t,e){return t&&t.length>0?(ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?an(i.updateTime):an(s);return o.isEqual(F.min())&&(o=an(s)),new oy(o,i.transformResults||[])}(n,e))):[]}function rU(t,e){return{documents:[B0(t,e.path)]}}function iU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=B0(t,i);let s=function(u){if(u.length!==0)return q0(Vt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:is(h.field),direction:aU(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=gy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function sU(t){let e=XL(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ce(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=H0(d);return h instanceof Vt&&I0(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(y){return new ti(ss(y.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,ld(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new fs(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new fs(f,h)}(n.endAt)),NL(e,i,o,s,a,"F",c,u)}function oU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return M()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function H0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ss(n.unaryFilter.field);return Ee.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ss(n.unaryFilter.field);return Ee.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ss(n.unaryFilter.field);return Ee.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ss(n.unaryFilter.field);return Ee.create(o,"!=",{nullValue:"NULL_VALUE"});default:return M()}}(t):t.fieldFilter!==void 0?function(n){return Ee.create(ss(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return M()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vt.create(n.compositeFilter.filters.map(r=>H0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return M()}}(n.compositeFilter.op))}(t):M()}function aU(t){return QL[t]}function cU(t){return YL[t]}function uU(t){return ZL[t]}function is(t){return{fieldPath:t.canonicalString()}}function ss(t){return lt.fromServerFormat(t.fieldPath)}function q0(t){return t instanceof Ee?function(n){if(n.op==="=="){if($b(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NAN"}};if(Bb(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($b(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NAN"}};if(Bb(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:is(n.field),op:cU(n.op),value:n.value}}}(t):t instanceof Vt?function(n){let r=n.getFilters().map(i=>q0(i));return r.length===1?r[0]:{compositeFilter:{op:uU(n.op),filters:r}}}(t):M()}function lU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function z0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function dU(t){let e=sU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iy(e,e.limit,"L"):e}function hU(t,e,n,r){return new Vy(t,e,n,r)}function G0(t,e){return p(this,null,function*(){let n=V(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=W();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function fU(t,e){let n=V(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=v.resolve();return h.forEach(y=>{f=f.next(()=>l.getEntry(c,y)).next(_=>{let I=u.docVersions.get(y);ce(I!==null),_.version.compareTo(I)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),l.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=W();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function W0(t){let e=V(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function pU(t,e){let n=V(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Qe.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(_,I,C){return _.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=Dn(),u=W();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(gU(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(F.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function gU(t,e,n){let r=W(),i=W();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Dn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(F.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):E("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function mU(t,e){let n=V(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yU(t,e){let n=V(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new pa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Ly(t,e,n){return p(this,null,function*(){let r=V(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Da(o))throw o;E("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function r0(t,e,n){let r=V(t),i=F.min(),s=W();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=V(c),h=d.rs.get(l);return h!==void 0?v.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,on(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:F.min(),n?s:W())).next(a=>(vU(r,PL(e),a),{documents:a,hs:s})))}function vU(t,e,n){let r=t.ss.get(e)||F.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}function Rm(){return Ml===null?Ml=function(){return 268435456+Math.round(2147483648*Math.random())}():Ml++,"0x"+Ml.toString(16)}function Mm(){return typeof document<"u"?document:null}function fd(t){return new py(t,!0)}function pd(t){return p(this,null,function*(){if(ai(t))for(let e of t.F_)yield e(!0)})}function Ca(t){return p(this,null,function*(){for(let e of t.F_)yield e(!1)})}function K0(t,e){let n=V(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Sv(n)?Av(n):Es(n).Jo()&&bv(n,e))}function Q0(t,e){let n=V(t),r=Es(n);n.C_.delete(e),r.Jo()&&Y0(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ai(n)&&n.x_.set("Unknown"))}function bv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(F.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Es(t).c_(e)}function Y0(t,e){t.O_.Oe(e),Es(t).l_(e)}function Av(t){t.O_=new fy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Es(t).start(),t.x_.p_()}function Sv(t){return ai(t)&&!Es(t).Ho()&&t.C_.size>0}function ai(t){return V(t).v_.size===0}function Z0(t){t.O_=void 0}function IU(t){return p(this,null,function*(){t.C_.forEach((e,n)=>{bv(t,e)})})}function wU(t,e){return p(this,null,function*(){Z0(t),Sv(t)?(t.x_.S_(e),Av(t)):t.x_.set("Unknown")})}function EU(t,e,n){return p(this,null,function*(){if(t.x_.set("Online"),e instanceof ql&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){E("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Jl(t,r)}else if(e instanceof as?t.O_.$e(e):e instanceof Hl?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(F.min()))try{let r=yield W0(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(Qe.EMPTY_BYTE_STRING,l.snapshotVersion)),Y0(s,c);let d=new pa(l.target,c,u,l.sequenceNumber);bv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){E("RemoteStore","Failed to raise snapshot:",r),yield Jl(t,r)}})}function Jl(t,e,n){return p(this,null,function*(){if(!Da(e))throw e;t.v_.add(1),yield Ca(t),t.x_.set("Offline"),n||(n=()=>W0(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){E("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield pd(t)}))})}function J0(t,e){return e().catch(n=>Jl(t,n,e))}function gd(t){return p(this,null,function*(){let e=V(t),n=Jn(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;DU(e);)try{let i=yield mU(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,CU(e,i)}catch(i){yield Jl(e,i)}X0(e)&&eA(e)})}function DU(t){return ai(t)&&t.D_.length<10}function CU(t,e){t.D_.push(e);let n=Jn(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function X0(t){return ai(t)&&!Jn(t).Ho()&&t.D_.length>0}function eA(t){Jn(t).start()}function TU(t){return p(this,null,function*(){Jn(t).d_()})}function bU(t){return p(this,null,function*(){let e=Jn(t);for(let n of t.D_)e.I_(n.mutations)})}function AU(t,e,n){return p(this,null,function*(){let r=t.D_.shift(),i=uy.from(r,e,n);yield J0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield gd(t)})}function SU(t,e){return p(this,null,function*(){e&&Jn(t).P_&&(yield function(r,i){return p(this,null,function*(){if(function(o){return GL(o)&&o!==m.ABORTED}(i.code)){let s=r.D_.shift();Jn(r).Zo(),yield J0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield gd(r)}})}(t,e)),X0(t)&&eA(t)})}function i0(t,e){return p(this,null,function*(){let n=V(t);n.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");let r=ai(n);n.v_.add(3),yield Ca(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield pd(n)})}function RU(t,e){return p(this,null,function*(){let n=V(t);e?(n.v_.delete(2),yield pd(n)):e||(n.v_.add(2),yield Ca(n),n.x_.set("Unknown"))})}function Es(t){return t.N_||(t.N_=function(n,r,i){let s=V(n);return s.R_(),new Hy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:IU.bind(null,t),To:wU.bind(null,t),u_:EU.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.N_.Zo(),Sv(t)?Av(t):t.x_.set("Unknown")):(yield t.N_.stop(),Z0(t))}))),t.N_}function Jn(t){return t.B_||(t.B_=function(n,r,i){let s=V(n);return s.R_(),new qy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:TU.bind(null,t),To:SU.bind(null,t),E_:bU.bind(null,t),T_:AU.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.B_.Zo(),yield gd(t)):(yield t.B_.stop(),t.D_.length>0&&(E("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}function Rv(t,e){if(cn("AsyncQueue",`${e}: ${t}`),Da(t))return new D(m.UNAVAILABLE,`${e}: ${t}`);throw t}function MU(t,e){return p(this,null,function*(){let n=V(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Qy),i)try{s.q_=yield n.onListen(r)}catch(o){let a=Rv(o,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&Mv(n)})}function NU(t,e){return p(this,null,function*(){let n=V(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function xU(t,e){let n=V(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&Mv(n)}function PU(t,e,n){let r=V(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function Mv(t){t.K_.forEach(e=>{e.next()})}function OU(t,e){return p(this,null,function*(){let n=qU(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield yU(n.localStore,on(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield kU(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&K0(n.remoteStore,o)}return i})}function kU(t,e,n,r,i){return p(this,null,function*(){t.Ma=(d,h,f)=>function(_,I,C,B){return p(this,null,function*(){let Z=I.view.ha(C);Z.Xi&&(Z=yield r0(_.localStore,I.query,!1).then(({documents:rt})=>I.view.ha(rt,Z)));let ie=B&&B.targetChanges.get(I.targetId),ye=B&&B.targetMismatches.get(I.targetId)!=null,se=I.view.applyChanges(Z,_.isPrimaryClient,ie,ye);return o0(_,I.targetId,se.da),se.snapshot})}(t,d,h,f);let s=yield r0(t.localStore,e,!0),o=new Jy(e,s.hs),a=o.ha(s.documents),c=fa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);o0(t,n,u.da);let l=new Xy(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot})}function FU(t,e){return p(this,null,function*(){let n=V(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!dd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ly(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Q0(n.remoteStore,r.targetId),nv(n,r.targetId)}).catch(Ea))):(nv(n,r.targetId),yield Ly(n.localStore,r.targetId,!0))})}function VU(t,e,n){return p(this,null,function*(){let r=zU(t);try{let i=yield function(o,a){let c=V(o),u=Ve.now(),l=a.reduce((f,y)=>f.add(y.key),W()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let y=Dn(),_=W();return c.os.getEntries(f,l).next(I=>{y=I,y.forEach((C,B)=>{B.isValidDocument()||(_=_.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,y)).next(I=>{d=I;let C=[];for(let B of a){let Z=zL(B,d.get(B.key).overlayedDocument);Z!=null&&C.push(new Cn(B.key,Z,v0(Z.value.mapValue),Zr.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,C,a)}).next(I=>{h=I;let C=I.applyToLocalDocumentSet(d,_);return c.documentOverlayCache.saveOverlays(f,I.batchId,C)})}).then(()=>({batchId:h.batchId,changes:S0(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Da[o.currentUser.toKey()];u||(u=new me(X)),u=u.insert(a,c),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Ta(r,i.changes),yield gd(r.remoteStore)}catch(i){let s=Rv(i,"Failed to persist write");n.reject(s)}})}function tA(t,e){return p(this,null,function*(){let n=V(t);try{let r=yield pU(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ce(o.ma):i.removedDocuments.size>0&&(ce(o.ma),o.ma=!1))}),yield Ta(n,r,e)}catch(r){yield Ea(r)}})}function s0(t,e,n){let r=V(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=V(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.U_(a)&&(u=!0)}),u&&Mv(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function LU(t,e,n){return p(this,null,function*(){let r=V(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new me(S.comparator);o=o.insert(s,Ft.newNoDocument(s,F.min()));let a=W().add(s),c=new $l(F.min(),new Map,new me(X),o,a);yield tA(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),Nv(r)}else yield Ly(r.localStore,e,!1).then(()=>nv(r,e,n)).catch(Ea)})}function UU(t,e){return p(this,null,function*(){let n=V(t),r=e.batch.batchId;try{let i=yield fU(n.localStore,e);rA(n,r,null),nA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ta(n,i)}catch(i){yield Ea(i)}})}function jU(t,e,n){return p(this,null,function*(){let r=V(t);try{let i=yield function(o,a){let c=V(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(ce(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);rA(r,e,n),nA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ta(r,i)}catch(i){yield Ea(i)}})}function nA(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function rA(t,e,n){let r=V(t),i=r.Da[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function nv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||iA(t,r)})}function iA(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(Q0(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Nv(t))}function o0(t,e,n){for(let r of n)r instanceof td?(t.ba.addReference(r.key,e),BU(t,r)):r instanceof nd?(E("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||iA(t,r.key)):M()}function BU(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(E("SyncEngine","New document in limbo: "+n),t.ya.add(r),Nv(t))}function Nv(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new S(he.fromString(e)),r=t.va.next();t.Sa.set(r,new ev(n)),t.wa=t.wa.insert(n,r),K0(t.remoteStore,new pa(on(Cv(n.path)),r,"TargetPurposeLimboResolution",g0._e))}}function Ta(t,e,n){return p(this,null,function*(){let r=V(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Oy.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,u){return p(this,null,function*(){let l=V(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(u,h=>v.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Da(d))throw d;E("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),y=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(y);l.ns=l.ns.insert(h,_)}}})}(r.localStore,s))})}function $U(t,e){return p(this,null,function*(){let n=V(t);if(!n.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());let r=yield G0(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new D(m.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ta(n,r.us)}})}function HU(t,e){let n=V(t),r=n.Sa.get(e);if(r&&r.ma)return W().add(r.key);{let i=W(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function qU(t){let e=V(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LU.bind(null,e),e.fa.u_=xU.bind(null,e.eventManager),e.fa.xa=PU.bind(null,e.eventManager),e}function zU(t){let e=V(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jU.bind(null,e),e}function Nm(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield G0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function a0(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield WU(t);E("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>i0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>i0(e.remoteStore,i)),t._onlineComponents=e})}function GU(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function WU(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Nm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!GU(n))throw n;us("Error using user provided cache. Falling back to memory cache: "+n),yield Nm(t,new rd)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield Nm(t,new rd);return t._offlineComponents})}function sA(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield a0(t,t._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield a0(t,new rv))),t._onlineComponents})}function KU(t){return sA(t).then(e=>e.syncEngine)}function c0(t){return p(this,null,function*(){let e=yield sA(t),n=e.eventManager;return n.onListen=OU.bind(null,e.syncEngine),n.onUnlisten=FU.bind(null,e.syncEngine),n})}function oA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}function aA(t,e,n){if(!n)throw new D(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QU(t,e,n,r){if(e===!0&&r===!0)throw new D(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function l0(t){if(!S.isDocumentKey(t))throw new D(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function d0(t){if(S.isDocumentKey(t))throw new D(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":M()}function ua(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=md(t);throw new D(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function cA(t,e,n,r={}){var i;let s=(t=ua(t,vs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ne.MOCK_USER;else{a=SC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new D(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ne(u)}t._authCredentials=new Pm(new Pl(a,c))}}function uA(t,e,...n){if(t=ct(t),aA("collection","path",e),t instanceof vs){let r=he.fromString(e,...n);return d0(r),new Wn(t,null,r)}{if(!(t instanceof dt||t instanceof Wn))throw new D(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(he.fromString(e,...n));return d0(r),new Wn(t.firestore,null,r)}}function lA(t,e,...n){if(t=ct(t),arguments.length===1&&(e=Ol.newId()),aA("doc","path",e),t instanceof vs){let r=he.fromString(e,...n);return l0(r),new dt(t,null,new S(r))}{if(!(t instanceof dt||t instanceof Wn))throw new D(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(he.fromString(e,...n));return l0(r),new dt(t.firestore,t instanceof Wn?t.converter:null,new S(r))}}function h0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}function dA(t,e){let n=typeof t=="object"?t:Ao(),r=typeof t=="string"?t:e||"(default)",i=yg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=bC("firestore");s&&cA(i,...s)}return i}function hA(t){return t._firestoreClient||fA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new qm(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,oA(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new sv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function pA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw M()}}function gA(t){let e=t._freezeSettings(),n=fd(t._databaseId);return new uv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZU(t,e,n,r,i,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);vA("Data must be an object, but it was:",o,r);let a=mA(r,o),c,u;if(s.merge)c=new nn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=XU(e,d,n);if(!o.contains(h))throw new D(m.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);tj(l,h)||l.push(h)}c=new nn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new av(new kt(a),c,u)}function JU(t,e,n,r=!1){return xv(n,t.Su(r?4:3,e))}function xv(t,e){if(yA(t=ct(t)))return vA("Unsupported field value:",e,t),mA(t,e);if(t instanceof _a)return function(r,i){if(!pA(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=xv(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ve.fromDate(r);return{timestampValue:Gl(i.serializer,s)}}if(r instanceof Ve){let s=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gl(i.serializer,s)}}if(r instanceof Ia)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ya)return{bytesValue:U0(i.serializer,r._byteString)};if(r instanceof dt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Tv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${md(r)}`)}(t,e)}function mA(t,e){let n={};return m0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(t,(r,i)=>{let s=xv(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function yA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof Ia||t instanceof ya||t instanceof dt||t instanceof _a)}function vA(t,e,n){if(!yA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=md(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function XU(t,e,n){if((e=ct(e))instanceof va)return e._internalPath;if(typeof e=="string")return _A(t,e);throw sd("Field path arguments must be of type string or ",t,!1,void 0,n)}function _A(t,e,n){if(e.search(ej)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new va(...e.split("."))._internalPath}catch{throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new D(m.INVALID_ARGUMENT,a+t+c)}function tj(t,e){return t.some(n=>n.isEqual(e))}function Pv(t,e){return typeof e=="string"?_A(t,e):e instanceof va?e._internalPath:e._delegate._internalPath}function nj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new D(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function IA(t,e,...n){let r=[];e instanceof wa&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof fv).length,a=s.filter(c=>c instanceof hv).length;if(o>1||o>0&&a>0)throw new D(m.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}function wA(t,e="asc"){let n=e,r=Pv("orderBy",t);return pv._create(r,n)}function f0(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new D(m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C0(e)&&n.indexOf("/")!==-1)throw new D(m.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(he.fromString(n));if(!S.isDocumentKey(r))throw new D(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jb(t,new S(r))}if(n instanceof dt)return jb(t,n._key);throw new D(m.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(n)}.`)}function p0(t,e){if(!Array.isArray(t)||t.length===0)throw new D(m.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EA(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new D(m.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new D(m.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function rj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function ij(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return M()}}function DA(t,e){let n=ua(t.firestore,_s),r=lA(t),i=rj(t.converter,e);return sj(n,[ZU(gA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Zr.exists(!1))]).then(()=>r)}function Ov(t,...e){var n,r,i;t=ct(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||h0(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(h0(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof dt)u=ua(t.firestore,_s),l=Cv(t._key.path),c={next:d=>{e[o]&&e[o](oj(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=ua(t,oi);u=ua(d.firestore,_s),l=d._query;let h=new ud(u);c={next:f=>{e[o]&&e[o](new mv(u,h,d,f))},error:e[o+1],complete:e[o+2]},nj(t._query)}return function(h,f,y,_){let I=new iv(_),C=new Zy(f,I,y);return h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return MU(yield c0(h),C)})),()=>{I.La(),h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return NU(yield c0(h),C)}))}}(hA(u),l,a,c)}function sj(t,e){return function(r,i){let s=new rn;return r.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return VU(yield KU(r),i,s)})),s.promise}(hA(t),e)}function oj(t,e,n){let r=n.docs.get(e._key),i=new ud(t);return new cd(t,i,e._key,r,new Qr(n.hasPendingWrites,n.fromCache),e.converter)}function CA(){return new lv("serverTimestamp")}var Fb,Ne,Is,Jr,m,D,rn,Pl,xm,Pm,Om,km,Fm,Vm,Lm,Ol,Ve,F,kl,he,_L,lt,S,Um,Xr,DL,jm,v,Bm,Fl,$m,Yr,Hm,Vb,g0,TL,A6,bL,AL,S6,me,os,sn,qe,Vl,nn,Ll,Qe,SL,qm,Ul,Rl,kt,Ft,fs,ti,jl,Ee,Vt,Km,Qm,Ym,Zm,Jm,Xm,ey,ty,Yn,Zn,kL,A0,FL,VL,LL,ps,ni,ri,ii,gs,sy,oy,Zr,ms,si,Cn,Bl,ay,cy,uy,ly,dy,Ie,Y,Zb,KL,hy,Kr,$l,fa,as,Hl,ql,zl,fy,QL,YL,ZL,py,pa,_y,Wl,Iy,wy,M6,tn,ga,Ey,Dy,Cy,Ty,by,ma,we,Ay,Sy,Ry,My,Ny,xy,Py,Oy,ky,Fy,Vy,Kl,Uy,jy,Ql,Ml,_U,By,He,$y,Yl,Zl,Hy,qy,zy,Gy,Wy,Ky,Xl,ed,ys,Qy,Yy,Zy,td,nd,Jy,Xy,ev,tv,rd,rv,iv,sv,u0,id,vs,oi,dt,Wn,ov,_s,ya,va,_a,Ia,YU,av,cv,uv,lv,ej,od,dv,wa,ad,hv,fv,pv,gv,Qr,cd,cs,mv,ud,TA=g(()=>{"use strict";Wi();Do();Co();Or();kb();Fb="@firebase/firestore";Ne=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ne.UNAUTHENTICATED=new Ne(null),Ne.GOOGLE_CREDENTIALS=new Ne("google-credentials-uid"),Ne.FIRST_PARTY=new Ne("first-party-uid"),Ne.MOCK_USER=new Ne("mock-user");Is="10.8.0";Jr=new Bn("@firebase/firestore");m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=class extends It{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};rn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};Pl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ne.UNAUTHENTICATED))}shutdown(){}},Pm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Om=class{constructor(e){this.t=e,this.currentUser=Ne.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new rn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new rn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new rn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string"),new Pl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string"),new Ne(e)}},km=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ne.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Fm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new km(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ne.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Vm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Lm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,E("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string"),this.R=n.token,new Vm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};Ol=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=vL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};Ve=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};F=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ve(0,0))}static max(){return new t(new Ve(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};kl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&M(),r===void 0?r=e.length-n:r>e.length-n&&M(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},he=class t extends kl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new D(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},_L=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lt=class t extends kl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return _L.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new D(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new D(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new D(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};S=class t{constructor(e){this.path=e}static fromPath(e){return new t(he.fromString(e))}static fromName(e){return new t(he.fromString(e).popFirst(5))}static empty(){return new t(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&he.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new he(e.slice()))}};Um=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Um.UNKNOWN_ID=-1;Xr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(F.min(),S.empty(),-1)}static max(){return new t(F.max(),S.empty(),-1)}};DL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};v=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&M(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};Bm=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new rn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Yr(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=vv(r.target.error);this.V.reject(new Yr(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Yr(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(E("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Hm(n)}},Fl=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(je())===12.2&&cn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return E("SimpleDb","Removing database:",e),Gr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ou())return!1;if(t.C())return!0;let e=je(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return p(this,null,function*(){return this.db||(E("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Yr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new D(m.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new D(m.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Yr(e,o))},i.onupgradeneeded=s=>{E("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{E("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return p(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=Bm.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),v.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(E("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},$m=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Gr(this.k.delete())}},Yr=class extends D{constructor(e,n){super(m.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};Hm=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(E("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(E("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Gr(r)}add(e){return E("SimpleDb","ADD",this.store.name,e,e),Gr(this.store.add(e))}get(e){return Gr(this.store.get(e)).next(n=>(n===void 0&&(n=null),E("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return E("SimpleDb","DELETE",this.store.name,e),Gr(this.store.delete(e))}count(){return E("SimpleDb","COUNT",this.store.name),Gr(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new v((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new v((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){E("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new v((r,i)=>{n.onerror=s=>{let o=vv(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new v((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new $m(a),u=n(a.primaryKey,a.value,c);if(u instanceof v){let l=u.catch(d=>(c.done(),v.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>v.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};Vb=!1;g0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();TL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],A6=[...TL,"documentOverlays"],bL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],AL=bL,S6=[...AL,"indexConfiguration","indexState","indexEntries"];me=class t{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new os(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new os(this.root,e,this.comparator,!1)}getReverseIterator(){return new os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new os(this.root,e,this.comparator,!0)}},os=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},sn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw M();let e=this.left.check();if(e!==this.right.check())throw M();return e+(this.isRed()?0:1)}};sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw M()}get value(){throw M()}get color(){throw M()}get left(){throw M()}get right(){throw M()}copy(e,n,r,i,s){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};qe=class t{constructor(e){this.comparator=e,this.data=new me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vl(this.data.getIterator())}getIteratorFrom(e){return new Vl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Vl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};nn=class t{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new t([])}unionWith(e){let n=new qe(lt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ls(this.fields,e.fields,(n,r)=>n.isEqual(r))}};Ll=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};Qe=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ll("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Qe.EMPTY_BYTE_STRING=new Qe("");SL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);qm=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Ul=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};Rl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};kt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sa(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=sa(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Nl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ws(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(sa(this.value))}};Ft=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,F.min(),F.min(),F.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,F.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,F.min(),F.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,F.min(),F.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(F.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=F.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};fs=class{constructor(e,n){this.position=e,this.inclusive=n}};ti=class{constructor(e,n="asc"){this.field=e,this.dir=n}};jl=class{},Ee=class t extends jl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Km(e,n,r):n==="array-contains"?new Zm(e,r):n==="in"?new Jm(e,r):n==="not-in"?new Xm(e,r):n==="array-contains-any"?new ey(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Qm(e,r):new Ym(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ds(n,this.value)):n!==null&&ei(this.value)===ei(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return M()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Vt=class t extends jl{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return _0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};Km=class extends Ee{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){let n=S.comparator(e.key,this.key);return this.matchesComparison(n)}},Qm=class extends Ee{constructor(e,n){super(e,"in",n),this.keys=D0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ym=class extends Ee{constructor(e,n){super(e,"not-in",n),this.keys=D0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};Zm=class extends Ee{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return wv(n)&&ha(n.arrayValue,this.value)}},Jm=class extends Ee{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ha(this.value.arrayValue,n)}},Xm=class extends Ee{constructor(e,n){super(e,"not-in",n)}matches(e){if(ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ha(this.value.arrayValue,n)}},ey=class extends Ee{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!wv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ha(this.value.arrayValue,r))}};ty=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};Yn=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};Zn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return m0(this.inner)}size(){return this.innerSize}};kL=new me(S.comparator);A0=new me(S.comparator);FL=new me(S.comparator),VL=new qe(S.comparator);LL=new qe(X);ps=class{constructor(){this._=void 0}};ni=class extends ps{},ri=class extends ps{constructor(e){super(),this.elements=e}};ii=class extends ps{constructor(e){super(),this.elements=e}};gs=class extends ps{constructor(e,n){super(),this.serializer=e,this.Ie=n}};sy=class{constructor(e,n){this.field=e,this.transform=n}};oy=class{constructor(e,n){this.version=e,this.transformResults=n}},Zr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};ms=class{};si=class extends ms{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Cn=class extends ms{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};Bl=class extends ms{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ay=class extends ms{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};cy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&qL(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ca(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ca(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=R0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=F0(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(F.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),W())}isEqual(e){return this.batchId===e.batchId&&ls(this.mutations,e.mutations,(n,r)=>Kb(n,r))&&ls(this.baseMutations,e.baseMutations,(n,r)=>Kb(n,r))}},uy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ce(e.mutations.length===r.length);let i=function(){return FL}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};ly=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};dy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};(Y=Ie||(Ie={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";Zb=null;KL=new zr([4294967295,4294967295],0);hy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kr(`Invalid padding: ${n}`);if(r<0)throw new Kr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=zr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(zr.fromNumber(r)));return i.compare(KL)===1&&(i=new zr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=Jb(e),[r,i]=Xb(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=Jb(e),[r,i]=Xb(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Kr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};$l=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,fa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(F.min(),i,new me(X),Dn(),W())}},fa=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,W(),W(),W())}};as=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Hl=class{constructor(e,n){this.targetId=e,this.fe=n}},ql=class{constructor(e,n,r=Qe.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},zl=class{constructor(){this.ge=0,this.pe=t0(),this.ye=Qe.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=W(),n=W(),r=W();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:M()}}),new fa(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=t0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ce(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},fy=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=Dn(),this.Qe=e0(),this.Ke=new me(X)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:M()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(ny(s))if(r===0){let o=new S(s.path);this.We(n,o,Ft.newNoDocument(o,F.min()))}else ce(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}Zb?.tt(function(l,d,h,f,y){var _,I,C,B,Z,ie;let ye={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},se=d.unchangedNames;return se&&(ye.bloomFilter={applied:y===0,hashCount:(_=se?.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(B=(C=(I=se?.bits)===null||I===void 0?void 0:I.bitmap)===null||C===void 0?void 0:C.length)!==null&&B!==void 0?B:0,padding:(ie=(Z=se?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&ie!==void 0?ie:0,mightContain:rt=>{var Tn;return(Tn=f?.mightContain(rt))!==null&&Tn!==void 0&&Tn}}),ye}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Qn(r).toUint8Array()}catch(c){if(c instanceof Ll)return us("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new hy(o,i,s)}catch(c){return us(c instanceof Kr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&ny(a.target)){let c=new S(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Ft.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=W();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new $l(e,n,this.Ke,this.qe,r);return this.qe=Dn(),this.Qe=e0(),this.Ke=new me(X),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new zl,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new qe(X),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||E("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new zl),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};QL={asc:"ASCENDING",desc:"DESCENDING"},YL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZL={and:"AND",or:"OR"},py=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};pa=class t{constructor(e,n,r,i,s=F.min(),o=F.min(),a=Qe.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};_y=class{constructor(e){this.ct=e}};Wl=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(ge(e.integerValue));else if("doubleValue"in e){let r=ge(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),la(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Qn(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?y0(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):M()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),S.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Wl.bt=new Wl;Iy=class{constructor(){this._n=new wy}addToCollectionParentIndex(e,n){return this._n.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}deleteAllFieldIndexes(e){return v.resolve()}createTargetIndexes(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Xr.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}},wy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qe(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qe(he.comparator)).toArray()}};M6=new Uint8Array(0);tn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);ga=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};Ey=class{constructor(){this.changes=new Zn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};Dy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};Cy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ca(r.mutation,i,nn.empty(),Ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,W()).next(()=>r))}getLocalViewOfDocuments(e,n,r=W()){let i=Wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ia();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,W()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Dn(),o=aa(),a=function(){return aa()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Cn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),ca(l.mutation,u,l.mutation.getFieldMask(),Ve.now())):o.set(u.key,nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Dy(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=aa(),i=new me((o,a)=>o-a),s=W();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||nn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||W()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=R0();l.forEach(h=>{if(!s.has(h)){let f=F0(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return S.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Wr()),a=-1,c=s;return o.next(u=>v.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,W())).next(l=>({batchId:a,changes:S0(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new S(n)).next(r=>{let i=ia();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=ia();return this.indexManager.getCollectionParents(e,s).next(a=>v.forEach(a,c=>{let u=function(d,h){return new Yn(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Ft.newInvalidDocument(l)))});let a=ia();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&ca(l.mutation,u,nn.empty(),Ve.now()),hd(n,u)&&(a=a.insert(c,u))}),a})}};Ty=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return v.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:an(i.createTime)}}(n)),v.resolve()}getNamedQuery(e,n){return v.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:dU(i.bundledQuery),readTime:an(i.readTime)}}(n)),v.resolve()}};by=class{constructor(){this.overlays=new me(S.comparator),this.hr=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Wr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){let i=Wr(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new me((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Wr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Wr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return v.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ly(n,r));let s=this.hr.get(n);s===void 0&&(s=W(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};ma=class{constructor(){this.Pr=new qe(we.Ir),this.Tr=new qe(we.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new we(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new we(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new S(new he([])),r=new we(n,e),i=new we(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new S(new he([])),r=new we(n,e),i=new we(n,e+1),s=W();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new we(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},we=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return S.comparator(e.key,n.key)||X(e.pr,n.pr)}static Er(e,n){return X(e.pr,n.pr)||S.comparator(e.key,n.key)}};Ay=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new qe(we.Ir)}checkEmpty(e){return v.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new cy(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new we(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new we(n,0),i=new we(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qe(X);return n.forEach(i=>{let s=new we(i,0),o=new we(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),v.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;S.isDocumentKey(s)||(s=s.child(""));let o=new we(new S(s),0),a=new qe(X);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),v.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ce(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return v.forEach(n.mutations,i=>{let s=new we(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new we(n,0),i=this.wr.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,v.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};Sy=class{constructor(e){this.vr=e,this.docs=function(){return new me(S.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=Dn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Dn(),o=n.path,a=new S(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||EL(wL(l),r)<=0||(i.has(l.key)||hd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){M()}Fr(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ry(this)}getSize(e){return v.resolve(this.size)}},Ry=class extends Ey{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};My=class{constructor(e){this.persistence=e,this.Mr=new Zn(n=>Ev(n),Dv),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ma,this.targetCount=0,this.Br=ga.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),v.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new ga(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.qn(n),v.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),v.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Nr.containsKey(n))}};Ny=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new g0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new My(this),this.indexManager=new Iy,this.remoteDocumentCache=function(i){return new Sy(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new _y(n),this.$r=new Ty(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new by,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new Ay(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){E("MemoryPersistence","Starting transaction:",e);let i=new xy(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return v.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},xy=class extends jm{constructor(e){super(),this.currentSequenceNumber=e}},Py=class t{constructor(e){this.persistence=e,this.zr=new ma,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw M()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),v.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Jr,r=>{let i=S.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,F.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return v.or([()=>v.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};Oy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=W(),i=W();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};ky=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};Fy=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return xC()?8:Fl.v(je())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new ky;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ra()<=G.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),v.resolve()):(ra()<=G.DEBUG&&E("QueryEngine","Query:",rs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ra()<=G.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,on(n))):v.resolve())}ji(e,n){if(Gb(n))return v.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iy(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=W(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,iy(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return Gb(n)||i.isEqual(F.min())?v.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?v.resolve(null):(ra()<=G.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rs(n)),this.es(e,o,n,IL(i,-1)).next(a=>a))})}Zi(e,n){let r=new qe(b0(e));return n.forEach((i,s)=>{hd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ra()<=G.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",rs(n)),this.zi.getDocumentsMatchingQuery(e,n,Xr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};Vy=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new me(X),this.rs=new Zn(s=>Ev(s),Dv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cy(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};Kl=class{constructor(){this.activeTargetIds=UL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Uy=class{constructor(){this.no=new Kl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Kl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};jy=class{io(e){}shutdown(){}};Ql=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};Ml=null;_U={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};By=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};He="WebChannelConnection",$y=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Rm(),c=this.bo(n,r.toUriEncodedString());E("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(E("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw us("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=_U[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Rm();return new Promise((o,a)=>{let c=new Pb;c.setWithCredentials(!0),c.listenOnce(Nb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Sl.NO_ERROR:let l=c.getResponseJson();E(He,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Sl.TIMEOUT:E(He,`RPC '${e}' ${s} timed out`),a(new D(m.DEADLINE_EXCEEDED,"Request time out"));break;case Sl.HTTP_ERROR:let d=c.getStatus();if(E(He,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let y=function(I){let C=I.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(C)>=0?C:m.UNKNOWN}(f.status);a(new D(y,f.message))}else a(new D(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new D(m.UNAVAILABLE,"Connection failed."));break;default:M()}}finally{E(He,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);E(He,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Rm(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Rb(),a=Mb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");E(He,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,y=new By({lo:I=>{f?E(He,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(h||(E(He,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),E(He,`RPC '${e}' stream ${i} sending:`,I),d.send(I))},ho:()=>d.close()}),_=(I,C,B)=>{I.listen(C,Z=>{try{B(Z)}catch(ie){setTimeout(()=>{throw ie},0)}})};return _(d,na.EventType.OPEN,()=>{f||E(He,`RPC '${e}' stream ${i} transport opened.`)}),_(d,na.EventType.CLOSE,()=>{f||(f=!0,E(He,`RPC '${e}' stream ${i} transport closed`),y.Vo())}),_(d,na.EventType.ERROR,I=>{f||(f=!0,us(He,`RPC '${e}' stream ${i} transport errored:`,I),y.Vo(new D(m.UNAVAILABLE,"The operation could not be completed")))}),_(d,na.EventType.MESSAGE,I=>{var C;if(!f){let B=I.data[0];ce(!!B);let Z=B,ie=Z.error||((C=Z[0])===null||C===void 0?void 0:C.error);if(ie){E(He,`RPC '${e}' stream ${i} received error:`,ie);let ye=ie.status,se=function(nr){let Ga=Ie[nr];if(Ga!==void 0)return L0(Ga)}(ye),rt=ie.message;se===void 0&&(se=m.INTERNAL,rt="Unknown error status: "+ye+" with message "+ie.message),f=!0,y.Vo(new D(se,rt)),d.close()}else E(He,`RPC '${e}' stream ${i} received:`,B),y.mo(B)}}),_(a,xb.STAT_EVENT,I=>{I.stat===Am.PROXY?E(He,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Am.NOPROXY&&E(He,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}};Yl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};Zl=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Yl(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return p(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return p(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return p(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(cn(n.toString()),cn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new D(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>p(this,null,function*(){this.state=0,this.start()}))}__(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Hy=class extends Zl{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=eU(this.serializer,e),r=function(s){if(!("targetChange"in s))return F.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?F.min():o.readTime?an(o.readTime):F.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=vy(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=ny(c)?{documents:rU(s,c)}:{query:iU(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=U0(s,o.resumeToken);let u=gy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(F.min())>0){a.readTime=Gl(s,o.snapshotVersion.toTimestamp());let u=gy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=oU(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=vy(this.serializer),n.removeTarget=e,this.t_(n)}},qy=class extends Zl{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=nU(e.writeResults,e.commitTime),r=an(e.commitTime);return this.listener.T_(r,n)}return ce(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=vy(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>tU(this.serializer,r))};this.t_(n)}};zy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new D(m.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,my(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(m.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,my(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new D(m.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}},Gy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(cn(n),this.g_=!1):E("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};Wy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>p(this,null,function*(){ai(this)&&(E("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=V(c);u.v_.add(4),yield Ca(u),u.x_.set("Unknown"),u.v_.delete(4),yield pd(u)})}(this))}))}),this.x_=new Gy(r,i)}};Ky=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};Xl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=ia(),this.sortedSet=new me(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};ed=class{constructor(){this.L_=new me(S.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):M():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},ys=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Xl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};Qy=class{constructor(){this.q_=void 0,this.Q_=[]}},Yy=class{constructor(){this.queries=new Zn(e=>T0(e),dd),this.onlineState="Unknown",this.K_=new Set}};Zy=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};td=class{constructor(e){this.key=e}},nd=class{constructor(e){this.key=e}},Jy=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=W(),this.mutatedKeys=W(),this.ua=b0(e),this.ca=new Xl(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new ed,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=hd(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),I=!1;h&&f?h.data.isEqual(f.data)?y!==_&&(r.track({type:3,doc:f}),I=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),I=!0,(c&&this.ua(f,c)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),I=!0):h&&!f&&(r.track({type:1,doc:h}),I=!0,(c||u)&&(a=!0)),I&&(f?(o=o.add(f),s=_?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((l,d)=>function(f,y){let _=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return M()}};return _(f)-_(y)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new ys(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new ed,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=W(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new nd(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new td(r))}),n}Ra(e){this.oa=e.hs,this.aa=W();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return ys.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},Xy=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},ev=class{constructor(e){this.key=e,this.ma=!1}},tv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Zn(a=>T0(a),dd),this.pa=new Map,this.ya=new Set,this.wa=new me(S.comparator),this.Sa=new Map,this.ba=new ma,this.Da={},this.Ca=new Map,this.va=ga.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};rd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=fd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return hU(this.persistence,new Fy,e.initialUser,this.serializer)}createPersistence(e){return new Ny(Py.Hr,this.serializer)}createSharedClientState(e){return new Uy}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}},rv=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>s0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$U.bind(null,this.syncEngine),yield RU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Yy}()}createDatastore(e){let n=fd(e.databaseInfo.databaseId),r=function(s){return new $y(s)}(e.databaseInfo);return function(s,o,a,c){return new zy(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Wy(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>s0(this.syncEngine,n,0),function(){return Ql.D()?new Ql:new jy}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new tv(i,s,o,a,c,u);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(r){return p(this,null,function*(){let i=V(r);E("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Ca(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};iv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):cn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};sv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ne.UNAUTHENTICATED,this.clientId=Ol.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){E("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(E("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Rv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};u0=new Map;id=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new D(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new D(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new D(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new D(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new D(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},vs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new id({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new D(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new id(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xm;switch(r.type){case"firstParty":return new Fm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new D(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=u0.get(n);r&&(E("ComponentProvider","Removing Datastore"),u0.delete(n),r.terminate())}(this),Promise.resolve()}};oi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},dt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Wn=class t extends oi{constructor(e,n,r){super(e,n,Cv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new S(e))}withConverter(e){return new t(this.firestore,e,this._path)}};ov=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Yl(this,"async_queue_retry"),this._u=()=>{let n=Mm();n&&E("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Mm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new rn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return p(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Da(e))throw e;E("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw cn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=Ky.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&M()}verifyOperationInProgress(){}hu(){return p(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};_s=class extends vs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ov}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fA(this),this._firestoreClient.terminate()}};ya=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Qe.fromBase64String(e))}catch(n){throw new D(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};va=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new D(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};_a=class{constructor(e){this._methodName=e}};Ia=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}};YU=/^__.*__$/,av=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cn(e,this.data,this.fieldMask,n,this.fieldTransforms):new si(e,this.data,n,this.fieldTransforms)}};cv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return sd(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(pA(this.du)&&YU.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},uv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fd(e)}Su(e,n,r,i=!1){return new cv({du:e,methodName:n,wu:r,path:lt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};lv=class t extends _a{_toFieldTransform(e){return new sy(e.path,new ni)}isEqual(e){return e instanceof t}};ej=new RegExp("[~\\*/\\[\\]]");od=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new dv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Pv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},dv=class extends od{data(){return super.data()}};wa=class{},ad=class extends wa{};hv=class t extends ad{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return EA(e._query,n),new oi(e.firestore,e.converter,ry(e._query,n))}_parse(e){let n=gA(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new D(m.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){p0(d,l);let f=[];for(let y of d)f.push(f0(c,s,y));h={arrayValue:{values:f}}}else h=f0(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||p0(d,l),h=JU(a,o,d,l==="in"||l==="not-in");return Ee.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}},fv=class t extends wa{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)EA(o,c),o=ry(o,c)}(e._query,n),new oi(e.firestore,e.converter,ry(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}},pv=class t extends ad{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new D(m.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new D(m.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ti(s,o)}(e._query,this._field,this._direction);return new oi(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Yn(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};gv=class{convertValue(e,n="none"){switch(ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw M()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ws(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ia(ge(e.latitude),ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Iv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(da(e));default:return null}}convertTimestamp(e){let n=Kn(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=he.fromString(e);ce(z0(r));let i=new Ul(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||cn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};Qr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},cd=class extends od{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new cs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Pv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},cs=class extends cd{data(e={}){return super.data(e)}},mv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cs(this._firestore,this._userDataWriter,r.key,r,new Qr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:ij(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};ud=class extends gv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ya(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}};(function(e,n=!0){(function(i){Is=i})(Gi),Hn(new wt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new _s(new Om(r.getProvider("auth-internal")),new Lm(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new D(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Se(Fb,"4.4.2",e),Se(Fb,"4.4.2","esm2017")})()});var yd=g(()=>{"use strict";TA()});function bA(t,e){return e===void 0&&(e=uj),new q(function(n){var r=Ov(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function AA(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:vd(vd({},r),(n={},n[e.idField]=t.id,n))}function SA(t){return bA(t,{includeMetadataChanges:!0}).pipe(L(function(e){return e.docs}))}function RA(t,e){return e===void 0&&(e={}),SA(t).pipe(L(function(n){return n.map(function(r){return AA(r,e)})}))}var vd,uj,MA=g(()=>{"use strict";yd();lr();dr();vd=function(){return vd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vd.apply(this,arguments)};uj={includeMetadataChanges:!1};});function lj(t,e){let n=Ig(NA,t,e);return n&&new ci(n)}function dj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ci(r)}}function xA(t,...e){return{ngModule:pj,providers:[{provide:Fv,useFactory:dj(t),multi:!0,deps:[oe,vt,Mo,No,[new Mt,Xu],[new Mt,So],...e]}]}}var ci,NA,kv,Fv,hj,fj,pj,PA,OA,Vv,kA,FA,VA,LA,_d=g(()=>{"use strict";ju();Ae();Ae();Eg();fT();Ki();MA();yd();yd();ci=class{constructor(e){return e}},NA="firestore",kv=class{constructor(){return Ro(NA)}},Fv=new x("angularfire2.firestore-instances");hj={provide:kv,deps:[[new Mt,Fv]]},fj={provide:ci,useFactory:lj,deps:[[new Mt,Fv],Lr]},pj=(()=>{class t{constructor(){Se("angularfire",Yi.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qt({type:t});static \u0275inj=Kt({providers:[fj,hj]})}return t})();PA=xt(RA,!0),OA=xt(DA,!0),Vv=xt(uA,!0),kA=xt(dA,!0),FA=xt(wA,!0),VA=xt(IA,!0),LA=xt(CA,!0)});function _j(){let t=_n()?_n().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}function ZA(t){return t!=null}function JA(t){return Un(t)?de(t):t}function XA(t){let e={};return t.forEach(n=>{e=n!=null?T(T({},e),n):e}),Object.keys(e).length===0?null:e}function eS(t,e){return e.map(n=>n(t))}function wj(t){return!t.validate}function tS(t){return t.map(e=>wj(e)?e:n=>e.validate(n))}function Ej(t){if(!t)return null;let e=t.filter(ZA);return e.length==0?null:function(n){return XA(eS(n,e))}}function nS(t){return t!=null?Ej(tS(t)):null}function Dj(t){if(!t)return null;let e=t.filter(ZA);return e.length==0?null:function(n){let r=eS(n,e).map(JA);return Mh(r).pipe(L(XA))}}function rS(t){return t!=null?Dj(tS(t)):null}function UA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function iS(t){return t._rawValidators}function sS(t){return t._rawAsyncValidators}function Lv(t){return t?Array.isArray(t)?t:[t]:[]}function wd(t,e){return Array.isArray(t)?t.includes(e):t===e}function jA(t,e){let n=Lv(e);return Lv(t).forEach(i=>{wd(n,i)||n.push(i)}),n}function BA(t,e){return Lv(e).filter(n=>!wd(t,n))}function Bv(t){return(Sd(t)?t.validators:t)||null}function Tj(t){return Array.isArray(t)?nS(t):t||null}function $v(t,e){return(Sd(e)?e.asyncValidators:t)||null}function bj(t){return Array.isArray(t)?rS(t):t||null}function Sd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function cS(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new A(1e3,"");if(!r[n])throw new A(1001,"")}function uS(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new A(1002,"")})}function Aj(t,e){return[...e.path,t]}function $A(t,e,n=Hv){qv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Rj(t,e),Nj(t,e),Mj(t,e),Sj(t,e)}function HA(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),bd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Td(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Sj(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function qv(t,e){let n=iS(t);e.validator!==null?t.setValidators(UA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=sS(t);e.asyncValidator!==null?t.setAsyncValidators(UA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Td(e._rawValidators,i),Td(e._rawAsyncValidators,i)}function bd(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=iS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=sS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Td(e._rawValidators,r),Td(e._rawAsyncValidators,r),n}function Rj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&dS(t,e)})}function Mj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&dS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function dS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Nj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function xj(t,e){t==null,qv(t,e)}function Pj(t,e){return bd(t,e)}function Oj(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function kj(t){return Object.getPrototypeOf(t.constructor)===yj}function Fj(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Vj(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Ad?n=s:kj(s)?r=s:i=s}),i||r||n||null}function Lj(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function qA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function zA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}function GA(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var WA,yj,KA,vj,Ij,Ad,QA,YA,Ed,Cs,Sa,Dd,Cj,D8,oS,aS,ba,Id,Ds,Aa,Ts,Cd,Uv,lS,Hv,ui,Uj,hS,fS,jj,zv,Bj,Gv,$j,jv,pS,gS,Wv=g(()=>{"use strict";Ae();Ae();vo();lr();dr();WA=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(J(Ar),J(Nt))},e.\u0275dir=nt({type:e});let t=e;return t})(),yj=(()=>{let e=class e extends WA{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ho(e)))(s||e)}})(),e.\u0275dir=nt({type:e,features:[Vn]});let t=e;return t})(),KA=new x(""),vj={provide:KA,useExisting:Bi(()=>Ad),multi:!0};Ij=new x(""),Ad=(()=>{let e=class e extends WA{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!_j())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(J(Ar),J(Nt),J(Ij,8))},e.\u0275dir=nt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Nr("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Du([vj]),Vn]});let t=e;return t})(),QA=new x(""),YA=new x("");Ed=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Cs=class extends Ed{get formDirective(){return null}get path(){return null}},Sa=class extends Ed{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Dd=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Cj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},D8=te(T({},Cj),{"[class.ng-submitted]":"isSubmitted"}),oS=(()=>{let e=class e extends Dd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(J(Sa,2))},e.\u0275dir=nt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Eu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Vn]});let t=e;return t})(),aS=(()=>{let e=class e extends Dd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(J(Cs,10))},e.\u0275dir=nt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Eu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Vn]});let t=e;return t})(),ba="VALID",Id="INVALID",Ds="PENDING",Aa="DISABLED";Ts=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ba}get invalid(){return this.status===Id}get pending(){return this.status==Ds}get disabled(){return this.status===Aa}get enabled(){return this.status!==Aa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BA(e,this._rawAsyncValidators))}hasValidator(e){return wd(this._rawValidators,e)}hasAsyncValidator(e){return wd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ds,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Aa,this.errors=null,this._forEachChild(r=>{r.disable(te(T({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(T({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ba,this._forEachChild(r=>{r.enable(te(T({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(T({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ba||this.status===Ds)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Aa:ba}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ds,this._hasOwnPendingAsyncValidator=!0;let n=JA(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?Aa:this.errors?Id:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ds)?Ds:this._anyControlsHaveStatus(Id)?Id:ba}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Tj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=bj(this._rawAsyncValidators)}},Cd=class extends Ts{constructor(e,n,r){super(Bv(n),$v(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){uS(this,!0,e),Object.keys(e).forEach(r=>{cS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},Uv=class extends Cd{},lS=new x("CallSetDisabledState",{providedIn:"root",factory:()=>Hv}),Hv="always";ui=class extends Ts{constructor(e=null,n,r){super(Bv(n),$v(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(zA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){zA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Uj=t=>t instanceof ui,hS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),fS=new x(""),jj={provide:Cs,useExisting:Bi(()=>zv)},zv=(()=>{let e=class e extends Cs{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return $A(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){HA(r.control||null,r,!1),Lj(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,Fj(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(HA(i||null,r),Uj(s)&&($A(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);xj(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&Pj(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qv(this.form,this),this._oldForm&&bd(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(J(QA,10),J(YA,10),J(lS,8))},e.\u0275dir=nt({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Nr("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[tt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Du([jj]),Vn,Cr]});let t=e;return t})(),Bj={provide:Sa,useExisting:Bi(()=>Gv)},Gv=(()=>{let e=class e extends Sa{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Pe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Vj(this,o)}ngOnChanges(r){this._added||this._setUpControl(),Oj(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Aj(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(J(Cs,13),J(QA,10),J(YA,10),J(KA,10),J(fS,8))},e.\u0275dir=nt({type:e,selectors:[["","formControlName",""]],inputs:{name:[tt.None,"formControlName","name"],isDisabled:[tt.None,"disabled","isDisabled"],model:[tt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Du([Bj]),Vn,Cr]});let t=e;return t})(),$j=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Qt({type:e}),e.\u0275inj=Kt({});let t=e;return t})(),jv=class extends Ts{constructor(e,n,r){super(Bv(n),$v(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){uS(this,!1,e),e.forEach((r,i)=>{cS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};pS=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return GA(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Cd(s,o)}record(r,i=null){let s=this._reduceControls(r);return new Uv(s,i)}control(r,i,s){let o={};return this.useNonNullable?(GA(i)?o=i:(o.validators=i,o.asyncValidators=s),new ui(r,te(T({},o),{nonNullable:!0}))):new ui(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new jv(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof ui)return r;if(r instanceof Ts)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gS=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:fS,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:lS,useValue:r.callSetDisabledState??Hv}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Qt({type:e}),e.\u0275inj=Kt({imports:[$j]});let t=e;return t})()});function Gj(t,e){if(t&1&&(Yt(0,"li")(1,"div",9)(2,"div")(3,"div",10),go(4),Ln()(),Yt(5,"div",11)(6,"div",12)(7,"span",13),go(8),Ln()(),Yt(9,"p",14),go(10),Ln()()()()),t&2){let n=e.$implicit,r=e.index;Rr(),po("ngClass",jD(4,zj,r%2===0)),Rr(3),Rp(n.user[0].toUpperCase()),Rr(4),mo(" ",n.user," "),Rr(2),mo(" ",n.message," ")}}var qj,zj,mS,yS=g(()=>{"use strict";vo();_d();Wv();Ae();Wv();_d();qj=["messageContainer"],zj=t=>({"flex-row-reverse":t});mS=(()=>{let e=class e{constructor(r,i){this.formBuilder=r,this.firestore=i}ngOnInit(){let r=Vv(this.firestore,"Chat"),i=VA(r,FA("createdAt"));this.chat$=PA(i),this.chatForm=this.formBuilder.group({user:new ui("default user"),message:new ui(null)})}ngAfterViewChecked(){this.messageContainer.nativeElement.scrollTop=this.messageContainer.nativeElement.scrollHeight}sendMessage(){let r=this.chatForm.get("user"),i=this.chatForm.get("message");console.log(r?.value),console.log(i?.value),this.addDocData("Chat",{user:r?.value,message:i?.value,createdAt:LA()}),i?.setValue("")}addDocData(r,i){OA(Vv(this.firestore,r),i)}};e.\u0275fac=function(i){return new(i||e)(J(pS),J(ci))},e.\u0275cmp=lu({type:e,selectors:[["chat-app"]],viewQuery:function(i,s){if(i&1&&LD(qj,5),i&2){let o;Ap(o=Sp())&&(s.messageContainer=o.first)}},standalone:!0,features:[Cu],decls:13,vars:4,consts:[[1,"flex","flex-col","h-svh","justify-end","p-6"],[1,"overflow-scroll"],["messageContainer",""],[4,"ngFor","ngForOf"],["c","",3,"formGroup","ngSubmit"],["formControlName","user","type","text",1,"rounded","border","p-2","w-full"],[1,"flex"],["formControlName","message","placeholder","text here to chat",1,"rounded-l-lg","border","p-2","w-full"],[1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded-r-lg"],[1,"flex","items-start","gap-4","mb-5",3,"ngClass"],[1,"p-0","rounded-full","bg-slate-500","w-9","h-9","text-center","flex","justify-center","items-center","text-cyan-50"],[1,"flex","flex-col","w-full","leading-1.5","p-4","border-gray-200","bg-gray-100","rounded-e-xl","rounded-es-xl","dark:bg-gray-700"],[1,"flex","items-center","space-x-2","rtl:space-x-reverse"],[1,"text-sm","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","font-normal","py-2.5","text-gray-900","dark:text-white"]],template:function(i,s){i&1&&(Yt(0,"main")(1,"div",0)(2,"ul",1,2),Cp(4,Gj,11,6,"li",3),$D(5,"async"),Ln(),Yt(6,"div")(7,"form",4),Nr("ngSubmit",function(){return s.sendMessage()}),qi(8,"input",5),Yt(9,"div",6),qi(10,"textarea",7),Yt(11,"button",8),go(12," send "),Ln()()()()()()),i&2&&(Rr(4),po("ngForOf",HD(5,2,s.chat$)),Rr(3),po("formGroup",s.chatForm))},dependencies:[cC,gS,hS,Ad,oS,aS,zv,Gv,aC,uC]});let t=e;return t})()});function Ms(t){return new Jv(t)}function Wj(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Kj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ln(t[n],e[n]))return!1;return!0}function ln(t,e){let n=t?Xv(t):void 0,r=e?Xv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!DS(t[i],e[i]))return!1;return!0}function Xv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function DS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function CS(t){return t.length>0?t[t.length-1]:null}function tr(t){return Ch(t)?t:Un(t)?de(Promise.resolve(t)):k(t)}function vS(t,e,n){return Qj[n.paths](t.root,e.root,n.matrixParams)&&TS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Yj(t,e){return ln(t,e)}function bS(t,e,n){if(!di(t.segments,e.segments)||!Nd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!bS(t.children[r],e.children[r],n))return!1;return!0}function Zj(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>DS(t[n],e[n]))}function AS(t,e,n){return SS(t,e,e.segments,n)}function SS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!di(i,n)||e.hasChildren()||!Nd(i,n,r))}else if(t.segments.length===n.length){if(!di(t.segments,n)||!Nd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!AS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!di(t.segments,i)||!Nd(t.segments,i,r)||!t.children[U]?!1:SS(t.children[U],e,s,r)}}function Nd(t,e,n){return e.every((r,i)=>TS[n](t[i].parameters,r.parameters))}function Jj(t,e){return di(t,e)&&t.every((n,r)=>ln(n.parameters,e[r].parameters))}function di(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Xj(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===U&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==U&&(n=n.concat(e(i,r)))}),n}function xd(t){return t.segments.map(e=>MS(e)).join("/")}function Ra(t,e){if(!t.hasChildren())return xd(t);if(e){let n=t.children[U]?Ra(t.children[U],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==U&&r.push(`${i}:${Ra(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Xj(t,(r,i)=>i===U?[Ra(t.children[U],!1)]:[`${i}:${Ra(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[U]!=null?`${xd(t)}/${n[0]}`:`${xd(t)}/(${n.join("//")})`}}function RS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rd(t){return RS(t).replace(/%3B/gi,";")}function t2(t){return encodeURI(t)}function e_(t){return RS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pd(t){return decodeURIComponent(t)}function _S(t){return Pd(t.replace(/\+/g,"%20"))}function MS(t){return`${e_(t.path)}${n2(t.parameters)}`}function n2(t){return Object.entries(t).map(([e,n])=>`;${e_(e)}=${e_(n)}`).join("")}function r2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Rd(n)}=${Rd(i)}`).join("&"):`${Rd(n)}=${Rd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}function Kv(t){let e=t.match(i2);return e?e[0]:""}function o2(t){let e=t.match(s2);return e?e[0]:""}function c2(t){let e=t.match(a2);return e?e[0]:""}function l2(t){let e=t.match(u2);return e?e[0]:""}function NS(t){return t.segments.length>0?new ee([],{[U]:t}):t}function xS(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=xS(i);if(r===U&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ee(t.segments,e);return d2(n)}function d2(t){if(t.numberOfChildren===1&&t.children[U]){let e=t.children[U];return new ee(t.segments.concat(e.segments),e.children)}return t}function Ns(t){return t instanceof Xn}function h2(t,e,n=null,r=null){let i=PS(t);return OS(i,e,n,r)}function PS(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ee(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=NS(r);return e??i}function OS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Qv(i,i,i,n,r);let s=f2(e);if(s.toRoot())return Qv(i,i,new ee([],{}),n,r);let o=p2(s,i,t),a=o.processChildren?xa(o.segmentGroup,o.index,s.commands):FS(o.segmentGroup,o.index,s.commands);return Qv(i,o.segmentGroup,a,n,r)}function kd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ka(t){return typeof t=="object"&&t!=null&&t.outlets}function Qv(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=kS(t,e,n);let a=NS(xS(o));return new Xn(a,s,i)}function kS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=kS(s,e,n)}),new ee(t.segments,r)}function f2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Fd(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Fd(n,e,r)}function p2(t,e,n){if(t.isAbsolute)return new Ss(e,!0,0);if(!n)return new Ss(e,!1,NaN);if(n.parent===null)return new Ss(n,!0,0);let r=kd(t.commands[0])?0:1,i=n.segments.length-1+r;return g2(n,i,t.numberOfDoubleDots)}function g2(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new Ss(r,!1,i-s)}function m2(t){return ka(t[0])?t[0].outlets:{[U]:t}}function FS(t,e,n){if(t??=new ee([],{}),t.segments.length===0&&t.hasChildren())return xa(t,e,n);let r=y2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ee(t.segments.slice(0,r.pathIndex),{});return s.children[U]=new ee(t.segments.slice(r.pathIndex),t.children),xa(s,0,i)}else return r.match&&i.length===0?new ee(t.segments,{}):r.match&&!t.hasChildren()?n_(t,e,n):r.match?xa(t,0,i):n_(t,e,n)}function xa(t,e,n){if(n.length===0)return new ee(t.segments,{});{let r=m2(n),i={};if(Object.keys(r).some(s=>s!==U)&&t.children[U]&&t.numberOfChildren===1&&t.children[U].segments.length===0){let s=xa(t.children[U],e,n);return new ee(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=FS(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ee(t.segments,i)}}function y2(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ka(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!wS(c,u,o))return s;r+=2}else{if(!wS(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function n_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ka(s)){let c=v2(s.outlets);return new ee(r,c)}if(i===0&&kd(n[0])){let c=t.segments[e];r.push(new li(c.path,IS(n[0]))),i++;continue}let o=ka(s)?s.outlets[U]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&kd(a)?(r.push(new li(o,IS(a))),i+=2):(r.push(new li(o,{})),i++)}return new ee(r,{})}function v2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=n_(new ee([],{}),0,r))}),e}function IS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function wS(t,e,n){return t==n.path&&ln(e,n.parameters)}function g_(t,e){if(t===e.value)return e;for(let n of e.children){let r=g_(t,n);if(r)return r}return null}function m_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=m_(t,n);if(r.length)return r.unshift(e),r}return[]}function As(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}function VS(t){let e=_2(t),n=new xe([new li("",{})]),r=new xe({}),i=new xe({}),s=new xe({}),o=new xe(""),a=new xs(n,r,s,o,i,U,t,e.root);return a.snapshot=e.root,new Ud(new ht(a,[]),e)}function _2(t){let e={},n={},r={},i="",s=new ja([],e,r,i,n,U,t,null,{});return new jd("",new ht(s,[]))}function b_(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:T(T({},e.params),t.params),data:T(T({},e.data),t.data),resolve:T(T(T(T({},t.data),e.data),i?.data),t._resolvedData)}:r={params:T({},t.params),data:T({},t.data),resolve:T(T({},t.data),t._resolvedData??{})},i&&US(i)&&(r.resolve[Ha]=i.title),r}function A_(t,e){e.value._routerState=t,e.children.forEach(n=>A_(t,n))}function LS(t){let e=t.children.length>0?` { ${t.children.map(LS).join(", ")} } `:"";return`${t.value}${e}`}function Yv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ln(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ln(e.params,n.params)||t.paramsSubject.next(n.params),Kj(e.url,n.url)||t.urlSubject.next(n.url),ln(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function y_(t,e){let n=ln(t.params,e.params)&&Jj(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||y_(t.parent,e.parent))}function US(t){return typeof t.title=="string"||t.title===null}function w2(t,e,n){let r=Ba(t,e._root,n?n._root:void 0);return new Ud(r,e)}function Ba(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=E2(t,e,n);return new ht(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ba(t,a)),o}}let r=D2(e.value),i=e.children.map(s=>Ba(t,s));return new ht(r,i)}}function E2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ba(t,r,i);return Ba(t,r)})}function D2(t){return new xs(new xe(t.url),new xe(t.params),new xe(t.queryParams),new xe(t.fragment),new xe(t.data),t.outlet,t.component,t)}function BS(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ns(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$S(!1,Dt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function $S(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[jS]=!0,n.cancellationCode=e,n}function C2(t){return HS(t)&&Ns(t.url)}function HS(t){return!!t&&t[jS]}function b2(t,e){return t.providers&&!t._injector&&(t._injector=Dp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function R_(t){let e=t.children&&t.children.map(R_),n=e?te(T({},t),{children:e}):T({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=T2),n}function dn(t){return t.outlet||U}function A2(t,e){let n=t.filter(r=>dn(r)===e);return n.push(...t.filter(r=>dn(r)!==e)),n}function qa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}function R2(t,e,n){let r=t._root,i=e?e._root:null;return Ma(r,i,n,[r.value])}function M2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Os(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!$w(t)?t:e.get(t):r}function Ma(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=As(e);return t.children.forEach(o=>{N2(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Oa(a,n.getContext(o),i)),i}function N2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=x2(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Bd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ma(t,e,a?a.children:null,r,i):Ma(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Rs(a.outlet.component,o))}else o&&Oa(e,a,i),i.canActivateChecks.push(new Bd(r)),s.component?Ma(t,null,a?a.children:null,r,i):Ma(t,null,n,r,i);return i}function x2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!di(t.url,e.url);case"pathParamsOrQueryParamsChange":return!di(t.url,e.url)||!ln(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!y_(t,e)||!ln(t.queryParams,e.queryParams);case"paramsChange":default:return!y_(t,e)}}function Oa(t,e,n){let r=As(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Oa(o,e.children.getContext(s),n):Oa(o,null,n):Oa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Rs(e.outlet.component,i)):n.canDeactivateChecks.push(new Rs(null,i)):n.canDeactivateChecks.push(new Rs(null,i))}function za(t){return typeof t=="function"}function P2(t){return typeof t=="boolean"}function O2(t){return t&&za(t.canLoad)}function k2(t){return t&&za(t.canActivate)}function F2(t){return t&&za(t.canActivateChild)}function V2(t){return t&&za(t.canDeactivate)}function L2(t){return t&&za(t.canMatch)}function qS(t){return t instanceof hn||t?.name==="EmptyError"}function Ps(){return st(t=>bc(t.map(e=>e.pipe(fn(1),Pc(Md)))).pipe(L(e=>{for(let n of e)if(n!==!0){if(n===Md)return Md;if(n===!1||n instanceof Xn)return n}return!0}),pt(e=>e!==Md),fn(1)))}function U2(t,e){return Te(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?k(te(T({},n),{guardsResult:!0})):j2(o,r,i,t).pipe(Te(a=>a&&P2(a)?B2(r,s,t,e):k(a)),L(a=>te(T({},n),{guardsResult:a})))})}function j2(t,e,n,r){return de(t).pipe(Te(i=>G2(i.component,i.route,n,e,r)),Ut(i=>i!==!0,!0))}function B2(t,e,n,r){return de(e).pipe(Si(i=>Ai(H2(i.route.parent,r),$2(i.route,r),z2(t,i.path,n),q2(t,i.route,n))),Ut(i=>i!==!0,!0))}function $2(t,e){return t!==null&&e&&e(new h_(t)),k(!0)}function H2(t,e){return t!==null&&e&&e(new l_(t)),k(!0)}function q2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return k(!0);let i=r.map(s=>Sc(()=>{let o=qa(e)??n,a=Os(s,o),c=k2(a)?a.canActivate(e,t):Tr(o,()=>a(e,t));return tr(c).pipe(Ut())}));return k(i).pipe(Ps())}function z2(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>M2(o)).filter(o=>o!==null).map(o=>Sc(()=>{let a=o.guards.map(c=>{let u=qa(o.node)??n,l=Os(c,u),d=F2(l)?l.canActivateChild(r,t):Tr(u,()=>l(r,t));return tr(d).pipe(Ut())});return k(a).pipe(Ps())}));return k(s).pipe(Ps())}function G2(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return k(!0);let o=s.map(a=>{let c=qa(e)??i,u=Os(a,c),l=V2(u)?u.canDeactivate(t,e,n,r):Tr(c,()=>u(t,e,n,r));return tr(l).pipe(Ut())});return k(o).pipe(Ps())}function W2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return k(!0);let s=i.map(o=>{let a=Os(o,t),c=O2(a)?a.canLoad(e,n):Tr(t,()=>a(e,n));return tr(c)});return k(s).pipe(Ps(),zS(r))}function zS(t){return nc(_e(e=>{if(Ns(e))throw BS(t,e)}),L(e=>e===!0))}function K2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return k(!0);let s=i.map(o=>{let a=Os(o,t),c=L2(a)?a.canMatch(e,n):Tr(t,()=>a(e,n));return tr(c)});return k(s).pipe(Ps(),zS(r))}function bs(t){return bi(new $a(t))}function Q2(t){return bi(new A(4e3,!1))}function Y2(t){return bi($S(!1,Dt.GuardRejected))}function Z2(t,e,n,r,i){let s=M_(t,e,n);return s.matched?(r=b2(e,r),K2(r,e,n,i).pipe(L(o=>o===!0?s:T({},w_)))):k(s)}function M_(t,e,n){if(e.path==="**")return J2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?T({},w_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Wj)(n,t,e);if(!i)return T({},w_);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?T(T({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function J2(t){return{matched:!0,parameters:t.length>0?CS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ES(t,e,n,r){return n.length>0&&tB(t,n,r)?{segmentGroup:new ee(e,eB(r,new ee(n,t.children))),slicedSegments:[]}:n.length===0&&nB(t,n,r)?{segmentGroup:new ee(t.segments,X2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ee(t.segments,t.children),slicedSegments:n}}function X2(t,e,n,r){let i={};for(let s of n)if(qd(t,e,s)&&!r[dn(s)]){let o=new ee([],{});i[dn(s)]=o}return T(T({},r),i)}function eB(t,e){let n={};n[U]=e;for(let r of t)if(r.path===""&&dn(r)!==U){let i=new ee([],{});n[dn(r)]=i}return n}function tB(t,e,n){return n.some(r=>qd(t,e,r)&&dn(r)!==U)}function nB(t,e,n){return n.some(r=>qd(t,e,r))}function qd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function rB(t,e,n,r){return dn(t)!==r&&(r===U||!qd(e,n,t))?!1:M_(e,t,n).matched}function iB(t,e,n){return e.length===0&&!t.children[n]}function sB(t,e,n,r,i,s,o="emptyOnly"){return new D_(t,e,n,r,i,o,s).recognize()}function aB(t){t.sort((e,n)=>e.value.outlet===U?-1:n.value.outlet===U?1:e.value.outlet.localeCompare(n.value.outlet))}function cB(t){let e=t.value.routeConfig;return e&&e.path===""}function GS(t){let e=[],n=new Set;for(let r of t){if(!cB(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=GS(r.children);e.push(new ht(r.value,i))}return e.filter(r=>!n.has(r))}function uB(t){return t.data||{}}function lB(t){return t.resolve||{}}function dB(t,e,n,r,i,s){return Te(o=>sB(t,e,n,r,o.extractedUrl,i,s).pipe(L(({state:a,tree:c})=>te(T({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function hB(t,e){return Te(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return k(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of WS(c))o.add(u);let a=0;return de(o).pipe(Si(c=>s.has(c)?fB(c,r,t,e):(c.data=b_(c,c.parent,t).resolve,k(void 0))),_e(()=>a++),Ri(1),Te(c=>a===o.size?k(n):Ze))})}function WS(t){let e=t.children.map(n=>WS(n)).flat();return[t,...e]}function fB(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!US(i)&&(s[Ha]=i.title),pB(s,t,e,r).pipe(L(o=>(t._resolvedData=o,t.data=b_(t,t.parent,n).resolve,null)))}function pB(t,e,n,r){let i=Xv(t);if(i.length===0)return k({});let s={};return de(i).pipe(Te(o=>gB(t[o],e,n,r).pipe(Ut(),_e(a=>{s[o]=a}))),Ri(1),Ph(s),Sn(o=>qS(o)?Ze:bi(o)))}function gB(t,e,n,r){let i=qa(e)??r,s=Os(t,i),o=s.resolve?s.resolve(e,n):Tr(i,()=>s(e,n));return tr(o)}function Zv(t){return st(e=>{let n=t(e);return n?de(n).pipe(L(()=>e)):k(e)})}function vB(t,e,n,r){return tr(t.loadChildren()).pipe(L(QS),Te(i=>i instanceof so||Array.isArray(i)?k(i):de(e.compileModuleAsync(i))),L(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(x_,[],{optional:!0,self:!0}).flat()),{routes:o.map(R_),injector:s}}))}function _B(t){return t&&typeof t=="object"&&"default"in t}function QS(t){return _B(t)?t.default:t}function DB(t){return t!==Pa}function AB(t,e){t.events.pipe(pt(n=>n instanceof hi||n instanceof er||n instanceof Va||n instanceof fi),L(n=>n instanceof hi||n instanceof fi?Na.COMPLETE:(n instanceof er?n.code===Dt.Redirect||n.code===Dt.SupersededByNewNavigation:!1)?Na.REDIRECTING:Na.FAILED),pt(n=>n!==Na.REDIRECTING),fn(1)).subscribe(()=>{e()})}function SB(t){throw t}function NB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function xB(t){return!(t instanceof La)&&!(t instanceof Ua)}function JS(t,...e){return fu([{provide:x_,multi:!0,useValue:t},[],{provide:xs,useFactory:OB,deps:[ZS]},{provide:Np,multi:!0,useFactory:kB},e.map(n=>n.\u0275providers)])}function OB(t){return t.routerState.root}function kB(){let t=b(vt);return e=>{let n=t.get(xr);if(e!==n.components[0])return;let r=t.get(ZS),i=t.get(FB);t.get(VB)===1&&r.initialNavigation(),t.get(LB,null,$.Optional)?.setUpPreloading(),t.get(PB,null,$.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var U,Ha,Jv,Qj,TS,Xn,ee,li,T_,Od,e2,i2,s2,a2,u2,t_,Fd,Ss,Pa,Le,Ct,Fa,hi,Dt,r_,er,fi,Va,Vd,i_,s_,o_,a_,c_,u_,l_,d_,h_,f_,La,Ua,p_,Hd,Ld,ht,Ud,xs,ja,jd,I2,v_,S_,jS,T2,S2,__,Bd,Rs,Md,$a,$d,I_,w_,E_,oB,D_,KS,mB,N_,x_,yB,P_,IB,wB,EB,CB,C_,TB,YS,bB,Na,RB,MB,ZS,PB,FB,VB,LB,XS=g(()=>{"use strict";Ae();Ae();lr();vo();dr();zp();U="primary",Ha=Symbol("RouteTitle"),Jv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};Qj={exact:bS,subset:AS},TS={exact:Yj,subset:Zj,ignored:()=>!0};Xn=class{constructor(e=new ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){return e2.serialize(this)}},ee=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xd(this)}},li=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ms(this.parameters),this._parameterMap}toString(){return MS(this)}};T_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>new Od,providedIn:"root"});let t=e;return t})(),Od=class{parse(e){let n=new t_(e);return new Xn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ra(e.root,!0)}`,r=r2(e.queryParams),i=typeof e.fragment=="string"?`#${t2(e.fragment)}`:"";return`${n}${r}${i}`}},e2=new Od;i2=/^[^\/()?;#]+/;s2=/^[^\/()?;=#]+/;a2=/^[^=?&#]+/;u2=/^[^&#]+/;t_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[U]=new ee(e,n)),r}parseSegment(){let e=Kv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new li(Pd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=o2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Kv(this.remaining);i&&(r=i,this.capture(r))}e[Pd(n)]=Pd(r)}parseQueryParam(e){let n=c2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=l2(this.remaining);o&&(r=o,this.capture(r))}let i=_S(n),s=_S(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Kv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=U);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[U]:new ee([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};Fd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kd(r[0]))throw new A(4003,!1);let i=r.find(ka);if(i&&i!==CS(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};Ss=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};Pa="imperative",Le=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Le||{}),Ct=class{constructor(e,n){this.id=e,this.url=n}},Fa=class extends Ct{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Le.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hi=class extends Ct{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Le.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Dt||{}),r_=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(r_||{}),er=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Le.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Le.NavigationSkipped}},Va=class extends Ct{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Le.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vd=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Le.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},i_=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Le.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},s_=class extends Ct{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Le.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},o_=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Le.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},a_=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Le.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},c_=class{constructor(e){this.route=e,this.type=Le.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},u_=class{constructor(e){this.route=e,this.type=Le.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},l_=class{constructor(e){this.snapshot=e,this.type=Le.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},d_=class{constructor(e){this.snapshot=e,this.type=Le.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},h_=class{constructor(e){this.snapshot=e,this.type=Le.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},f_=class{constructor(e){this.snapshot=e,this.type=Le.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},La=class{},Ua=class{constructor(e){this.url=e}},p_=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hd,this.attachRef=null}},Hd=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new p_,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ld=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=g_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=g_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=m_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return m_(e,this._root).map(n=>n.value)}};ht=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};Ud=class extends Ld{constructor(e,n){super(e),this.snapshot=n,A_(this,e)}toString(){return this.snapshot.toString()}};xs=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(u=>u[Ha]))??k(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(e=>Ms(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(e=>Ms(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};ja=class{get title(){return this.data?.[Ha]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ms(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},jd=class extends Ld{constructor(e,n){super(n),this.url=e,A_(this,n)}toString(){return LS(this._root)}};I2=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=U,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.parentContexts=b(Hd),this.location=b(Mr),this.changeDetector=b(Fn),this.environmentInjector=b(mt),this.inputBinder=b(S_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new v_(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Cr]});let t=e;return t})(),v_=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===xs?this.route:e===Hd?this.childContexts:this.parent.get(e,n)}},S_=new x("");jS="ngNavigationCancelingError";T2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=lu({type:e,selectors:[["ng-component"]],standalone:!0,features:[Cu],decls:1,vars:0,template:function(i,s){i&1&&qi(0,"router-outlet")},dependencies:[I2],encapsulation:2});let t=e;return t})();S2=(t,e,n,r)=>L(i=>(new __(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),__=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=As(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=As(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=As(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=As(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new f_(s.value.snapshot))}),e.children.length&&this.forwardEvent(new d_(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Yv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Yv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=qa(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Bd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Rs=class{constructor(e,n){this.component=e,this.route=n}};Md=Symbol("INITIAL_VALUE");$a=class{constructor(e){this.segmentGroup=e||null}},$d=class extends Error{constructor(e){super(),this.urlTree=e}};I_=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return k(r);if(i.numberOfChildren>1||!i.children[U])return Q2(e.redirectTo);i=i.children[U]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new $d(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Xn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ee(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},w_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};E_=class{};oB=31,D_=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new I_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=ES(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(n=>{let r=new ja([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,{},U,this.rootComponentType,null,{}),i=new ht(r,n),s=new jd("",i),o=h2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,U).pipe(Sn(r=>{if(r instanceof $d)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $a?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=b_(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(L(s=>s instanceof ht?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return de(i).pipe(Si(s=>{let o=r.children[s],a=A2(n,s);return this.processSegmentGroup(e,a,o,s)}),xc((s,o)=>(s.push(...o),s)),Rn(null),Fh(),Te(s=>{if(s===null)return bs(r);let o=GS(s);return aB(o),k(o)}))}processSegment(e,n,r,i,s,o){return de(n).pipe(Si(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Sn(c=>{if(c instanceof $a)return k(null);throw c}))),Ut(a=>!!a),Sn(a=>{if(qS(a))return iB(r,i,s)?k(new E_):bs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return rB(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):bs(i):bs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=M_(n,i,s);if(!a)return bs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oB&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Te(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=Z2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(st(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(st(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new ja(l,h,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,uB(r),dn(r),r.component??r._loadedComponent??null,r,lB(r)),{segmentGroup:y,slicedSegments:_}=ES(n,l,d,c);if(_.length===0&&y.hasChildren())return this.processChildren(u,c,y).pipe(L(C=>C===null?null:new ht(f,C)));if(c.length===0&&_.length===0)return k(new ht(f,[]));let I=dn(r)===s;return this.processSegment(u,c,y,_,I?U:s,!0).pipe(L(C=>new ht(f,C instanceof ht?[C]:[])))}))):bs(n)))}getChildConfig(e,n,r){return n.children?k({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?k({routes:n._loadedRoutes,injector:n._loadedInjector}):W2(e,n,r,this.urlSerializer).pipe(Te(i=>i?this.configLoader.loadChildren(e,n).pipe(_e(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Y2(n))):k({routes:[],injector:e})}};KS=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===U);return i}getResolvedTitleForRoute(r){return r.data[Ha]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>b(mB),providedIn:"root"});let t=e;return t})(),mB=(()=>{let e=class e extends KS{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(H(_C))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),N_=new x("",{providedIn:"root",factory:()=>({})}),x_=new x(""),yB=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=b(Mp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return k(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=tr(r.loadComponent()).pipe(L(QS),_e(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),qs(()=>{this.componentLoaders.delete(r)})),s=new Ii(i,()=>new Ge).pipe(_i());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return k({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=vB(i,this.compiler,r,this.onLoadEndListener).pipe(qs(()=>{this.childrenLoaders.delete(i)})),a=new Ii(o,()=>new Ge).pipe(_i());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();P_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>b(IB),providedIn:"root"});let t=e;return t})(),IB=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wB=new x(""),EB=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ge,this.transitionAbortSubject=new Ge,this.configLoader=b(yB),this.environmentInjector=b(mt),this.urlSerializer=b(T_),this.rootContexts=b(Hd),this.location=b(yo),this.inputBindingEnabled=b(S_,{optional:!0})!==null,this.titleStrategy=b(KS),this.options=b(N_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=b(P_),this.createViewTransition=b(wB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null;let r=s=>this.events.next(new c_(s)),i=s=>this.events.next(new u_(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(te(T(T({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new xe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pt(o=>o.id!==0),L(o=>te(T({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),st(o=>{this.currentTransition=o;let a=!1,c=!1;return k(o).pipe(_e(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?te(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),st(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new fi(u.id,this.urlSerializer.serialize(u.rawUrl),h,r_.IgnoredSameUrlNavigation)),u.resolve(null),Ze}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return k(u).pipe(st(h=>{let f=this.transitions?.getValue();return this.events.next(new Fa(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Ze:Promise.resolve(h)}),dB(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),_e(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=te(T({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Vd(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:y,restoredState:_,extras:I}=u,C=new Fa(h,this.urlSerializer.serialize(f),y,_);this.events.next(C);let B=VS(this.rootComponentType).snapshot;return this.currentTransition=o=te(T({},u),{targetSnapshot:B,urlAfterRedirects:f,extras:te(T({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,k(o)}else{let h="";return this.events.next(new fi(u.id,this.urlSerializer.serialize(u.extractedUrl),h,r_.IgnoredByUrlHandlingStrategy)),u.resolve(null),Ze}}),_e(u=>{let l=new i_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),L(u=>(this.currentTransition=o=te(T({},u),{guards:R2(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),U2(this.environmentInjector,u=>this.events.next(u)),_e(u=>{if(o.guardsResult=u.guardsResult,Ns(u.guardsResult))throw BS(this.urlSerializer,u.guardsResult);let l=new s_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),pt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Dt.GuardRejected),!1)),Zv(u=>{if(u.guards.canActivateChecks.length)return k(u).pipe(_e(l=>{let d=new o_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),st(l=>{let d=!1;return k(l).pipe(hB(this.paramsInheritanceStrategy,this.environmentInjector),_e({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Dt.NoDataFromResolver)}}))}),_e(l=>{let d=new a_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Zv(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(_e(f=>{d.component=f}),L(()=>{})));for(let f of d.children)h.push(...l(f));return h};return bc(l(u.targetSnapshot.root)).pipe(Rn(null),fn(1))}),Zv(()=>this.afterPreactivation()),st(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?de(d).pipe(L(()=>o)):k(o)}),L(u=>{let l=w2(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=te(T({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),_e(()=>{this.events.next(new La)}),S2(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),fn(1),_e({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Vh(this.transitionAbortSubject.pipe(_e(u=>{throw u}))),qs(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Dt.SupersededByNewNavigation),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Sn(u=>{if(c=!0,HS(u))this.events.next(new er(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),C2(u)?this.events.next(new Ua(u.url)):o.resolve(!1);else{this.events.next(new Va(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Ze}))}))}cancelNavigationTransition(r,i,s){let o=new er(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();CB=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>b(TB),providedIn:"root"});let t=e;return t})(),C_=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},TB=(()=>{let e=class e extends C_{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ho(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>b(bB),providedIn:"root"});let t=e;return t})(),bB=(()=>{let e=class e extends YS{constructor(){super(...arguments),this.location=b(yo),this.urlSerializer=b(T_),this.options=b(N_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=b(P_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Xn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=VS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Fa)this.stateMemento=this.createStateMemento();else if(r instanceof fi)this.rawUrlTree=i.initialUrl;else if(r instanceof Vd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof La?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof er&&(r.code===Dt.GuardRejected||r.code===Dt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Va?this.restoreHistory(i,!0):r instanceof hi&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=T(T({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=T(T({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ho(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Na=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Na||{});RB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ZS=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=b(Tu),this.stateManager=b(YS),this.options=b(N_,{optional:!0})||{},this.pendingTasks=b(Iu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=b(EB),this.urlSerializer=b(T_),this.location=b(yo),this.urlHandlingStrategy=b(P_),this._events=new Ge,this.errorHandler=this.options.errorHandler||SB,this.navigated=!1,this.routeReuseStrategy=b(CB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=b(x_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!b(S_,{optional:!0}),this.eventsSubscription=new ve,this.isNgZoneEnabled=b(oe)instanceof oe&&oe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof er&&i.code!==Dt.Redirect&&i.code!==Dt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof hi)this.navigated=!0;else if(i instanceof Ua){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||DB(s.source)};this.scheduleNavigation(a,Pa,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}xB(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=T({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(R_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=T(T({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=PS(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return OS(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ns(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Pa,null,i)}navigate(r,i={skipLocationChange:!1}){return NB(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=T({},RB):i===!1?s=T({},MB):s=i,Ns(r))return vS(this.currentUrlTree,r,s);let o=this.parseUrl(r);return vS(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return AB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();PB=new x("");FB=new x("",{factory:()=>new Ge}),VB=new x("",{providedIn:"root",factory:()=>1}),LB=new x("")});var eR,tR=g(()=>{"use strict";eR=[]});var nR,rR=g(()=>{"use strict";Ae();XS();tR();Eg();_d();nR={providers:[JS(eR),pu(QC(()=>YC({projectId:"edukoshka",appId:"1:414666822895:web:58499a7e3c6ff9f489f71a",databaseURL:"https://edukoshka-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"edukoshka.appspot.com",apiKey:"AIzaSyDS3PSpgDYJyEdpj7hawnmWuZSUVdf59Rs",authDomain:"edukoshka.firebaseapp.com",messagingSenderId:"414666822895"}))),pu(xA(()=>kA()))]}});var UB=lR(iR=>{zp();wC();yS();rR();p(iR,null,function*(){let t=yield vC(nR),e=IC(mS,{injector:t.injector});customElements.define("chat-app",e)})});export default UB();
